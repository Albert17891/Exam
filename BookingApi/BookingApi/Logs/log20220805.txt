2022-08-05 15:33:41.132 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-05 15:33:41.264 +04:00 [DBG] Hosting starting
2022-08-05 15:33:41.285 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-05 15:33:41.290 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-05 15:33:41.297 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-05 15:33:41.306 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-05 15:33:41.311 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-05 15:33:41.321 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-05 15:33:41.324 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-05 15:33:41.328 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-05 15:33:41.330 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-05 15:33:41.337 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-05 15:33:41.341 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-05 15:33:41.346 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-05 15:33:41.348 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-05 15:33:41.455 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-05 15:33:41.497 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-05 15:33:41.499 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-05 15:33:41.500 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-05 15:33:41.502 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-05 15:33:41.503 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-05 15:33:41.505 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-05 15:33:41.506 +04:00 [INF] Hosting environment: Development
2022-08-05 15:33:41.507 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-05 15:33:41.509 +04:00 [DBG] Hosting started
2022-08-05 15:33:41.827 +04:00 [DBG] Connection id "0HMJMQPCJF4SJ" received FIN.
2022-08-05 15:33:41.828 +04:00 [DBG] Connection id "0HMJMQPCJF4SI" accepted.
2022-08-05 15:33:41.829 +04:00 [DBG] Connection id "0HMJMQPCJF4SI" received FIN.
2022-08-05 15:33:41.832 +04:00 [DBG] Connection id "0HMJMQPCJF4SJ" accepted.
2022-08-05 15:33:41.833 +04:00 [DBG] Connection id "0HMJMQPCJF4SI" started.
2022-08-05 15:33:41.836 +04:00 [DBG] Connection id "0HMJMQPCJF4SJ" started.
2022-08-05 15:33:41.862 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-05 15:33:41.862 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-05 15:33:41.904 +04:00 [DBG] Connection id "0HMJMQPCJF4SJ" stopped.
2022-08-05 15:33:41.904 +04:00 [DBG] Connection id "0HMJMQPCJF4SI" stopped.
2022-08-05 15:33:41.907 +04:00 [DBG] Connection id "0HMJMQPCJF4SJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-05 15:33:41.907 +04:00 [DBG] Connection id "0HMJMQPCJF4SI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-05 15:33:42.381 +04:00 [DBG] Connection id "0HMJMQPCJF4SK" accepted.
2022-08-05 15:33:42.384 +04:00 [DBG] Connection id "0HMJMQPCJF4SK" started.
2022-08-05 15:33:42.475 +04:00 [DBG] Connection 0HMJMQPCJF4SK established using the following protocol: "Tls12"
2022-08-05 15:33:42.550 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-05 15:33:42.586 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-05 15:33:42.693 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-05 15:33:42.885 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/swagger-ui-standalone-preset.js - -
2022-08-05 15:33:42.885 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/swagger-ui.css - -
2022-08-05 15:33:42.885 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-05 15:33:42.885 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/swagger-ui-bundle.js - -
2022-08-05 15:33:42.888 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-05 15:33:42.896 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 9.2626ms
2022-08-05 15:33:42.896 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 351.7342ms
2022-08-05 15:33:42.898 +04:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2022-08-05 15:33:42.898 +04:00 [INF] The file /swagger-ui.css was not modified
2022-08-05 15:33:42.898 +04:00 [INF] The file /swagger-ui-bundle.js was not modified
2022-08-05 15:33:42.907 +04:00 [DBG] Handled. Status code: 304 File: /swagger-ui.css
2022-08-05 15:33:42.907 +04:00 [DBG] Handled. Status code: 304 File: /swagger-ui-bundle.js
2022-08-05 15:33:42.907 +04:00 [DBG] Handled. Status code: 304 File: /swagger-ui-standalone-preset.js
2022-08-05 15:33:42.910 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/swagger-ui.css - - - 304 - text/css 24.5013ms
2022-08-05 15:33:42.912 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/swagger-ui-bundle.js - - - 304 - application/javascript 26.4508ms
2022-08-05 15:33:42.914 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/swagger-ui-standalone-preset.js - - - 304 - application/javascript 28.9294ms
2022-08-05 15:33:42.986 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-05 15:33:43.071 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 85.2276ms
2022-08-05 15:33:43.193 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/favicon-32x32.png - -
2022-08-05 15:33:43.194 +04:00 [INF] The file /favicon-32x32.png was not modified
2022-08-05 15:33:43.195 +04:00 [DBG] Handled. Status code: 304 File: /favicon-32x32.png
2022-08-05 15:33:43.199 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/favicon-32x32.png - - - 304 - image/png 6.5743ms
2022-08-05 15:33:43.410 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-05 15:33:43.543 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.7380ms
2022-08-05 15:35:55.668 +04:00 [DBG] Connection id "0HMJMQPCJF4SK" is closing.
2022-08-05 15:35:55.674 +04:00 [DBG] Connection id "0HMJMQPCJF4SK" is closed. The last processed stream ID was 15.
2022-08-05 15:35:55.678 +04:00 [DBG] Connection id "0HMJMQPCJF4SK" received FIN.
2022-08-05 15:35:55.688 +04:00 [DBG] Connection id "0HMJMQPCJF4SK" sending FIN because: "The client closed the connection."
2022-08-05 15:35:55.691 +04:00 [DBG] Connection id "0HMJMQPCJF4SK" stopped.
2022-08-05 15:36:27.207 +04:00 [DBG] Connection id "0HMJMQPCJF4SL" accepted.
2022-08-05 15:36:27.222 +04:00 [DBG] Connection id "0HMJMQPCJF4SL" started.
2022-08-05 15:36:27.241 +04:00 [DBG] Connection 0HMJMQPCJF4SL established using the following protocol: "Tls12"
2022-08-05 15:37:58.677 +04:00 [DBG] Connection id "0HMJMQPCJF4SM" accepted.
2022-08-05 15:37:58.677 +04:00 [DBG] Connection id "0HMJMQPCJF4SL" received FIN.
2022-08-05 15:37:58.681 +04:00 [DBG] Connection id "0HMJMQPCJF4SM" started.
2022-08-05 15:37:58.683 +04:00 [DBG] Connection id "0HMJMQPCJF4SL" is closed. The last processed stream ID was 0.
2022-08-05 15:37:58.686 +04:00 [DBG] Connection id "0HMJMQPCJF4SL" sending FIN because: "The client closed the connection."
2022-08-05 15:37:58.692 +04:00 [DBG] Connection 0HMJMQPCJF4SM established using the following protocol: "Tls12"
2022-08-05 15:37:58.694 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Register - -
2022-08-05 15:37:58.695 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:37:58.697 +04:00 [DBG] Connection id "0HMJMQPCJF4SL" stopped.
2022-08-05 15:37:58.697 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:37:58.728 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-05 15:37:58.733 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-05 15:37:58.736 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-05 15:37:58.738 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:37:58.740 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:37:58.742 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:37:58.744 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Register - - - 204 - - 49.5946ms
2022-08-05 15:37:58.747 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Register application/json 91
2022-08-05 15:37:58.748 +04:00 [DBG] POST requests are not supported
2022-08-05 15:37:58.749 +04:00 [DBG] POST requests are not supported
2022-08-05 15:37:58.752 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-05 15:37:58.754 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-05 15:37:58.756 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-05 15:37:58.758 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:37:58.758 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:37:58.804 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 15:37:58.808 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-05 15:37:58.852 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingApi.Models.Request.AccountRegisterRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 15:37:58.856 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:37:58.858 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:37:58.860 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:37:58.862 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:37:58.864 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:37:58.868 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:37:59.056 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-05 15:38:00.129 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:38:00.136 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:38:00.149 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-05 15:38:00.155 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' using the name '' in request data ...
2022-08-05 15:38:00.159 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:38:00.166 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:00000003": started reading request body.
2022-08-05 15:38:00.168 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:00000003": done reading request body.
2022-08-05 15:38:00.175 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountRegisterRequest'
2022-08-05 15:38:00.178 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-05 15:38:00.180 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-05 15:38:00.181 +04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-05 15:38:00.212 +04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-05 15:38:00.413 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'UserId.Profile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:38:00.492 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:38:00.498 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-05 15:38:00.505 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-05 15:38:00.517 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-05 15:38:00.597 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:00.905 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:00.910 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-05 15:38:00.926 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-05 15:38:01.007 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:38:01.013 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2022-08-05 15:38:01.039 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-05 15:38:01.111 +04:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-05 15:38:01.150 +04:00 [DBG] The foreign key property 'Profile.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-05 15:38:01.165 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:38:01.171 +04:00 [DBG] Committing transaction.
2022-08-05 15:38:01.178 +04:00 [DBG] Committed transaction.
2022-08-05 15:38:01.181 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:01.188 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:01.191 +04:00 [DBG] Disposing transaction.
2022-08-05 15:38:01.206 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:38:01.210 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-05 15:38:01.219 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-05 15:38:01.226 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Register (BookingApi) in 2354.6433ms
2022-08-05 15:38:01.228 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-05 15:38:01.233 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:38:01.237 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Register application/json 91 - 200 0 - 2490.5096ms
2022-08-05 15:38:17.364 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:38:17.366 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:38:17.367 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:38:17.369 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:38:17.370 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:38:17.380 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:38:17.383 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:38:17.384 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:38:17.386 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:38:17.387 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 23.1484ms
2022-08-05 15:38:17.390 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 47
2022-08-05 15:38:17.392 +04:00 [DBG] POST requests are not supported
2022-08-05 15:38:17.393 +04:00 [DBG] POST requests are not supported
2022-08-05 15:38:17.394 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:38:17.396 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:38:17.399 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:38:17.400 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:38:17.402 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:38:17.403 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 15:38:17.405 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:38:17.412 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 15:38:17.415 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:38:17.418 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:38:17.420 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:38:17.422 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:38:17.425 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:38:17.427 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:38:17.491 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:38:17.493 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:38:17.496 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:38:17.498 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-05 15:38:17.500 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:38:17.503 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:00000007": started reading request body.
2022-08-05 15:38:17.504 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:00000007": done reading request body.
2022-08-05 15:38:17.508 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-05 15:38:17.509 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:38:17.511 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:38:17.513 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:38:17.516 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:38:17.623 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-05 15:38:17.860 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-05 15:38:17.919 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:38:17.921 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:38:17.923 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:17.925 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:17.927 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:38:17.935 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:38:17.952 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:38:17.957 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:38:17.958 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:17.959 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.103 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:38:18.109 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:38:18.110 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:38:18.111 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:38:18.113 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:38:18.115 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-05 15:38:18.121 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 693.6641ms
2022-08-05 15:38:18.123 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:38:18.125 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:38:18.128 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 47 - 200 - application/json;+charset=utf-8 738.1769ms
2022-08-05 15:38:18.132 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1009 - -
2022-08-05 15:38:18.133 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:38:18.134 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:38:18.136 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1009'
2022-08-05 15:38:18.137 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1009'
2022-08-05 15:38:18.140 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:38:18.142 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:38:18.145 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:38:18.146 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:38:18.147 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1009 - - - 204 - - 15.5813ms
2022-08-05 15:38:18.149 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1009 application/json -
2022-08-05 15:38:18.150 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:38:18.152 +04:00 [DBG] The request path /Profile/1009 does not match a supported file type
2022-08-05 15:38:18.154 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1009'
2022-08-05 15:38:18.156 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1009'
2022-08-05 15:38:18.158 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:38:18.160 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:38:18.161 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:38:18.244 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:38:18.247 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:38:18.253 +04:00 [DBG] Authorization was successful.
2022-08-05 15:38:18.255 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:38:18.260 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:38:18.263 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:38:18.264 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:38:18.267 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:38:18.270 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:38:18.272 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:38:18.274 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:38:18.291 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:38:18.298 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:38:18.300 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:38:18.302 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:38:18.304 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:38:18.306 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:38:18.308 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:38:18.310 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:38:18.324 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Where(x => x.UserId == __userId_0)
    .Include(x => x.Apartment)
    .Include(x => x.Order)
    .SingleOrDefault()'
2022-08-05 15:38:18.343 +04:00 [DBG] Including navigation: 'Profile.Apartment'.
2022-08-05 15:38:18.346 +04:00 [DBG] Including navigation: 'Profile.Order'.
2022-08-05 15:38:18.487 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
                1 -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Apartment.Address (string) Required, 8], [Property: Apartment.City (string), 9], [Property: Apartment.Description (string), 10], [Property: Apartment.DistanceToCenter (int) Required, 11], [Property: Apartment.From (DateTime) Required, 12], [Property: Apartment.HostId (int) Required FK Index, 13], [Property: Apartment.IsAvailable (bool) Required, 14], [Property: Apartment.NumbOfBeds (int) Required, 15], [Property: Apartment.Photo (string), 16], [Property: Apartment.To (DateTime) Required, 17] }
                2 -> 0
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: Order.City (string) Required, 19], [Property: Order.CustomerId (int) Required, 20], [Property: Order.FirstName (string) Required, 21], [Property: Order.From (DateTime) Required, 22], [Property: Order.HostId (int) Required FK Index, 23], [Property: Order.LastName (string) Required, 24], [Property: Order.Status (int?), 25], [Property: Order.To (DateTime) Required, 26] }
                5 -> 18
            SELECT t.UserId, t.Description, t.Email, t.FirstName, t.LastName, t.Password, t.Photo, t.Id, t.Address, t.City, t.Description0, t.DistanceToCenter, t.From, t.HostId, t.IsAvailable, t.NumbOfBeds, t.Photo0, t.To, o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
            FROM 
            (
                SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo, a.Id, a.Address, a.City, a.Description AS Description0, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo AS Photo0, a.To
                FROM Profile AS p
                LEFT JOIN Apartments AS a ON p.UserId == a.HostId
                WHERE p.UserId == @__userId_0
            ) AS t
            LEFT JOIN Orders AS o ON t.UserId == o.HostId
            ORDER BY t.UserId ASC, t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-05 15:38:18.497 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:38:18.498 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:38:18.499 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.501 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.503 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:38:18.514 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:38:18.520 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:38:18.530 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:38:18.531 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.533 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.543 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-05 15:38:18.551 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-05 15:38:18.557 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:38:18.558 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:38:18.559 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.561 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.562 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:38:18.568 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:38:18.571 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:38:18.572 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.574 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.617 +04:00 [INF] Get Profile
2022-08-05 15:38:18.637 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:38:18.640 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:38:18.641 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:38:18.642 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:38:18.643 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:38:18.645 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:38:18.651 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 377.5393ms
2022-08-05 15:38:18.653 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:38:18.655 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:38:18.657 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1009 application/json - - 200 - application/json;+charset=utf-8 507.5422ms
2022-08-05 15:38:18.661 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1009 - -
2022-08-05 15:38:18.662 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1009 - -
2022-08-05 15:38:18.662 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:38:18.663 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:38:18.664 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:38:18.666 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:38:18.667 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1009'
2022-08-05 15:38:18.669 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1009'
2022-08-05 15:38:18.673 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1009'
2022-08-05 15:38:18.670 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1009'
2022-08-05 15:38:18.681 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:38:18.683 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:38:18.685 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:38:18.687 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:38:18.688 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:38:18.690 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:38:18.695 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:38:18.691 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:38:18.697 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1009 - - - 204 - - 36.3042ms
2022-08-05 15:38:18.698 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1009 - - - 204 - - 36.6677ms
2022-08-05 15:38:18.700 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1009 - -
2022-08-05 15:38:18.700 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1009 application/json -
2022-08-05 15:38:18.703 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:38:18.704 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:38:18.705 +04:00 [DBG] The request path /Guest/1009 does not match a supported file type
2022-08-05 15:38:18.707 +04:00 [DBG] The request path /Booking/1009 does not match a supported file type
2022-08-05 15:38:18.709 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1009'
2022-08-05 15:38:18.711 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1009'
2022-08-05 15:38:18.713 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1009'
2022-08-05 15:38:18.714 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1009'
2022-08-05 15:38:18.717 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:38:18.719 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:38:18.720 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:38:18.722 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:38:18.724 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:38:18.726 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:38:18.728 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:38:18.729 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:38:18.729 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:38:18.730 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:38:18.732 +04:00 [DBG] Authorization was successful.
2022-08-05 15:38:18.734 +04:00 [DBG] Authorization was successful.
2022-08-05 15:38:18.734 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:38:18.736 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:38:18.745 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:38:18.747 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:38:18.747 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:38:18.751 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:38:18.756 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:38:18.753 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:38:18.760 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:38:18.765 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:38:18.767 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:38:18.762 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:38:18.770 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:38:18.776 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:38:18.779 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:38:18.780 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:38:18.783 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:38:18.787 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:38:18.789 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:38:18.793 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:38:18.794 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:38:18.797 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:38:18.800 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:38:18.802 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:38:18.803 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:38:18.808 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:38:18.809 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:38:18.812 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:38:18.814 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:38:18.817 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:38:18.821 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:38:18.823 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:38:18.826 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:38:18.828 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:38:18.829 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.HostId == __hostId_0)'
2022-08-05 15:38:18.830 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.835 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.837 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:38:18.837 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.HostId == @__hostId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-05 15:38:18.842 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:38:18.846 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:38:18.849 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:38:18.851 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2022-08-05 15:38:18.852 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.853 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.855 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.857 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.860 +04:00 [INF] GetBookings successfully
2022-08-05 15:38:18.861 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:38:18.870 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:38:18.874 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:38:18.878 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:38:18.881 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:38:18.882 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.884 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:38:18.886 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:38:18.889 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:38:18.892 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:38:18.895 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:38:18.895 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:38:18.898 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 127.9613ms
2022-08-05 15:38:18.901 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:38:18.902 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:38:18.903 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:38:18.906 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:38:18.909 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:38:18.911 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1009 application/json - - 200 - application/json;+charset=utf-8 210.6080ms
2022-08-05 15:38:18.912 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:38:18.916 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:38:18.919 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 132.1332ms
2022-08-05 15:38:18.920 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:38:18.923 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:38:18.926 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1009 - - - 200 - application/json;+charset=utf-8 225.8066ms
2022-08-05 15:39:54.501 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/UpdateUser - -
2022-08-05 15:39:54.502 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:39:54.503 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:39:54.505 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/UpdateUser'
2022-08-05 15:39:54.506 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)' with route pattern 'Profile/UpdateUser' is valid for the request path '/Profile/UpdateUser'
2022-08-05 15:39:54.509 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:39:54.511 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:39:54.512 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:39:54.515 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:39:54.516 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/UpdateUser - - - 204 - - 15.2285ms
2022-08-05 15:39:54.522 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Profile/UpdateUser application/json 798726
2022-08-05 15:39:54.523 +04:00 [DBG] POST requests are not supported
2022-08-05 15:39:54.524 +04:00 [DBG] POST requests are not supported
2022-08-05 15:39:54.525 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/UpdateUser'
2022-08-05 15:39:54.527 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)' with route pattern 'Profile/UpdateUser' is valid for the request path '/Profile/UpdateUser'
2022-08-05 15:39:54.529 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:39:54.531 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:39:54.532 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:39:54.533 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:39:54.534 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:39:54.536 +04:00 [DBG] Authorization was successful.
2022-08-05 15:39:54.537 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:39:54.545 +04:00 [INF] Route matched with {action = "UpdateUser", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(BookingApi.Models.Request.ProfileRequest) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:39:54.548 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:39:54.550 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:39:54.552 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:39:54.554 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:39:54.556 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:39:54.558 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:39:54.560 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:39:54.563 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:39:54.565 +04:00 [DBG] Attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' ...
2022-08-05 15:39:54.566 +04:00 [DBG] Attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' using the name '' in request data ...
2022-08-05 15:39:54.568 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:39:54.571 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:00000017": started reading request body.
2022-08-05 15:39:54.591 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:00000017": done reading request body.
2022-08-05 15:39:54.595 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.ProfileRequest'
2022-08-05 15:39:54.597 +04:00 [DBG] Done attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 15:39:54.599 +04:00 [DBG] Done attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 15:39:54.600 +04:00 [DBG] Attempting to validate the bound parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' ...
2022-08-05 15:39:54.603 +04:00 [DBG] Done attempting to validate the bound parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 15:39:54.614 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.UserId == __profile_UserId_0)'
2022-08-05 15:39:54.620 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE p.UserId == @__profile_UserId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-05 15:39:54.623 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:39:54.624 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:39:54.626 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:39:54.628 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:39:54.629 +04:00 [DBG] Executing DbCommand [Parameters=[@__profile_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE [p].[UserId] = @__profile_UserId_0
2022-08-05 15:39:54.635 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__profile_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE [p].[UserId] = @__profile_UserId_0
2022-08-05 15:39:54.638 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:39:54.639 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:39:54.641 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:39:54.642 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:39:54.645 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:39:54.648 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-05 15:39:54.650 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-05 15:39:54.651 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-05 15:39:54.652 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:39:54.654 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:39:54.655 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-05 15:39:54.657 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-05 15:39:54.666 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:39:54.667 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:39:54.669 +04:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = -1) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Profile] SET [Description] = @p0, [Email] = @p1, [FirstName] = @p2, [LastName] = @p3, [Password] = @p4, [Photo] = @p5
WHERE [UserId] = @p6;
SELECT @@ROWCOUNT;
2022-08-05 15:39:54.706 +04:00 [INF] Executed DbCommand (37ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = -1) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Profile] SET [Description] = @p0, [Email] = @p1, [FirstName] = @p2, [LastName] = @p3, [Password] = @p4, [Photo] = @p5
WHERE [UserId] = @p6;
SELECT @@ROWCOUNT;
2022-08-05 15:39:54.713 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:39:54.714 +04:00 [DBG] Committing transaction.
2022-08-05 15:39:54.716 +04:00 [DBG] Committed transaction.
2022-08-05 15:39:54.717 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:39:54.719 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:39:54.721 +04:00 [DBG] Disposing transaction.
2022-08-05 15:39:54.722 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:39:54.723 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-05 15:39:54.725 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-05 15:39:54.726 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.UpdateUser (BookingApi) in 168.3131ms
2022-08-05 15:39:54.728 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:39:54.729 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:39:54.730 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Profile/UpdateUser application/json 798726 - 200 0 - 208.4988ms
2022-08-05 15:40:53.185 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/UpdateUser - -
2022-08-05 15:40:53.188 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:40:53.192 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:40:53.195 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/UpdateUser'
2022-08-05 15:40:53.197 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)' with route pattern 'Profile/UpdateUser' is valid for the request path '/Profile/UpdateUser'
2022-08-05 15:40:53.200 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:40:53.202 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:40:53.205 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:40:53.206 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:40:53.208 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/UpdateUser - - - 204 - - 22.9712ms
2022-08-05 15:40:53.213 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Profile/UpdateUser application/json 798726
2022-08-05 15:40:53.214 +04:00 [DBG] POST requests are not supported
2022-08-05 15:40:53.216 +04:00 [DBG] POST requests are not supported
2022-08-05 15:40:53.218 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/UpdateUser'
2022-08-05 15:40:53.220 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)' with route pattern 'Profile/UpdateUser' is valid for the request path '/Profile/UpdateUser'
2022-08-05 15:40:53.223 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:40:53.225 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:40:53.227 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:40:53.228 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:40:53.230 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:40:53.232 +04:00 [DBG] Authorization was successful.
2022-08-05 15:40:53.234 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:40:53.238 +04:00 [INF] Route matched with {action = "UpdateUser", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(BookingApi.Models.Request.ProfileRequest) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:40:53.242 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:40:53.245 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:40:53.247 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:40:53.251 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:40:53.254 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:40:53.257 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:40:53.260 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:40:53.264 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:40:53.266 +04:00 [DBG] Attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' ...
2022-08-05 15:40:53.268 +04:00 [DBG] Attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' using the name '' in request data ...
2022-08-05 15:40:53.271 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:40:53.273 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:0000001B": started reading request body.
2022-08-05 15:40:53.281 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:0000001B": done reading request body.
2022-08-05 15:40:53.285 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.ProfileRequest'
2022-08-05 15:40:53.287 +04:00 [DBG] Done attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 15:40:53.289 +04:00 [DBG] Done attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 15:40:53.291 +04:00 [DBG] Attempting to validate the bound parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' ...
2022-08-05 15:40:53.294 +04:00 [DBG] Done attempting to validate the bound parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 15:40:53.296 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:40:53.298 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:40:53.300 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:40:53.302 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:40:53.304 +04:00 [DBG] Executing DbCommand [Parameters=[@__profile_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE [p].[UserId] = @__profile_UserId_0
2022-08-05 15:40:53.309 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__profile_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE [p].[UserId] = @__profile_UserId_0
2022-08-05 15:40:53.329 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:40:53.332 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:40:53.333 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:40:53.335 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:40:53.336 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:40:53.338 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-05 15:40:53.340 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-05 15:40:53.341 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-05 15:40:53.342 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:40:53.344 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:40:53.345 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-05 15:40:53.347 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-05 15:40:53.348 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:40:53.349 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-05 15:40:53.350 +04:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = -1) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Profile] SET [Description] = @p0, [Email] = @p1, [FirstName] = @p2, [LastName] = @p3, [Password] = @p4, [Photo] = @p5
WHERE [UserId] = @p6;
SELECT @@ROWCOUNT;
2022-08-05 15:40:53.383 +04:00 [INF] Executed DbCommand (32ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = -1) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Profile] SET [Description] = @p0, [Email] = @p1, [FirstName] = @p2, [LastName] = @p3, [Password] = @p4, [Photo] = @p5
WHERE [UserId] = @p6;
SELECT @@ROWCOUNT;
2022-08-05 15:40:53.387 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:40:53.388 +04:00 [DBG] Committing transaction.
2022-08-05 15:40:53.389 +04:00 [DBG] Committed transaction.
2022-08-05 15:40:53.390 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:40:53.392 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:40:53.393 +04:00 [DBG] Disposing transaction.
2022-08-05 15:40:53.394 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:40:53.396 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-05 15:40:53.398 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-05 15:40:53.399 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.UpdateUser (BookingApi) in 142.4381ms
2022-08-05 15:40:53.401 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:40:53.402 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:40:53.404 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Profile/UpdateUser application/json 798726 - 200 0 - 191.4644ms
2022-08-05 15:41:10.997 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/AddApartment - -
2022-08-05 15:41:10.998 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:41:11.000 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:41:11.001 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/AddApartment'
2022-08-05 15:41:11.003 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)' with route pattern 'Profile/AddApartment' is valid for the request path '/Profile/AddApartment'
2022-08-05 15:41:11.005 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-05 15:41:11.007 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:41:11.009 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:41:11.011 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:41:11.012 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/AddApartment - - - 204 - - 15.3752ms
2022-08-05 15:41:11.014 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Profile/AddApartment application/json 242
2022-08-05 15:41:11.015 +04:00 [DBG] POST requests are not supported
2022-08-05 15:41:11.016 +04:00 [DBG] POST requests are not supported
2022-08-05 15:41:11.018 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/AddApartment'
2022-08-05 15:41:11.019 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)' with route pattern 'Profile/AddApartment' is valid for the request path '/Profile/AddApartment'
2022-08-05 15:41:11.021 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-05 15:41:11.023 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:41:11.024 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:41:11.025 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:41:11.026 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:41:11.028 +04:00 [DBG] Authorization was successful.
2022-08-05 15:41:11.029 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-05 15:41:11.034 +04:00 [INF] Route matched with {action = "AddApartment", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddApartment(BookingApi.Models.Request.ApartmentRequest) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:41:11.047 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:41:11.049 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:41:11.050 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:41:11.054 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:41:11.056 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:41:11.058 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:41:11.061 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:41:11.063 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:41:11.065 +04:00 [DBG] Attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' ...
2022-08-05 15:41:11.066 +04:00 [DBG] Attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' using the name '' in request data ...
2022-08-05 15:41:11.068 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:41:11.071 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:0000001F": started reading request body.
2022-08-05 15:41:11.073 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:0000001F": done reading request body.
2022-08-05 15:41:11.078 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.ApartmentRequest'
2022-08-05 15:41:11.080 +04:00 [DBG] Done attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-05 15:41:11.082 +04:00 [DBG] Done attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-05 15:41:11.083 +04:00 [DBG] Attempting to validate the bound parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' ...
2022-08-05 15:41:11.147 +04:00 [DBG] Done attempting to validate the bound parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-05 15:41:11.163 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'Id.Apartment'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:41:11.188 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:41:11.191 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-05 15:41:11.193 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-05 15:41:11.200 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-05 15:41:11.202 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:11.204 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:11.205 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-05 15:41:11.207 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-05 15:41:11.211 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:41:11.212 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:41:11.214 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartments] ([Address], [City], [Description], [DistanceToCenter], [From], [HostId], [IsAvailable], [NumbOfBeds], [Photo], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [Id]
FROM [Apartments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-05 15:41:11.234 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartments] ([Address], [City], [Description], [DistanceToCenter], [From], [HostId], [IsAvailable], [NumbOfBeds], [Photo], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [Id]
FROM [Apartments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-05 15:41:11.241 +04:00 [DBG] The foreign key property 'Apartment.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-05 15:41:11.244 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:41:11.245 +04:00 [DBG] Committing transaction.
2022-08-05 15:41:11.247 +04:00 [DBG] Committed transaction.
2022-08-05 15:41:11.248 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:11.249 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:11.251 +04:00 [DBG] Disposing transaction.
2022-08-05 15:41:11.253 +04:00 [DBG] An entity of type 'Apartment' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:41:11.256 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-05 15:41:11.257 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-05 15:41:11.259 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.AddApartment (BookingApi) in 200.9556ms
2022-08-05 15:41:11.260 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-05 15:41:11.261 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:41:11.263 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Profile/AddApartment application/json 242 - 200 0 - 248.6436ms
2022-08-05 15:41:30.844 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Search - -
2022-08-05 15:41:30.849 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:41:30.854 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:41:30.858 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-05 15:41:30.863 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-05 15:41:30.867 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:41:30.869 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:41:30.870 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:41:30.872 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:41:30.874 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Search - - - 204 - - 29.9609ms
2022-08-05 15:41:30.878 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Search application/json 84
2022-08-05 15:41:30.880 +04:00 [DBG] POST requests are not supported
2022-08-05 15:41:30.882 +04:00 [DBG] POST requests are not supported
2022-08-05 15:41:30.883 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-05 15:41:30.884 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-05 15:41:30.886 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:41:30.887 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:41:30.888 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:41:30.890 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:41:30.892 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:41:30.894 +04:00 [DBG] Authorization was successful.
2022-08-05 15:41:30.895 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:41:30.900 +04:00 [INF] Route matched with {action = "GetApartment", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApartment(BookingApi.Models.Request.SearchRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-05 15:41:30.902 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:41:30.904 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:41:30.906 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:41:30.909 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:41:30.911 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:41:30.913 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-05 15:41:30.916 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:41:30.919 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-05 15:41:30.920 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-05 15:41:30.922 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' using the name '' in request data ...
2022-08-05 15:41:30.925 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:41:30.928 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:00000023": started reading request body.
2022-08-05 15:41:30.929 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:00000023": done reading request body.
2022-08-05 15:41:30.931 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.SearchRequest'
2022-08-05 15:41:30.932 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-05 15:41:30.934 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-05 15:41:30.935 +04:00 [DBG] Attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-05 15:41:30.938 +04:00 [DBG] Done attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-05 15:41:30.946 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.City == __city_0)'
2022-08-05 15:41:30.971 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Apartment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
        SELECT a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
        FROM Apartments AS a
        WHERE a.City == @__city_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-05 15:41:30.978 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:41:30.980 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:41:30.981 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:30.983 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:30.984 +04:00 [DBG] Executing DbCommand [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-05 15:41:30.993 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-05 15:41:30.997 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:41:30.998 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:31.000 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:31.009 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:41:31.013 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:41:31.014 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:41:31.016 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:41:31.017 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:41:31.019 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.ApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:41:31.022 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.GetApartment (BookingApi) in 108.8294ms
2022-08-05 15:41:31.024 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:41:31.026 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:41:31.027 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Search application/json 84 - 200 - application/json;+charset=utf-8 149.3308ms
2022-08-05 15:41:53.259 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Search - -
2022-08-05 15:41:53.261 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:41:53.262 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:41:53.263 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-05 15:41:53.264 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-05 15:41:53.266 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:41:53.267 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:41:53.269 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:41:53.270 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:41:53.271 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Search - - - 204 - - 12.1954ms
2022-08-05 15:41:53.274 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Search application/json 89
2022-08-05 15:41:53.276 +04:00 [DBG] POST requests are not supported
2022-08-05 15:41:53.277 +04:00 [DBG] POST requests are not supported
2022-08-05 15:41:53.279 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-05 15:41:53.280 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-05 15:41:53.281 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:41:53.283 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:41:53.284 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:41:53.285 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:41:53.286 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:41:53.287 +04:00 [DBG] Authorization was successful.
2022-08-05 15:41:53.288 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:41:53.290 +04:00 [INF] Route matched with {action = "GetApartment", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApartment(BookingApi.Models.Request.SearchRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-05 15:41:53.292 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:41:53.294 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:41:53.295 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:41:53.298 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:41:53.299 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:41:53.301 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-05 15:41:53.303 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:41:53.305 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-05 15:41:53.307 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-05 15:41:53.308 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' using the name '' in request data ...
2022-08-05 15:41:53.310 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:41:53.312 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:00000027": started reading request body.
2022-08-05 15:41:53.313 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:00000027": done reading request body.
2022-08-05 15:41:53.315 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.SearchRequest'
2022-08-05 15:41:53.316 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-05 15:41:53.318 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-05 15:41:53.319 +04:00 [DBG] Attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-05 15:41:53.321 +04:00 [DBG] Done attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-05 15:41:53.324 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:41:53.325 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:41:53.326 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:53.328 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:53.329 +04:00 [DBG] Executing DbCommand [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-05 15:41:53.332 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-05 15:41:53.337 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:41:53.339 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:41:53.340 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:53.342 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:41:53.344 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:41:53.348 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:41:53.349 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:41:53.350 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:41:53.351 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:41:53.353 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.ApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:41:53.359 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.GetApartment (BookingApi) in 57.7698ms
2022-08-05 15:41:53.360 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:41:53.361 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:41:53.363 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Search application/json 89 - 200 - application/json;+charset=utf-8 89.5190ms
2022-08-05 15:42:50.932 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:42:50.934 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:42:50.936 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:42:50.937 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:42:50.939 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:42:50.942 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:42:50.947 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:42:50.949 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:42:50.950 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:42:50.952 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 19.6745ms
2022-08-05 15:42:50.955 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 45
2022-08-05 15:42:50.956 +04:00 [DBG] POST requests are not supported
2022-08-05 15:42:50.958 +04:00 [DBG] POST requests are not supported
2022-08-05 15:42:50.959 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:42:50.961 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:42:50.963 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:42:50.964 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:42:50.966 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:42:50.967 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 15:42:50.968 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:42:50.970 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 15:42:50.972 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:42:50.974 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:42:50.975 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:42:50.978 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:42:50.980 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:42:50.982 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:42:50.984 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:42:50.986 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:42:50.988 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:42:50.989 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-05 15:42:50.991 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:42:50.992 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:0000002B": started reading request body.
2022-08-05 15:42:50.994 +04:00 [DBG] Connection id "0HMJMQPCJF4SM", Request id "0HMJMQPCJF4SM:0000002B": done reading request body.
2022-08-05 15:42:50.995 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-05 15:42:50.996 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:42:50.998 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:42:50.999 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:42:51.001 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:42:51.003 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:42:51.004 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:42:51.006 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.008 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.009 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:42:51.015 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:42:51.019 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:42:51.021 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:42:51.021 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.023 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.025 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:42:51.028 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:42:51.029 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:42:51.031 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:42:51.032 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:42:51.034 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-05 15:42:51.035 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 53.6171ms
2022-08-05 15:42:51.037 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:42:51.038 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:42:51.040 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 45 - 200 - application/json;+charset=utf-8 85.0162ms
2022-08-05 15:42:51.046 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1005 - -
2022-08-05 15:42:51.047 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:42:51.048 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:42:51.049 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1005'
2022-08-05 15:42:51.051 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1005'
2022-08-05 15:42:51.052 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:42:51.054 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:42:51.055 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:42:51.056 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:42:51.057 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1005 - - - 204 - - 10.4275ms
2022-08-05 15:42:51.058 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1005 application/json -
2022-08-05 15:42:51.059 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:42:51.060 +04:00 [DBG] The request path /Profile/1005 does not match a supported file type
2022-08-05 15:42:51.062 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1005'
2022-08-05 15:42:51.063 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1005'
2022-08-05 15:42:51.065 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:42:51.066 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:42:51.068 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:42:51.069 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:42:51.070 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:42:51.071 +04:00 [DBG] Authorization was successful.
2022-08-05 15:42:51.072 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:42:51.073 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:42:51.076 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:42:51.079 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:42:51.081 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:42:51.083 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:42:51.084 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:42:51.086 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:42:51.088 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:42:51.091 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:42:51.092 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:42:51.094 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:42:51.096 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:42:51.097 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:42:51.099 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:42:51.100 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:42:51.102 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:42:51.103 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:42:51.104 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.106 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.108 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:42:51.119 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:42:51.125 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:42:51.127 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:42:51.139 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:42:51.160 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:42:51.161 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.162 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.164 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:42:51.165 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:42:51.167 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.168 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.169 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:42:51.174 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:42:51.178 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:42:51.178 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.180 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.184 +04:00 [INF] Get Profile
2022-08-05 15:42:51.186 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:42:51.189 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:42:51.190 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:42:51.191 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:42:51.192 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:42:51.193 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:42:51.197 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 110.6287ms
2022-08-05 15:42:51.199 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:42:51.200 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:42:51.202 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1005 application/json - - 200 - application/json;+charset=utf-8 143.4832ms
2022-08-05 15:42:51.217 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1005 - -
2022-08-05 15:42:51.219 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1005 - -
2022-08-05 15:42:51.223 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:42:51.224 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:42:51.226 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:42:51.228 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:42:51.230 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1005'
2022-08-05 15:42:51.232 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1005'
2022-08-05 15:42:51.234 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1005'
2022-08-05 15:42:51.235 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1005'
2022-08-05 15:42:51.238 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:42:51.241 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:42:51.242 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:42:51.245 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:42:51.247 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:42:51.249 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:42:51.251 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:42:51.252 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:42:51.253 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1005 - - - 204 - - 35.5468ms
2022-08-05 15:42:51.254 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1005 - - - 204 - - 34.7771ms
2022-08-05 15:42:51.257 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1005 - -
2022-08-05 15:42:51.257 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1005 application/json -
2022-08-05 15:42:51.258 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:42:51.260 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:42:51.261 +04:00 [DBG] The request path /Guest/1005 does not match a supported file type
2022-08-05 15:42:51.263 +04:00 [DBG] The request path /Booking/1005 does not match a supported file type
2022-08-05 15:42:51.265 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1005'
2022-08-05 15:42:51.267 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1005'
2022-08-05 15:42:51.268 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1005'
2022-08-05 15:42:51.269 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1005'
2022-08-05 15:42:51.271 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:42:51.274 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:42:51.275 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:42:51.277 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:42:51.279 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:42:51.281 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:42:51.282 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:42:51.283 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:42:51.284 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:42:51.285 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:42:51.287 +04:00 [DBG] Authorization was successful.
2022-08-05 15:42:51.288 +04:00 [DBG] Authorization was successful.
2022-08-05 15:42:51.288 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:42:51.289 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:42:51.291 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:42:51.292 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:42:51.294 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:42:51.297 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:42:51.298 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:42:51.300 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:42:51.302 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:42:51.303 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:42:51.306 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:42:51.309 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:42:51.311 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:42:51.316 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:42:51.322 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:42:51.325 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:42:51.332 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:42:51.352 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:42:51.356 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:42:51.365 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:42:51.367 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:42:51.369 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:42:51.371 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:42:51.373 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:42:51.376 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:42:51.380 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:42:51.381 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:42:51.384 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:42:51.386 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:42:51.388 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:42:51.390 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:42:51.392 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:42:51.396 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:42:51.397 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:42:51.398 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:42:51.400 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:42:51.402 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.405 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.408 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.413 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:42:51.420 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:42:51.421 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.424 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:42:51.426 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:42:51.429 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:42:51.434 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:42:51.434 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.438 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:42:51.439 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.441 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.445 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.445 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-05 15:42:51.446 +04:00 [INF] GetBookings successfully
2022-08-05 15:42:51.449 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:42:51.453 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-05 15:42:51.453 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:42:51.458 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:42:51.459 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:42:51.460 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:42:51.462 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:42:51.464 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.465 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:42:51.466 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.467 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:42:51.469 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:42:51.471 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 146.1663ms
2022-08-05 15:42:51.475 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:42:51.475 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:42:51.476 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:42:51.480 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:42:51.481 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1005 application/json - - 200 - application/json;+charset=utf-8 224.6730ms
2022-08-05 15:42:51.483 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:42:51.486 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.488 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:42:51.489 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:42:51.492 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:42:51.493 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:42:51.495 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:42:51.496 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:42:51.498 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:42:51.500 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 177.6129ms
2022-08-05 15:42:51.501 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:42:51.503 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:42:51.504 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1005 - - - 200 - application/json;+charset=utf-8 247.7174ms
2022-08-05 15:45:03.735 +04:00 [DBG] Connection id "0HMJMQPCJF4SM" is closing.
2022-08-05 15:45:03.738 +04:00 [DBG] Connection id "0HMJMQPCJF4SM" is closed. The last processed stream ID was 55.
2022-08-05 15:45:03.742 +04:00 [DBG] Connection id "0HMJMQPCJF4SM" received FIN.
2022-08-05 15:45:03.744 +04:00 [DBG] Connection id "0HMJMQPCJF4SM" sending FIN because: "The client closed the connection."
2022-08-05 15:45:03.752 +04:00 [DBG] Connection id "0HMJMQPCJF4SM" stopped.
2022-08-05 15:46:43.284 +04:00 [DBG] Connection id "0HMJMQPCJF4SN" accepted.
2022-08-05 15:46:43.286 +04:00 [DBG] Connection id "0HMJMQPCJF4SN" started.
2022-08-05 15:46:43.290 +04:00 [DBG] Connection 0HMJMQPCJF4SN established using the following protocol: "Tls12"
2022-08-05 15:46:43.304 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:46:43.306 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:46:43.307 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:46:43.309 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:46:43.310 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:46:43.313 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:46:43.315 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:46:43.316 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:46:43.317 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:46:43.318 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 14.1380ms
2022-08-05 15:46:43.320 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 46
2022-08-05 15:46:43.321 +04:00 [DBG] POST requests are not supported
2022-08-05 15:46:43.323 +04:00 [DBG] POST requests are not supported
2022-08-05 15:46:43.324 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:46:43.325 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:46:43.328 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:46:43.329 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:46:43.332 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:46:43.334 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 15:46:43.335 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:46:43.336 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 15:46:43.339 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:46:43.340 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:46:43.342 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:46:43.345 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:46:43.347 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:46:43.350 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:46:43.352 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:46:43.354 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:46:43.356 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:46:43.357 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-05 15:46:43.359 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:46:43.361 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000003": started reading request body.
2022-08-05 15:46:43.363 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000003": done reading request body.
2022-08-05 15:46:43.365 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-05 15:46:43.366 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:46:43.368 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:46:43.370 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:46:43.372 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:46:43.375 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:46:43.376 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:46:43.377 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.379 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.381 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:46:43.388 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:46:43.391 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.393 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:46:43.394 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.396 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.398 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:46:43.401 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:46:43.402 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:46:43.404 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:46:43.405 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:46:43.407 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-05 15:46:43.410 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 60.0437ms
2022-08-05 15:46:43.411 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:46:43.413 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:46:43.415 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 46 - 200 - application/json;+charset=utf-8 94.5619ms
2022-08-05 15:46:43.420 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1006 - -
2022-08-05 15:46:43.421 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:46:43.422 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:46:43.424 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1006'
2022-08-05 15:46:43.425 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1006'
2022-08-05 15:46:43.427 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:46:43.428 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:46:43.429 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:46:43.430 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:46:43.432 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1006 - - - 204 - - 11.7789ms
2022-08-05 15:46:43.434 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1006 application/json -
2022-08-05 15:46:43.435 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:46:43.437 +04:00 [DBG] The request path /Profile/1006 does not match a supported file type
2022-08-05 15:46:43.438 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1006'
2022-08-05 15:46:43.440 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1006'
2022-08-05 15:46:43.442 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:46:43.444 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:46:43.445 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:46:43.446 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:46:43.448 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:46:43.449 +04:00 [DBG] Authorization was successful.
2022-08-05 15:46:43.450 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:46:43.451 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:46:43.454 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:46:43.456 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:46:43.457 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:46:43.460 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:46:43.462 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:46:43.465 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:46:43.467 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:46:43.470 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:46:43.471 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:46:43.473 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:46:43.476 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:46:43.478 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:46:43.479 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:46:43.481 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:46:43.483 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:46:43.485 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:46:43.486 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.488 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.489 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:46:43.498 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:46:43.503 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.505 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:46:43.506 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.508 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.511 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:46:43.512 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:46:43.514 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.516 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.518 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:46:43.523 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:46:43.528 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.530 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.532 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.534 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:46:43.536 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.537 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.539 +04:00 [INF] Get Profile
2022-08-05 15:46:43.541 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:46:43.546 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:46:43.547 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:46:43.549 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:46:43.550 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:46:43.552 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:46:43.555 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 90.7759ms
2022-08-05 15:46:43.558 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:46:43.559 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:46:43.562 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1006 application/json - - 200 - application/json;+charset=utf-8 127.1993ms
2022-08-05 15:46:43.568 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1006 - -
2022-08-05 15:46:43.568 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1006 - -
2022-08-05 15:46:43.570 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:46:43.573 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:46:43.571 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:46:43.576 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-05 15:46:43.577 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:46:43.582 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1006'
2022-08-05 15:46:43.580 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-05 15:46:43.587 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1006'
2022-08-05 15:46:43.590 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:46:43.593 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:46:43.596 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:46:43.597 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:46:43.601 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:46:43.599 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:46:43.604 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:46:43.606 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:46:43.608 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1006 - - - 204 - - 39.7998ms
2022-08-05 15:46:43.611 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1006 - - - 204 - - 42.3606ms
2022-08-05 15:46:43.617 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1006 - -
2022-08-05 15:46:43.622 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:46:43.617 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1006 application/json -
2022-08-05 15:46:43.624 +04:00 [DBG] The request path /Guest/1006 does not match a supported file type
2022-08-05 15:46:43.625 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:46:43.627 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1006'
2022-08-05 15:46:43.628 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-05 15:46:43.630 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1006'
2022-08-05 15:46:43.632 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-05 15:46:43.636 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:46:43.637 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-05 15:46:43.641 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:46:43.639 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:46:43.643 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:46:43.645 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:46:43.646 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:46:43.649 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:46:43.651 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:46:43.652 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:46:43.653 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:46:43.654 +04:00 [DBG] Authorization was successful.
2022-08-05 15:46:43.656 +04:00 [DBG] Authorization was successful.
2022-08-05 15:46:43.657 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:46:43.657 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:46:43.659 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:46:43.660 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:46:43.662 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:46:43.668 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:46:43.670 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:46:43.673 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:46:43.675 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:46:43.677 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:46:43.679 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:46:43.684 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:46:43.687 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:46:43.688 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:46:43.690 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:46:43.692 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:46:43.695 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:46:43.698 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:46:43.700 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:46:43.703 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:46:43.705 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:46:43.707 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:46:43.709 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:46:43.711 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:46:43.713 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:46:43.716 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:46:43.717 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:46:43.718 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:46:43.720 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:46:43.721 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:46:43.723 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:46:43.724 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:46:43.726 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:46:43.729 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:46:43.731 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2022-08-05 15:46:43.733 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-05 15:46:43.734 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.736 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.737 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.739 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.741 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:46:43.743 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:46:43.750 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:46:43.751 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:46:43.756 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:46:43.759 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.761 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.763 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.765 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.768 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.769 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:46:43.771 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:46:43.776 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:46:43.777 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.779 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:46:43.780 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.782 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:46:43.784 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:46:43.785 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:46:43.787 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:46:43.789 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:46:43.790 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.793 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 102.6472ms
2022-08-05 15:46:43.795 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.797 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:46:43.799 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:46:43.800 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:46:43.805 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1006 - - - 200 - application/json;+charset=utf-8 187.8431ms
2022-08-05 15:46:43.806 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:46:43.811 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.813 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:46:43.815 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.817 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.819 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:46:43.820 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:46:43.825 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.832 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.838 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:46:43.857 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:46:43.862 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.866 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:46:43.868 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.870 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.874 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:46:43.876 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:46:43.879 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.882 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.885 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:46:43.891 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:46:43.895 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:46:43.898 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:46:43.900 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.902 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:46:43.904 +04:00 [INF] GetBookings successfully
2022-08-05 15:46:43.907 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:46:43.912 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:46:43.914 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:46:43.916 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:46:43.917 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:46:43.920 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:46:43.926 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 234.4391ms
2022-08-05 15:46:43.929 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:46:43.932 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:46:43.935 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1006 application/json - - 200 - application/json;+charset=utf-8 317.2357ms
2022-08-05 15:47:08.060 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1006 - -
2022-08-05 15:47:08.062 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:47:08.063 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:47:08.066 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1006'
2022-08-05 15:47:08.068 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1006'
2022-08-05 15:47:08.070 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:47:08.071 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:47:08.073 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:47:08.076 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:47:08.078 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1006 - - - 204 - - 17.7751ms
2022-08-05 15:47:08.081 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1006 application/json -
2022-08-05 15:47:08.082 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:47:08.085 +04:00 [DBG] The request path /Profile/1006 does not match a supported file type
2022-08-05 15:47:08.087 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1006'
2022-08-05 15:47:08.089 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1006'
2022-08-05 15:47:08.091 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:47:08.092 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:47:08.094 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:47:08.096 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:47:08.097 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:47:08.100 +04:00 [DBG] Authorization was successful.
2022-08-05 15:47:08.101 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:47:08.103 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:47:08.107 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:47:08.110 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:47:08.112 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:47:08.116 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:47:08.119 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:47:08.121 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:47:08.123 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:47:08.126 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:47:08.128 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:47:08.130 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:47:08.133 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:47:08.135 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:47:08.137 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:47:08.138 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:47:08.140 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:47:08.141 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:47:08.143 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.146 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.147 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:47:08.153 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:47:08.159 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:08.160 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:47:08.162 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.164 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.167 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:47:08.168 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:47:08.169 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.171 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.173 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:47:08.177 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:47:08.180 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:08.183 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:08.186 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:08.188 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:47:08.190 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.191 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.194 +04:00 [INF] Get Profile
2022-08-05 15:47:08.195 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:47:08.198 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:47:08.200 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:47:08.201 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:47:08.202 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:47:08.204 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:47:08.208 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 86.7684ms
2022-08-05 15:47:08.210 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:47:08.212 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:47:08.214 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1006 application/json - - 200 - application/json;+charset=utf-8 133.2505ms
2022-08-05 15:47:08.232 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1006 - -
2022-08-05 15:47:08.233 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1006 - -
2022-08-05 15:47:08.234 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:47:08.236 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:47:08.237 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:47:08.238 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:47:08.240 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1006'
2022-08-05 15:47:08.242 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-05 15:47:08.244 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1006'
2022-08-05 15:47:08.245 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-05 15:47:08.247 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:47:08.250 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:47:08.252 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:47:08.253 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:47:08.255 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:47:08.257 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:47:08.258 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:47:08.259 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:47:08.260 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1006 - - - 204 - - 28.3604ms
2022-08-05 15:47:08.261 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1006 - - - 204 - - 28.6592ms
2022-08-05 15:47:08.262 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1006 - -
2022-08-05 15:47:08.264 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1006 application/json -
2022-08-05 15:47:08.267 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:47:08.268 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:47:08.270 +04:00 [DBG] The request path /Guest/1006 does not match a supported file type
2022-08-05 15:47:08.271 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-05 15:47:08.273 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1006'
2022-08-05 15:47:08.275 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-05 15:47:08.277 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1006'
2022-08-05 15:47:08.278 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-05 15:47:08.281 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:47:08.286 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:47:08.284 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:47:08.288 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:47:08.290 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:47:08.291 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:47:08.293 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:47:08.294 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:47:08.296 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:47:08.298 +04:00 [DBG] Authorization was successful.
2022-08-05 15:47:08.300 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:47:08.302 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:47:08.308 +04:00 [DBG] Authorization was successful.
2022-08-05 15:47:08.310 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:47:08.313 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:47:08.320 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:47:08.322 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:47:08.324 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:47:08.331 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:47:08.334 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:47:08.337 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:47:08.340 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:47:08.342 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:47:08.345 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:47:08.349 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:47:08.352 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:47:08.355 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:47:08.357 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:47:08.358 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:47:08.361 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:47:08.363 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:47:08.364 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:47:08.368 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:47:08.369 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:47:08.371 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:47:08.372 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:47:08.374 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:47:08.375 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:47:08.378 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:47:08.379 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:47:08.380 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:47:08.382 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:47:08.384 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:47:08.385 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:47:08.386 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:47:08.388 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:47:08.390 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:47:08.391 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.392 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:47:08.394 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.396 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.397 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:47:08.400 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.403 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:47:08.404 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:47:08.407 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:47:08.411 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:47:08.411 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.415 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:08.418 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.420 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:08.421 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:47:08.423 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:08.426 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:47:08.428 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:47:08.429 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:47:08.430 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.433 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:47:08.435 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.436 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:47:08.438 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:47:08.439 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:47:08.441 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-05 15:47:08.443 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 91.2593ms
2022-08-05 15:47:08.445 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.447 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:47:08.449 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.451 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:47:08.453 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:47:08.454 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1006 - - - 200 - application/json;+charset=utf-8 192.2283ms
2022-08-05 15:47:08.458 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:47:08.462 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:08.464 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:47:08.466 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.468 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.470 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:47:08.471 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:47:08.472 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.474 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.477 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:47:08.480 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:47:08.484 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:08.486 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:47:08.486 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.488 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.489 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:47:08.490 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:47:08.493 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.494 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.496 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:47:08.500 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:47:08.504 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:08.506 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:47:08.507 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.509 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:08.511 +04:00 [INF] GetBookings successfully
2022-08-05 15:47:08.512 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:47:08.515 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:47:08.517 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:47:08.519 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:47:08.520 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:47:08.521 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:47:08.524 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 165.5459ms
2022-08-05 15:47:08.526 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:47:08.527 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:47:08.529 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1006 application/json - - 200 - application/json;+charset=utf-8 264.4411ms
2022-08-05 15:47:38.581 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Register - -
2022-08-05 15:47:38.583 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:47:38.585 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:47:38.588 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-05 15:47:38.590 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-05 15:47:38.594 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-05 15:47:38.595 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:47:38.596 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:47:38.597 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:47:38.599 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Register - - - 204 - - 17.9284ms
2022-08-05 15:47:38.601 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Register application/json 90
2022-08-05 15:47:38.603 +04:00 [DBG] POST requests are not supported
2022-08-05 15:47:38.605 +04:00 [DBG] POST requests are not supported
2022-08-05 15:47:38.606 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-05 15:47:38.608 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-05 15:47:38.611 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-05 15:47:38.613 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:47:38.614 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:47:38.616 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 15:47:38.617 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-05 15:47:38.618 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingApi.Models.Request.AccountRegisterRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 15:47:38.622 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:47:38.623 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:47:38.625 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:47:38.628 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:47:38.629 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:47:38.631 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:47:38.633 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:47:38.636 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:47:38.638 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-05 15:47:38.639 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' using the name '' in request data ...
2022-08-05 15:47:38.642 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:47:38.643 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:0000001F": started reading request body.
2022-08-05 15:47:38.645 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:0000001F": done reading request body.
2022-08-05 15:47:38.647 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountRegisterRequest'
2022-08-05 15:47:38.649 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-05 15:47:38.651 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-05 15:47:38.653 +04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-05 15:47:38.655 +04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-05 15:47:38.657 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'UserId.Profile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:38.659 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:38.661 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-05 15:47:38.662 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-05 15:47:38.663 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-05 15:47:38.664 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:38.667 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:38.668 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-05 15:47:38.669 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-05 15:47:38.671 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:47:38.672 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:47:38.674 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-05 15:47:38.680 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-05 15:47:38.685 +04:00 [DBG] The foreign key property 'Profile.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-05 15:47:38.688 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:47:38.688 +04:00 [DBG] Committing transaction.
2022-08-05 15:47:38.700 +04:00 [DBG] Committed transaction.
2022-08-05 15:47:38.701 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:38.702 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:47:38.703 +04:00 [DBG] Disposing transaction.
2022-08-05 15:47:38.705 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:47:38.707 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-05 15:47:38.709 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-05 15:47:38.710 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Register (BookingApi) in 78.6371ms
2022-08-05 15:47:38.711 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-05 15:47:38.712 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:47:38.714 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Register application/json 90 - 200 0 - 112.8965ms
2022-08-05 15:48:08.074 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:48:08.076 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:08.078 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:08.079 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:48:08.080 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:48:08.083 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:48:08.084 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:08.085 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:08.087 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:48:08.090 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 16.1093ms
2022-08-05 15:48:08.091 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 48
2022-08-05 15:48:08.092 +04:00 [DBG] POST requests are not supported
2022-08-05 15:48:08.093 +04:00 [DBG] POST requests are not supported
2022-08-05 15:48:08.094 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:48:08.095 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:48:08.097 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:48:08.099 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:08.100 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:08.101 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 15:48:08.102 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:48:08.103 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 15:48:08.105 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:48:08.108 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:48:08.109 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:48:08.112 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:48:08.113 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:48:08.116 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:48:08.118 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:48:08.120 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:48:08.122 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:48:08.123 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-05 15:48:08.125 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:48:08.127 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000023": started reading request body.
2022-08-05 15:48:08.128 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000023": done reading request body.
2022-08-05 15:48:08.129 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-05 15:48:08.131 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:48:08.132 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:48:08.134 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:48:08.136 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:48:08.138 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:48:08.139 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:48:08.141 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.143 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.144 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:48:08.149 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:48:08.153 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:48:08.155 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:48:08.155 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.157 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.159 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:48:08.162 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:48:08.163 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:48:08.164 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:48:08.166 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:48:08.167 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-05 15:48:08.169 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 53.6268ms
2022-08-05 15:48:08.170 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:48:08.172 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:48:08.173 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 48 - 200 - application/json;+charset=utf-8 82.0443ms
2022-08-05 15:48:08.178 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1010 - -
2022-08-05 15:48:08.179 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:08.180 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:08.181 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1010'
2022-08-05 15:48:08.182 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1010'
2022-08-05 15:48:08.184 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:48:08.186 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:08.187 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:08.188 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:48:08.189 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1010 - - - 204 - - 11.5388ms
2022-08-05 15:48:08.191 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1010 application/json -
2022-08-05 15:48:08.192 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:48:08.193 +04:00 [DBG] The request path /Profile/1010 does not match a supported file type
2022-08-05 15:48:08.194 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1010'
2022-08-05 15:48:08.195 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1010'
2022-08-05 15:48:08.197 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:48:08.199 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:08.200 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:08.201 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:48:08.202 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:48:08.203 +04:00 [DBG] Authorization was successful.
2022-08-05 15:48:08.204 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:48:08.206 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:48:08.209 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:48:08.211 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:48:08.213 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:48:08.215 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:48:08.217 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:48:08.219 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:48:08.221 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:48:08.223 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:48:08.225 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:48:08.227 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:48:08.229 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:48:08.230 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:48:08.232 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:48:08.233 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:48:08.234 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:48:08.236 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:48:08.238 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.239 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.240 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:48:08.249 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:48:08.254 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:48:08.255 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:48:08.256 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.258 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.260 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:48:08.261 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:48:08.262 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.264 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.265 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:48:08.269 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:48:08.273 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:48:08.275 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.276 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.278 +04:00 [INF] Get Profile
2022-08-05 15:48:08.279 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:48:08.282 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:48:08.282 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:48:08.284 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:48:08.285 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:48:08.287 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:48:08.289 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 70.1418ms
2022-08-05 15:48:08.291 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:48:08.292 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:48:08.294 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1010 application/json - - 200 - application/json;+charset=utf-8 103.4634ms
2022-08-05 15:48:08.298 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1010 - -
2022-08-05 15:48:08.299 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1010 - -
2022-08-05 15:48:08.300 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:08.301 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:08.302 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:08.303 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:08.305 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1010'
2022-08-05 15:48:08.311 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1010'
2022-08-05 15:48:08.306 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1010'
2022-08-05 15:48:08.314 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:48:08.322 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:08.319 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1010'
2022-08-05 15:48:08.323 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:08.326 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:48:08.327 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:48:08.329 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:08.336 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:08.333 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1010 - -
2022-08-05 15:48:08.339 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:48:08.338 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:48:08.330 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1010 - - - 204 - - 31.9728ms
2022-08-05 15:48:08.341 +04:00 [DBG] The request path /Guest/1010 does not match a supported file type
2022-08-05 15:48:08.343 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1010 - - - 204 - - 43.4356ms
2022-08-05 15:48:08.345 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1010 application/json -
2022-08-05 15:48:08.350 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:48:08.346 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1010'
2022-08-05 15:48:08.352 +04:00 [DBG] The request path /Booking/1010 does not match a supported file type
2022-08-05 15:48:08.354 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1010'
2022-08-05 15:48:08.356 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1010'
2022-08-05 15:48:08.358 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:48:08.360 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1010'
2022-08-05 15:48:08.362 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:08.364 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:48:08.366 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:08.371 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:08.373 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:48:08.374 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:08.375 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:48:08.377 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:48:08.379 +04:00 [DBG] Authorization was successful.
2022-08-05 15:48:08.380 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:48:08.381 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:48:08.385 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:48:08.383 +04:00 [DBG] Authorization was successful.
2022-08-05 15:48:08.389 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:48:08.390 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:48:08.391 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:48:08.393 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:48:08.395 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:48:08.398 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:48:08.402 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:48:08.403 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:48:08.408 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:48:08.405 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:48:08.412 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:48:08.414 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:48:08.415 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:48:08.418 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:48:08.420 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:48:08.422 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:48:08.424 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:48:08.426 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:48:08.429 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:48:08.432 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:48:08.435 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:48:08.437 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:48:08.439 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:48:08.440 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:48:08.444 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:48:08.446 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:48:08.448 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:48:08.450 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:48:08.452 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:48:08.454 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:48:08.455 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:48:08.457 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-05 15:48:08.460 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:48:08.462 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.464 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-05 15:48:08.466 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.467 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.469 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:48:08.471 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.476 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:48:08.477 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:48:08.482 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:48:08.484 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:48:08.488 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:48:08.489 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.490 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.492 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.494 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:08.496 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:48:08.498 +04:00 [INF] GetBookings successfully
2022-08-05 15:48:08.502 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:48:08.503 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:48:08.504 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:48:08.509 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:48:08.510 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:48:08.512 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:48:08.513 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:48:08.515 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:48:08.517 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:48:08.519 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:48:08.531 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:48:08.522 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 107.9752ms
2022-08-05 15:48:08.534 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 114.2634ms
2022-08-05 15:48:08.536 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:48:08.539 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:48:08.541 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:48:08.543 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:48:08.544 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1010 - - - 200 - application/json;+charset=utf-8 210.9275ms
2022-08-05 15:48:08.546 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1010 application/json - - 200 - application/json;+charset=utf-8 200.5634ms
2022-08-05 15:48:25.617 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Search - -
2022-08-05 15:48:25.619 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:25.621 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:25.623 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-05 15:48:25.624 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-05 15:48:25.627 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:48:25.630 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:25.631 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:25.633 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:48:25.634 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Search - - - 204 - - 16.5984ms
2022-08-05 15:48:25.637 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Search application/json 89
2022-08-05 15:48:25.638 +04:00 [DBG] POST requests are not supported
2022-08-05 15:48:25.639 +04:00 [DBG] POST requests are not supported
2022-08-05 15:48:25.641 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-05 15:48:25.642 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-05 15:48:25.644 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:48:25.646 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:25.647 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:25.648 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:48:25.649 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:48:25.652 +04:00 [DBG] Authorization was successful.
2022-08-05 15:48:25.653 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:48:25.654 +04:00 [INF] Route matched with {action = "GetApartment", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApartment(BookingApi.Models.Request.SearchRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-05 15:48:25.656 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:48:25.658 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:48:25.660 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:48:25.662 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:48:25.664 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:48:25.665 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-05 15:48:25.669 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:48:25.671 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-05 15:48:25.673 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-05 15:48:25.675 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' using the name '' in request data ...
2022-08-05 15:48:25.676 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:48:25.678 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000033": started reading request body.
2022-08-05 15:48:25.680 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000033": done reading request body.
2022-08-05 15:48:25.681 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.SearchRequest'
2022-08-05 15:48:25.682 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-05 15:48:25.684 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-05 15:48:25.686 +04:00 [DBG] Attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-05 15:48:25.688 +04:00 [DBG] Done attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-05 15:48:25.690 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:48:25.691 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:48:25.693 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:25.694 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:25.695 +04:00 [DBG] Executing DbCommand [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-05 15:48:25.699 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-05 15:48:25.703 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:48:25.705 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:48:25.705 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:25.707 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:25.709 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:48:25.712 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:48:25.712 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:48:25.714 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:48:25.715 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:48:25.717 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.ApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:48:25.719 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.GetApartment (BookingApi) in 53.6096ms
2022-08-05 15:48:25.721 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-05 15:48:25.722 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:48:25.724 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Search application/json 89 - 200 - application/json;+charset=utf-8 86.8569ms
2022-08-05 15:48:28.585 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Search/Booking - -
2022-08-05 15:48:28.587 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:28.589 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:48:28.591 +04:00 [DBG] 1 candidate(s) found for the request path '/Search/Booking'
2022-08-05 15:48:28.593 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)' with route pattern 'Search/Booking' is valid for the request path '/Search/Booking'
2022-08-05 15:48:28.596 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-05 15:48:28.597 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:28.598 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:28.602 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:48:28.603 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Search/Booking - - - 204 - - 18.2282ms
2022-08-05 15:48:28.605 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Search/Booking application/json 163
2022-08-05 15:48:28.606 +04:00 [DBG] POST requests are not supported
2022-08-05 15:48:28.609 +04:00 [DBG] POST requests are not supported
2022-08-05 15:48:28.610 +04:00 [DBG] 1 candidate(s) found for the request path '/Search/Booking'
2022-08-05 15:48:28.612 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)' with route pattern 'Search/Booking' is valid for the request path '/Search/Booking'
2022-08-05 15:48:28.614 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-05 15:48:28.615 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:48:28.617 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:48:28.618 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:48:28.619 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:48:28.621 +04:00 [DBG] Authorization was successful.
2022-08-05 15:48:28.622 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-05 15:48:28.626 +04:00 [INF] Route matched with {action = "Booking", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Booking(BookingApi.Models.Request.OrderRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-05 15:48:28.629 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:48:28.630 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:48:28.632 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:48:28.634 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:48:28.636 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:48:28.638 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-05 15:48:28.640 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:48:28.642 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-05 15:48:28.644 +04:00 [DBG] Attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' ...
2022-08-05 15:48:28.645 +04:00 [DBG] Attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' using the name '' in request data ...
2022-08-05 15:48:28.647 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:48:28.649 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000037": started reading request body.
2022-08-05 15:48:28.650 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000037": done reading request body.
2022-08-05 15:48:28.653 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.OrderRequest'
2022-08-05 15:48:28.655 +04:00 [DBG] Done attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-05 15:48:28.657 +04:00 [DBG] Done attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-05 15:48:28.658 +04:00 [DBG] Attempting to validate the bound parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' ...
2022-08-05 15:48:28.680 +04:00 [DBG] Done attempting to validate the bound parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-05 15:48:28.691 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'Id.Order'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:48:28.694 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:48:28.696 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-05 15:48:28.697 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-05 15:48:28.701 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-05 15:48:28.703 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:28.704 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:28.705 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-05 15:48:28.707 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-05 15:48:28.709 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:48:28.710 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:48:28.712 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([City], [CustomerId], [FirstName], [From], [HostId], [LastName], [Status], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-05 15:48:28.717 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([City], [CustomerId], [FirstName], [From], [HostId], [LastName], [Status], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-05 15:48:28.723 +04:00 [DBG] The foreign key property 'Order.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-05 15:48:28.725 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:48:28.726 +04:00 [DBG] Committing transaction.
2022-08-05 15:48:28.738 +04:00 [DBG] Committed transaction.
2022-08-05 15:48:28.739 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:28.740 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:48:28.742 +04:00 [DBG] Disposing transaction.
2022-08-05 15:48:28.744 +04:00 [DBG] An entity of type 'Order' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:48:28.745 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-05 15:48:28.747 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-05 15:48:28.748 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.Booking (BookingApi) in 110.2108ms
2022-08-05 15:48:28.750 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-05 15:48:28.751 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:48:28.753 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Search/Booking application/json 163 - 200 0 - 147.8839ms
2022-08-05 15:49:03.393 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1010 - -
2022-08-05 15:49:03.394 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:03.396 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:03.398 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1010'
2022-08-05 15:49:03.399 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1010'
2022-08-05 15:49:03.402 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:49:03.404 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:03.405 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:03.406 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:49:03.409 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1010 - - - 204 - - 16.3103ms
2022-08-05 15:49:03.412 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1010 application/json -
2022-08-05 15:49:03.414 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:49:03.416 +04:00 [DBG] The request path /Profile/1010 does not match a supported file type
2022-08-05 15:49:03.418 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1010'
2022-08-05 15:49:03.420 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1010'
2022-08-05 15:49:03.423 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:49:03.424 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:03.425 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:03.427 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:49:03.428 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:49:03.431 +04:00 [DBG] Authorization was successful.
2022-08-05 15:49:03.432 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:49:03.434 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:49:03.438 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:49:03.442 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:49:03.445 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:49:03.450 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:49:03.454 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:49:03.458 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:49:03.461 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:49:03.464 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:49:03.465 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:49:03.468 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:49:03.470 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:49:03.471 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:49:03.473 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:49:03.475 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:49:03.477 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:03.478 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:49:03.480 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.482 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.484 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:49:03.493 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:49:03.498 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:03.501 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:03.502 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.503 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.505 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:03.506 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:49:03.508 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.510 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.512 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:49:03.519 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:49:03.523 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:03.525 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:03.526 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.528 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.529 +04:00 [INF] Get Profile
2022-08-05 15:49:03.531 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:49:03.534 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:49:03.535 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:49:03.536 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:49:03.538 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:49:03.541 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:49:03.543 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 85.1705ms
2022-08-05 15:49:03.545 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:49:03.547 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:49:03.550 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1010 application/json - - 200 - application/json;+charset=utf-8 137.5151ms
2022-08-05 15:49:03.604 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1010 - -
2022-08-05 15:49:03.605 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1010 - -
2022-08-05 15:49:03.606 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:03.607 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:03.608 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:03.610 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:03.611 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1010'
2022-08-05 15:49:03.612 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1010'
2022-08-05 15:49:03.613 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1010'
2022-08-05 15:49:03.615 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1010'
2022-08-05 15:49:03.617 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:49:03.620 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:49:03.621 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:03.623 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:03.624 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:03.626 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:03.627 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:49:03.629 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:49:03.630 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1010 - - - 204 - - 25.7158ms
2022-08-05 15:49:03.633 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1010 - - - 204 - - 27.5958ms
2022-08-05 15:49:03.634 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1010 - -
2022-08-05 15:49:03.635 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1010 application/json -
2022-08-05 15:49:03.638 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:49:03.640 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:49:03.641 +04:00 [DBG] The request path /Guest/1010 does not match a supported file type
2022-08-05 15:49:03.643 +04:00 [DBG] The request path /Booking/1010 does not match a supported file type
2022-08-05 15:49:03.644 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1010'
2022-08-05 15:49:03.645 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1010'
2022-08-05 15:49:03.646 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1010'
2022-08-05 15:49:03.647 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1010'
2022-08-05 15:49:03.650 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:49:03.652 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:49:03.653 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:03.655 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:03.656 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:03.658 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:03.659 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:49:03.660 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:49:03.661 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:49:03.662 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:49:03.663 +04:00 [DBG] Authorization was successful.
2022-08-05 15:49:03.665 +04:00 [DBG] Authorization was successful.
2022-08-05 15:49:03.666 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:49:03.667 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:49:03.669 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:49:03.671 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:49:03.674 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:49:03.676 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:49:03.678 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:49:03.680 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:49:03.682 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:49:03.684 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:49:03.687 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:49:03.690 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:49:03.691 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:49:03.693 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:49:03.695 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:49:03.697 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:49:03.699 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:49:03.700 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:49:03.702 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:49:03.704 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:49:03.705 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:49:03.707 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:49:03.709 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:49:03.710 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:49:03.712 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:49:03.714 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:49:03.715 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:49:03.717 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:49:03.718 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:49:03.720 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:49:03.721 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:49:03.722 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:49:03.724 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:03.725 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:03.726 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:49:03.727 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:49:03.729 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.730 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.732 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.733 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.734 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:49:03.736 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:49:03.740 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:49:03.742 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:49:03.744 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:03.747 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:03.748 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.750 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:03.752 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.752 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.754 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:49:03.755 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.758 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:49:03.760 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:03.760 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:49:03.762 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:49:03.763 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:49:03.764 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.765 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:49:03.767 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.769 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:49:03.770 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:49:03.773 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 77.7584ms
2022-08-05 15:49:03.778 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:49:03.779 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:49:03.780 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:49:03.785 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:03.786 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1010 - - - 200 - application/json;+charset=utf-8 151.6843ms
2022-08-05 15:49:03.789 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:03.791 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.792 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:03.793 +04:00 [INF] GetBookings successfully
2022-08-05 15:49:03.794 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:49:03.798 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:49:03.799 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:49:03.801 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:49:03.802 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:49:03.804 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:49:03.805 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 108.7899ms
2022-08-05 15:49:03.807 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:49:03.809 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:49:03.811 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1010 application/json - - 200 - application/json;+charset=utf-8 175.9360ms
2022-08-05 15:49:24.306 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:49:24.308 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:24.310 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:24.311 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:49:24.312 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:49:24.315 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:49:24.316 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:24.320 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:24.323 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:49:24.324 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 17.3777ms
2022-08-05 15:49:24.325 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 47
2022-08-05 15:49:24.326 +04:00 [DBG] POST requests are not supported
2022-08-05 15:49:24.327 +04:00 [DBG] POST requests are not supported
2022-08-05 15:49:24.329 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:49:24.331 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:49:24.333 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:49:24.335 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:24.336 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:24.337 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 15:49:24.338 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:49:24.339 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 15:49:24.341 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:49:24.343 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:49:24.345 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:49:24.347 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:49:24.349 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:49:24.351 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:49:24.353 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:49:24.355 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:49:24.356 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:49:24.358 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-05 15:49:24.360 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:49:24.362 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000047": started reading request body.
2022-08-05 15:49:24.363 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000047": done reading request body.
2022-08-05 15:49:24.364 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-05 15:49:24.366 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:49:24.367 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:49:24.368 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:49:24.371 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:49:24.373 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:24.374 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:49:24.376 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.378 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.379 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:49:24.384 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:49:24.400 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:24.401 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:24.402 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.404 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.406 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:49:24.410 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:49:24.411 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:49:24.413 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:49:24.415 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:49:24.416 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-05 15:49:24.418 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 67.3335ms
2022-08-05 15:49:24.420 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:49:24.422 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:49:24.424 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 47 - 200 - application/json;+charset=utf-8 98.2347ms
2022-08-05 15:49:24.428 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1009 - -
2022-08-05 15:49:24.429 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:24.431 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:24.432 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1009'
2022-08-05 15:49:24.433 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1009'
2022-08-05 15:49:24.435 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:49:24.437 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:24.438 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:24.439 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:49:24.441 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1009 - - - 204 - - 12.4304ms
2022-08-05 15:49:24.443 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1009 application/json -
2022-08-05 15:49:24.444 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:49:24.445 +04:00 [DBG] The request path /Profile/1009 does not match a supported file type
2022-08-05 15:49:24.446 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1009'
2022-08-05 15:49:24.448 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1009'
2022-08-05 15:49:24.450 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:49:24.451 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:24.453 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:24.454 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:49:24.455 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:49:24.456 +04:00 [DBG] Authorization was successful.
2022-08-05 15:49:24.458 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:49:24.459 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:49:24.462 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:49:24.464 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:49:24.465 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:49:24.468 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:49:24.470 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:49:24.472 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:49:24.473 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:49:24.476 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:49:24.478 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:49:24.479 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:49:24.481 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:49:24.482 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:49:24.483 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:49:24.485 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:49:24.487 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:24.488 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:49:24.490 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.491 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.493 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:49:24.497 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:49:24.514 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:24.516 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:24.518 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:24.521 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:24.521 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.523 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.524 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:24.525 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:49:24.527 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.528 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.529 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:49:24.533 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:49:24.536 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:24.537 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.538 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.539 +04:00 [INF] Get Profile
2022-08-05 15:49:24.540 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:49:24.543 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:49:24.544 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:49:24.545 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:49:24.546 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:49:24.548 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:49:24.572 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 100.3486ms
2022-08-05 15:49:24.573 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:49:24.575 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:49:24.577 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1009 application/json - - 200 - application/json;+charset=utf-8 133.8730ms
2022-08-05 15:49:24.585 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1009 - -
2022-08-05 15:49:24.585 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1009 - -
2022-08-05 15:49:24.586 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:24.587 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:24.588 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:24.589 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:24.591 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1009'
2022-08-05 15:49:24.592 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1009'
2022-08-05 15:49:24.593 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1009'
2022-08-05 15:49:24.595 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1009'
2022-08-05 15:49:24.603 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:49:24.605 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:24.607 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:24.598 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:49:24.609 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:49:24.611 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:24.613 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1009 - - - 204 - - 28.3052ms
2022-08-05 15:49:24.615 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:24.620 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:49:24.616 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1009 application/json -
2022-08-05 15:49:24.624 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1009 - - - 204 - - 39.4410ms
2022-08-05 15:49:24.626 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:49:24.627 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1009 - -
2022-08-05 15:49:24.629 +04:00 [DBG] The request path /Booking/1009 does not match a supported file type
2022-08-05 15:49:24.631 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:49:24.632 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1009'
2022-08-05 15:49:24.634 +04:00 [DBG] The request path /Guest/1009 does not match a supported file type
2022-08-05 15:49:24.636 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1009'
2022-08-05 15:49:24.639 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1009'
2022-08-05 15:49:24.642 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:49:24.644 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1009'
2022-08-05 15:49:24.646 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:24.648 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:49:24.649 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:24.651 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:24.654 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:49:24.655 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:24.656 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:49:24.657 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:49:24.660 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:49:24.659 +04:00 [DBG] Authorization was successful.
2022-08-05 15:49:24.662 +04:00 [DBG] Authorization was successful.
2022-08-05 15:49:24.664 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:49:24.665 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:49:24.667 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:49:24.668 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:49:24.671 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:49:24.675 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:49:24.676 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:49:24.678 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:49:24.680 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:49:24.682 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:49:24.686 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:49:24.689 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:49:24.691 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:49:24.692 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:49:24.695 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:49:24.697 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:49:24.699 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:49:24.701 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:49:24.704 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:49:24.707 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:49:24.709 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:49:24.711 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:49:24.713 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:49:24.715 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:49:24.717 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:49:24.720 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:49:24.723 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:49:24.725 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:49:24.726 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:49:24.729 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:49:24.731 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:49:24.733 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:49:24.736 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:24.738 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:24.739 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-05 15:49:24.741 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-05 15:49:24.743 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.745 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.747 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.749 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.751 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:49:24.754 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:49:24.757 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:49:24.761 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:49:24.763 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:24.767 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:24.769 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.772 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:24.774 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.775 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.777 +04:00 [INF] GetBookings successfully
2022-08-05 15:49:24.778 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.780 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:49:24.782 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:24.787 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:49:24.789 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2022-08-05 15:49:24.791 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:49:24.794 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.795 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:49:24.797 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.799 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:49:24.801 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:49:24.804 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:49:24.810 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:49:24.812 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 117.4298ms
2022-08-05 15:49:24.826 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:24.828 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:49:24.830 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:24.833 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:49:24.841 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.844 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1009 application/json - - 200 - application/json;+charset=utf-8 228.3372ms
2022-08-05 15:49:24.845 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:24.850 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:49:24.854 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:49:24.855 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:49:24.858 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:49:24.860 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:49:24.862 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:49:24.865 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 168.0444ms
2022-08-05 15:49:24.867 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:49:24.869 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:49:24.871 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1009 - - - 200 - application/json;+charset=utf-8 244.3976ms
2022-08-05 15:49:35.796 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest - -
2022-08-05 15:49:35.798 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:35.799 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:49:35.801 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest'
2022-08-05 15:49:35.802 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.UpdateGuest (BookingApi)' with route pattern 'Guest' is valid for the request path '/Guest'
2022-08-05 15:49:35.804 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.UpdateGuest (BookingApi)'
2022-08-05 15:49:35.806 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:35.807 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:35.809 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:49:35.812 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest - - - 204 - - 15.3846ms
2022-08-05 15:49:35.814 +04:00 [INF] Request starting HTTP/2 PUT https://localhost:7058/Guest application/json 388
2022-08-05 15:49:35.815 +04:00 [DBG] PUT requests are not supported
2022-08-05 15:49:35.816 +04:00 [DBG] PUT requests are not supported
2022-08-05 15:49:35.818 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest'
2022-08-05 15:49:35.820 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.UpdateGuest (BookingApi)' with route pattern 'Guest' is valid for the request path '/Guest'
2022-08-05 15:49:35.823 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.UpdateGuest (BookingApi)'
2022-08-05 15:49:35.824 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:49:35.825 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:49:35.827 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:49:35.828 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:49:35.829 +04:00 [DBG] Authorization was successful.
2022-08-05 15:49:35.830 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.UpdateGuest (BookingApi)'
2022-08-05 15:49:35.834 +04:00 [INF] Route matched with {action = "UpdateGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGuest(BookingApi.Models.DTO.GuestDTO) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:49:35.837 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:49:35.839 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:49:35.840 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:49:35.843 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:49:35.845 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:49:35.847 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:49:35.849 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:49:35.851 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:49:35.853 +04:00 [DBG] Attempting to bind parameter 'guest' of type 'BookingApi.Models.DTO.GuestDTO' ...
2022-08-05 15:49:35.854 +04:00 [DBG] Attempting to bind parameter 'guest' of type 'BookingApi.Models.DTO.GuestDTO' using the name '' in request data ...
2022-08-05 15:49:35.856 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:49:35.859 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000057": started reading request body.
2022-08-05 15:49:35.860 +04:00 [DBG] Connection id "0HMJMQPCJF4SN", Request id "0HMJMQPCJF4SN:00000057": done reading request body.
2022-08-05 15:49:35.865 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.DTO.GuestDTO'
2022-08-05 15:49:35.866 +04:00 [DBG] Done attempting to bind parameter 'guest' of type 'BookingApi.Models.DTO.GuestDTO'.
2022-08-05 15:49:35.868 +04:00 [DBG] Done attempting to bind parameter 'guest' of type 'BookingApi.Models.DTO.GuestDTO'.
2022-08-05 15:49:35.870 +04:00 [DBG] Attempting to validate the bound parameter 'guest' of type 'BookingApi.Models.DTO.GuestDTO' ...
2022-08-05 15:49:35.872 +04:00 [DBG] Done attempting to validate the bound parameter 'guest' of type 'BookingApi.Models.DTO.GuestDTO'.
2022-08-05 15:49:35.890 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2022-08-05 15:49:35.896 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Order>(
    asyncEnumerable: new SingleQueryingEnumerable<Order>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
            SELECT TOP(1) o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
            FROM Orders AS o
            WHERE o.Id == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-05 15:49:35.901 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:35.902 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-05 15:49:35.903 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:35.905 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:35.907 +04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2022-08-05 15:49:35.911 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2022-08-05 15:49:35.914 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:35.916 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:35.917 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:35.918 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:35.920 +04:00 [DBG] An entity of type 'Order' tracked by 'BookingContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:35.923 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-05 15:49:35.924 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-05 15:49:35.926 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-05 15:49:35.927 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:35.928 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:35.930 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-05 15:49:35.931 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-05 15:49:35.935 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:49:35.937 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:49:35.939 +04:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [City] = @p0, [CustomerId] = @p1, [FirstName] = @p2, [From] = @p3, [HostId] = @p4, [LastName] = @p5, [Status] = @p6, [To] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;
2022-08-05 15:49:35.946 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [City] = @p0, [CustomerId] = @p1, [FirstName] = @p2, [From] = @p3, [HostId] = @p4, [LastName] = @p5, [Status] = @p6, [To] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;
2022-08-05 15:49:35.949 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:49:35.950 +04:00 [DBG] Committing transaction.
2022-08-05 15:49:35.952 +04:00 [DBG] Committed transaction.
2022-08-05 15:49:35.953 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:35.954 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:49:35.956 +04:00 [DBG] Disposing transaction.
2022-08-05 15:49:35.957 +04:00 [DBG] An entity of type 'Order' tracked by 'BookingContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:49:35.959 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-05 15:49:35.961 +04:00 [INF] Update Guest successfully
2022-08-05 15:49:35.962 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-05 15:49:35.963 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.UpdateGuest (BookingApi) in 116.1541ms
2022-08-05 15:49:35.964 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.UpdateGuest (BookingApi)'
2022-08-05 15:49:35.965 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:49:35.967 +04:00 [INF] Request finished HTTP/2 PUT https://localhost:7058/Guest application/json 388 - 200 0 - 153.5211ms
2022-08-05 15:54:21.927 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-05 15:54:22.035 +04:00 [DBG] Hosting starting
2022-08-05 15:54:22.055 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-05 15:54:22.059 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-05 15:54:22.066 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-05 15:54:22.075 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-05 15:54:22.080 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-05 15:54:22.089 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-05 15:54:22.093 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-05 15:54:22.098 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-05 15:54:22.100 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-05 15:54:22.106 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-05 15:54:22.112 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-05 15:54:22.117 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-05 15:54:22.120 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-05 15:54:22.210 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-05 15:54:22.264 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-05 15:54:22.266 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-05 15:54:22.268 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-05 15:54:22.269 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-05 15:54:22.270 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-05 15:54:22.272 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-05 15:54:22.273 +04:00 [INF] Hosting environment: Development
2022-08-05 15:54:22.274 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-05 15:54:22.275 +04:00 [DBG] Hosting started
2022-08-05 15:54:22.329 +04:00 [DBG] Connection id "0HMJMR4U9QMDN" accepted.
2022-08-05 15:54:22.332 +04:00 [DBG] Connection id "0HMJMR4U9QMDN" started.
2022-08-05 15:54:22.332 +04:00 [DBG] Connection id "0HMJMR4U9QMDO" accepted.
2022-08-05 15:54:22.335 +04:00 [DBG] Connection id "0HMJMR4U9QMDO" started.
2022-08-05 15:54:22.335 +04:00 [DBG] Connection id "0HMJMR4U9QMDP" accepted.
2022-08-05 15:54:22.338 +04:00 [DBG] Connection id "0HMJMR4U9QMDP" started.
2022-08-05 15:54:22.338 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ" accepted.
2022-08-05 15:54:22.341 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ" started.
2022-08-05 15:54:22.388 +04:00 [DBG] Connection id "0HMJMR4U9QMDO" received FIN.
2022-08-05 15:54:22.388 +04:00 [DBG] Connection id "0HMJMR4U9QMDP" received FIN.
2022-08-05 15:54:22.388 +04:00 [DBG] Connection id "0HMJMR4U9QMDN" received FIN.
2022-08-05 15:54:22.398 +04:00 [DBG] Connection 0HMJMR4U9QMDP established using the following protocol: "Tls12"
2022-08-05 15:54:22.398 +04:00 [DBG] Connection 0HMJMR4U9QMDO established using the following protocol: "Tls12"
2022-08-05 15:54:22.398 +04:00 [DBG] Connection 0HMJMR4U9QMDQ established using the following protocol: "Tls12"
2022-08-05 15:54:22.398 +04:00 [DBG] Connection 0HMJMR4U9QMDN established using the following protocol: "Tls12"
2022-08-05 15:54:22.416 +04:00 [DBG] Connection id "0HMJMR4U9QMDP" is closed. The last processed stream ID was 0.
2022-08-05 15:54:22.416 +04:00 [DBG] Connection id "0HMJMR4U9QMDO" is closed. The last processed stream ID was 0.
2022-08-05 15:54:22.416 +04:00 [DBG] Connection id "0HMJMR4U9QMDN" is closed. The last processed stream ID was 0.
2022-08-05 15:54:22.418 +04:00 [DBG] Connection id "0HMJMR4U9QMDP" sending FIN because: "The client closed the connection."
2022-08-05 15:54:22.419 +04:00 [DBG] Connection id "0HMJMR4U9QMDO" sending FIN because: "The client closed the connection."
2022-08-05 15:54:22.421 +04:00 [DBG] Connection id "0HMJMR4U9QMDN" sending FIN because: "The client closed the connection."
2022-08-05 15:54:22.427 +04:00 [DBG] Connection id "0HMJMR4U9QMDP" stopped.
2022-08-05 15:54:22.427 +04:00 [DBG] Connection id "0HMJMR4U9QMDN" stopped.
2022-08-05 15:54:22.427 +04:00 [DBG] Connection id "0HMJMR4U9QMDO" stopped.
2022-08-05 15:54:22.451 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:54:22.451 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:54:22.451 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:54:22.451 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:54:22.451 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:54:22.459 +04:00 [DBG] Connection id "0HMJMR4U9QMDR" received FIN.
2022-08-05 15:54:22.459 +04:00 [DBG] Connection id "0HMJMR4U9QMDS" received FIN.
2022-08-05 15:54:22.461 +04:00 [DBG] Connection id "0HMJMR4U9QMDR" accepted.
2022-08-05 15:54:22.462 +04:00 [DBG] Connection id "0HMJMR4U9QMDS" accepted.
2022-08-05 15:54:22.464 +04:00 [DBG] Connection id "0HMJMR4U9QMDR" started.
2022-08-05 15:54:22.464 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-05 15:54:22.464 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-05 15:54:22.464 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-05 15:54:22.464 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-05 15:54:22.464 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-05 15:54:22.466 +04:00 [DBG] Connection id "0HMJMR4U9QMDS" started.
2022-08-05 15:54:22.469 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-05 15:54:22.470 +04:00 [DBG] Connection id "0HMJMR4U9QMDT" accepted.
2022-08-05 15:54:22.476 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-05 15:54:22.487 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:22.487 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:22.487 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:22.487 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:22.487 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:22.495 +04:00 [DBG] Connection id "0HMJMR4U9QMDR" stopped.
2022-08-05 15:54:22.496 +04:00 [DBG] Connection id "0HMJMR4U9QMDT" started.
2022-08-05 15:54:22.499 +04:00 [DBG] Connection id "0HMJMR4U9QMDS" stopped.
2022-08-05 15:54:22.500 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:22.501 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:22.502 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:22.503 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:22.504 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:22.506 +04:00 [DBG] Connection id "0HMJMR4U9QMDR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-05 15:54:22.509 +04:00 [DBG] Connection id "0HMJMR4U9QMDS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-05 15:54:22.513 +04:00 [DBG] Connection 0HMJMR4U9QMDT established using the following protocol: "Tls12"
2022-08-05 15:54:22.524 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-05 15:54:22.545 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:54:22.545 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:54:22.545 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:54:22.545 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:54:22.545 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:54:22.551 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:54:22.551 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:54:22.551 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:54:22.551 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:54:22.553 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:54:22.556 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:54:22.558 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:54:22.560 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:54:22.562 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:54:22.564 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:54:22.567 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:22.567 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:22.568 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:22.569 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:22.571 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:22.573 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:22.575 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:22.576 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:22.577 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:22.578 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:22.580 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:54:22.581 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:54:22.582 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:54:22.583 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:54:22.584 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:54:22.591 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 143.9131ms
2022-08-05 15:54:22.591 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 143.9158ms
2022-08-05 15:54:22.591 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 143.9162ms
2022-08-05 15:54:22.591 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 143.8794ms
2022-08-05 15:54:22.591 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 143.8779ms
2022-08-05 15:54:22.598 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 47
2022-08-05 15:54:22.600 +04:00 [DBG] POST requests are not supported
2022-08-05 15:54:22.601 +04:00 [DBG] POST requests are not supported
2022-08-05 15:54:22.604 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:54:22.606 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:54:22.608 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:54:22.610 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:22.611 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:22.633 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-05 15:54:22.652 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 15:54:22.656 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:54:22.698 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 15:54:22.702 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:54:22.704 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:54:22.706 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:54:22.710 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:54:22.712 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:54:22.715 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:54:22.733 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-05 15:54:22.735 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 210.7952ms
2022-08-05 15:54:22.735 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-05 15:54:22.735 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-05 15:54:22.745 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 9.8044ms
2022-08-05 15:54:22.757 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.3998ms
2022-08-05 15:54:22.851 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-05 15:54:23.302 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-05 15:54:23.429 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.3372ms
2022-08-05 15:54:23.883 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:54:23.891 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:54:23.897 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:54:23.903 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-05 15:54:23.907 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:54:23.915 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ", Request id "0HMJMR4U9QMDQ:0000000B": started reading request body.
2022-08-05 15:54:23.918 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ", Request id "0HMJMR4U9QMDQ:0000000B": done reading request body.
2022-08-05 15:54:23.928 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-05 15:54:23.930 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:54:23.931 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:54:23.933 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:54:23.955 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:54:24.062 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-05 15:54:24.333 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-05 15:54:24.395 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:54:24.428 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (33ms).
2022-08-05 15:54:24.445 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:24.677 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:24.693 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:54:24.793 +04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:54:24.909 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:54:24.957 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:54:24.963 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:24.970 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:25.098 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:54:25.107 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:54:25.108 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:54:25.111 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:54:25.115 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:54:25.118 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-05 15:54:25.130 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 2409.7952ms
2022-08-05 15:54:25.132 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:54:25.136 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:54:25.140 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 47 - 200 - application/json;+charset=utf-8 2541.6124ms
2022-08-05 15:54:25.141 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1009 - -
2022-08-05 15:54:25.147 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:25.148 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:25.150 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1009'
2022-08-05 15:54:25.151 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1009'
2022-08-05 15:54:25.154 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:54:25.156 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:25.158 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:25.159 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:54:25.163 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1009 - - - 204 - - 21.2886ms
2022-08-05 15:54:25.164 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1009 application/json -
2022-08-05 15:54:25.166 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:54:25.167 +04:00 [DBG] The request path /Profile/1009 does not match a supported file type
2022-08-05 15:54:25.170 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1009'
2022-08-05 15:54:25.171 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1009'
2022-08-05 15:54:25.175 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:54:25.179 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:25.180 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:25.251 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:54:25.253 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:54:25.259 +04:00 [DBG] Authorization was successful.
2022-08-05 15:54:25.261 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:54:25.266 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:54:25.270 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:54:25.275 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:54:25.278 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:54:25.281 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:54:25.283 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:54:25.288 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:54:25.338 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:54:25.342 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:54:25.344 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:54:25.346 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:54:25.348 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:54:25.352 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:54:25.353 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:54:25.355 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:54:25.368 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Where(x => x.UserId == __userId_0)
    .Include(x => x.Apartment)
    .Include(x => x.Order)
    .SingleOrDefault()'
2022-08-05 15:54:25.388 +04:00 [DBG] Including navigation: 'Profile.Apartment'.
2022-08-05 15:54:25.392 +04:00 [DBG] Including navigation: 'Profile.Order'.
2022-08-05 15:54:25.496 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
                1 -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Apartment.Address (string) Required, 8], [Property: Apartment.City (string), 9], [Property: Apartment.Description (string), 10], [Property: Apartment.DistanceToCenter (int) Required, 11], [Property: Apartment.From (DateTime) Required, 12], [Property: Apartment.HostId (int) Required FK Index, 13], [Property: Apartment.IsAvailable (bool) Required, 14], [Property: Apartment.NumbOfBeds (int) Required, 15], [Property: Apartment.Photo (string), 16], [Property: Apartment.To (DateTime) Required, 17] }
                2 -> 0
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: Order.City (string) Required, 19], [Property: Order.CustomerId (int) Required, 20], [Property: Order.FirstName (string) Required, 21], [Property: Order.From (DateTime) Required, 22], [Property: Order.HostId (int) Required FK Index, 23], [Property: Order.LastName (string) Required, 24], [Property: Order.Status (int?), 25], [Property: Order.To (DateTime) Required, 26] }
                5 -> 18
            SELECT t.UserId, t.Description, t.Email, t.FirstName, t.LastName, t.Password, t.Photo, t.Id, t.Address, t.City, t.Description0, t.DistanceToCenter, t.From, t.HostId, t.IsAvailable, t.NumbOfBeds, t.Photo0, t.To, o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
            FROM 
            (
                SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo, a.Id, a.Address, a.City, a.Description AS Description0, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo AS Photo0, a.To
                FROM Profile AS p
                LEFT JOIN Apartments AS a ON p.UserId == a.HostId
                WHERE p.UserId == @__userId_0
            ) AS t
            LEFT JOIN Orders AS o ON t.UserId == o.HostId
            ORDER BY t.UserId ASC, t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-05 15:54:25.513 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:54:25.515 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:54:25.516 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:25.519 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:25.521 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:54:25.534 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:54:25.556 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:54:25.562 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:54:25.602 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:54:25.620 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:54:25.621 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:25.623 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:25.631 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-05 15:54:25.637 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-05 15:54:25.644 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:54:25.645 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:54:25.646 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:25.651 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:25.652 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:54:25.657 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:54:25.662 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:54:25.665 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:25.667 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:25.760 +04:00 [INF] Get Profile
2022-08-05 15:54:25.774 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:54:25.777 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:54:25.778 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:54:25.780 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:54:25.782 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:54:25.784 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:54:25.809 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 520.6317ms
2022-08-05 15:54:25.810 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:54:25.812 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:54:25.814 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1009 application/json - - 200 - application/json;+charset=utf-8 649.1315ms
2022-08-05 15:54:25.820 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1009 - -
2022-08-05 15:54:25.821 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1009 - -
2022-08-05 15:54:25.823 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:25.825 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:25.826 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:25.827 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:54:25.829 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1009'
2022-08-05 15:54:25.831 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1009'
2022-08-05 15:54:25.833 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1009'
2022-08-05 15:54:25.834 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1009'
2022-08-05 15:54:25.839 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:54:25.843 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:54:25.845 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:25.846 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:25.847 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:25.849 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:25.850 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:54:25.851 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:54:25.853 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1009 - - - 204 - - 32.9460ms
2022-08-05 15:54:25.855 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1009 - -
2022-08-05 15:54:25.857 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1009 - - - 204 - - 36.1012ms
2022-08-05 15:54:25.859 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1009 application/json -
2022-08-05 15:54:25.860 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:54:25.864 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:54:25.865 +04:00 [DBG] The request path /Guest/1009 does not match a supported file type
2022-08-05 15:54:25.867 +04:00 [DBG] The request path /Booking/1009 does not match a supported file type
2022-08-05 15:54:25.869 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1009'
2022-08-05 15:54:25.875 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1009'
2022-08-05 15:54:25.877 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1009'
2022-08-05 15:54:25.882 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:54:25.878 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1009'
2022-08-05 15:54:25.892 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:25.895 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:54:25.897 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:25.899 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:54:25.903 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:54:25.905 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:54:25.906 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:54:25.907 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:54:25.909 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:54:25.911 +04:00 [DBG] Authorization was successful.
2022-08-05 15:54:25.912 +04:00 [DBG] Authorization was successful.
2022-08-05 15:54:25.913 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:54:25.914 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:54:25.920 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:54:25.925 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:54:25.926 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:54:25.927 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:54:25.930 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:54:25.934 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:54:25.936 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:54:25.940 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:54:25.942 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:54:25.944 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:54:25.947 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:54:25.952 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:54:25.954 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:54:25.958 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:54:25.964 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:54:25.964 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:54:25.969 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:54:25.972 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:54:25.973 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:54:25.975 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:54:25.977 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:54:25.978 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:54:25.983 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:54:25.986 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:54:25.987 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:54:25.988 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:54:25.990 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:54:25.992 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:54:25.994 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:54:25.995 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:54:26.012 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.HostId == __hostId_0)'
2022-08-05 15:54:26.016 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:54:26.017 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:54:26.019 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.019 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.HostId == @__hostId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-05 15:54:26.021 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.027 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:54:26.031 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:54:26.033 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2022-08-05 15:54:26.037 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:54:26.038 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.045 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:54:26.048 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.050 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.052 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.052 +04:00 [INF] GetBookings successfully
2022-08-05 15:54:26.053 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:54:26.061 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:54:26.062 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:54:26.065 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:54:26.069 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:54:26.071 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:54:26.073 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:54:26.075 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.078 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:54:26.080 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.081 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:54:26.084 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:54:26.085 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-05 15:54:26.088 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 129.1813ms
2022-08-05 15:54:26.094 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:54:26.095 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-05 15:54:26.096 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:54:26.104 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:54:26.105 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1009 application/json - - 200 - application/json;+charset=utf-8 245.2949ms
2022-08-05 15:54:26.107 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:54:26.116 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.118 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.120 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:54:26.130 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:54:26.134 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:54:26.137 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:54:26.138 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.143 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:54:26.149 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:54:26.153 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:54:26.156 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:54:26.159 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:54:26.160 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:54:26.163 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:54:26.166 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 213.4753ms
2022-08-05 15:54:26.168 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:54:26.170 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:54:26.176 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1009 - - - 200 - application/json;+charset=utf-8 320.3218ms
2022-08-05 15:55:03.270 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:55:03.272 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:03.275 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:03.277 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:55:03.279 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:55:03.286 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:55:03.287 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:03.289 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:03.291 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:55:03.293 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 23.6796ms
2022-08-05 15:55:03.295 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 48
2022-08-05 15:55:03.298 +04:00 [DBG] POST requests are not supported
2022-08-05 15:55:03.300 +04:00 [DBG] POST requests are not supported
2022-08-05 15:55:03.302 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:55:03.304 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:55:03.308 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:55:03.310 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:03.314 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:03.316 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 15:55:03.317 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:55:03.319 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 15:55:03.323 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:55:03.325 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:55:03.330 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:55:03.335 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:55:03.337 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:55:03.341 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:55:03.350 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:55:03.356 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:55:03.358 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:55:03.362 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-05 15:55:03.365 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:55:03.367 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ", Request id "0HMJMR4U9QMDQ:0000001B": started reading request body.
2022-08-05 15:55:03.369 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ", Request id "0HMJMR4U9QMDQ:0000001B": done reading request body.
2022-08-05 15:55:03.372 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-05 15:55:03.374 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:55:03.378 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:55:03.380 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:55:03.384 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:55:03.387 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:03.388 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:55:03.393 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.395 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.397 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:55:03.402 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:55:03.410 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:03.413 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:03.414 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.416 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.418 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:55:03.427 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:55:03.428 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:55:03.431 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:55:03.433 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:55:03.435 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-05 15:55:03.439 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 99.0948ms
2022-08-05 15:55:03.444 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:55:03.445 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:55:03.448 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 48 - 200 - application/json;+charset=utf-8 153.0405ms
2022-08-05 15:55:03.453 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1010 - -
2022-08-05 15:55:03.455 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:03.457 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:03.459 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1010'
2022-08-05 15:55:03.460 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1010'
2022-08-05 15:55:03.463 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:55:03.465 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:03.466 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:03.470 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:55:03.472 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1010 - - - 204 - - 19.1284ms
2022-08-05 15:55:03.474 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1010 application/json -
2022-08-05 15:55:03.475 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:55:03.477 +04:00 [DBG] The request path /Profile/1010 does not match a supported file type
2022-08-05 15:55:03.478 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1010'
2022-08-05 15:55:03.480 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1010'
2022-08-05 15:55:03.485 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:55:03.487 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:03.488 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:03.491 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:55:03.492 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:55:03.494 +04:00 [DBG] Authorization was successful.
2022-08-05 15:55:03.495 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:55:03.497 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:55:03.503 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:55:03.505 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:55:03.507 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:55:03.512 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:55:03.514 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:55:03.518 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:55:03.521 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:55:03.524 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:55:03.526 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:55:03.528 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:55:03.530 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:55:03.534 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:55:03.536 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:55:03.537 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:55:03.540 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:03.541 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:55:03.543 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.545 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.549 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:55:03.557 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:55:03.567 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:03.570 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:03.571 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.573 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.575 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:03.576 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:55:03.581 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.583 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.586 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:55:03.591 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:55:03.598 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:03.600 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:03.602 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.604 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.606 +04:00 [INF] Get Profile
2022-08-05 15:55:03.607 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:55:03.615 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:55:03.617 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:55:03.619 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:55:03.620 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:55:03.623 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:55:03.627 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 108.1602ms
2022-08-05 15:55:03.629 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:55:03.631 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:55:03.633 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1010 application/json - - 200 - application/json;+charset=utf-8 159.7994ms
2022-08-05 15:55:03.637 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1010 - -
2022-08-05 15:55:03.638 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1010 - -
2022-08-05 15:55:03.639 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:03.641 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:03.645 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:03.647 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:03.648 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1010'
2022-08-05 15:55:03.651 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1010'
2022-08-05 15:55:03.655 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1010'
2022-08-05 15:55:03.662 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1010'
2022-08-05 15:55:03.666 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:55:03.670 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:55:03.672 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:03.678 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:03.680 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:03.682 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:03.685 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:55:03.687 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1010 - - - 204 - - 49.2584ms
2022-08-05 15:55:03.684 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:55:03.702 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1010 - - - 204 - - 65.1743ms
2022-08-05 15:55:03.699 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1010 application/json -
2022-08-05 15:55:03.719 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:55:03.710 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1010 - -
2022-08-05 15:55:03.726 +04:00 [DBG] The request path /Booking/1010 does not match a supported file type
2022-08-05 15:55:03.731 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:55:03.734 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1010'
2022-08-05 15:55:03.738 +04:00 [DBG] The request path /Guest/1010 does not match a supported file type
2022-08-05 15:55:03.742 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1010'
2022-08-05 15:55:03.749 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:55:03.745 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1010'
2022-08-05 15:55:03.757 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1010'
2022-08-05 15:55:03.754 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:03.761 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:55:03.763 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:03.766 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:03.770 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:55:03.772 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:03.775 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:55:03.778 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:55:03.780 +04:00 [DBG] Authorization was successful.
2022-08-05 15:55:03.782 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:55:03.786 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:55:03.788 +04:00 [DBG] Authorization was successful.
2022-08-05 15:55:03.790 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:55:03.792 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:55:03.797 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:55:03.801 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:55:03.803 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:55:03.810 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:55:03.813 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:55:03.818 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:55:03.822 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:55:03.826 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:55:03.829 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:55:03.835 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:55:03.838 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:55:03.841 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:55:03.846 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:55:03.851 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:55:03.855 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:55:03.858 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:55:03.859 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:55:03.866 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:55:03.868 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:55:03.870 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:55:03.874 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:55:03.877 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:55:03.882 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:55:03.885 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:55:03.887 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:55:03.889 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:55:03.892 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:55:03.896 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:55:03.899 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:03.900 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:55:03.902 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-05 15:55:03.904 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:03.907 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.912 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2022-08-05 15:55:03.915 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.917 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.919 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:55:03.921 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.936 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:55:03.938 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:55:03.960 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:03.967 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:55:03.971 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:03.983 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:03.985 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.987 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.994 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:03.996 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:04.001 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:04.003 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:55:04.008 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2022-08-05 15:55:04.017 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:55:04.025 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:04.027 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:55:04.030 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:04.032 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:55:04.034 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:55:04.038 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:55:04.047 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:55:04.052 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:55:04.056 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:04.059 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 208.0884ms
2022-08-05 15:55:04.062 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:04.063 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:55:04.064 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:04.069 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:55:04.071 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:04.072 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1010 - - - 200 - application/json;+charset=utf-8 361.9879ms
2022-08-05 15:55:04.076 +04:00 [INF] GetBookings successfully
2022-08-05 15:55:04.079 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:55:04.085 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:55:04.087 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:55:04.089 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:55:04.090 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:55:04.093 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:55:04.099 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 260.4497ms
2022-08-05 15:55:04.101 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:55:04.103 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:55:04.105 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1010 application/json - - 200 - application/json;+charset=utf-8 406.2312ms
2022-08-05 15:55:29.227 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 15:55:29.229 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:29.230 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:29.232 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:55:29.234 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:55:29.237 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:55:29.238 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:29.244 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:29.246 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:55:29.247 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 20.2110ms
2022-08-05 15:55:29.249 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 45
2022-08-05 15:55:29.251 +04:00 [DBG] POST requests are not supported
2022-08-05 15:55:29.253 +04:00 [DBG] POST requests are not supported
2022-08-05 15:55:29.254 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 15:55:29.259 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 15:55:29.262 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:55:29.264 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:29.266 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:29.268 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 15:55:29.269 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:55:29.274 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 15:55:29.279 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:55:29.281 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:55:29.284 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:55:29.290 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:55:29.293 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:55:29.296 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:55:29.299 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:55:29.301 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 15:55:29.306 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:55:29.309 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-05 15:55:29.312 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:55:29.315 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ", Request id "0HMJMR4U9QMDQ:0000002B": started reading request body.
2022-08-05 15:55:29.316 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ", Request id "0HMJMR4U9QMDQ:0000002B": done reading request body.
2022-08-05 15:55:29.318 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-05 15:55:29.323 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:55:29.325 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:55:29.328 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 15:55:29.330 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 15:55:29.333 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:29.334 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:55:29.339 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.343 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.345 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:55:29.353 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 15:55:29.357 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:29.359 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:29.361 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.363 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.365 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:55:29.371 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:55:29.372 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:55:29.375 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:55:29.377 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:55:29.379 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-05 15:55:29.381 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 85.4425ms
2022-08-05 15:55:29.386 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 15:55:29.388 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:55:29.390 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 45 - 200 - application/json;+charset=utf-8 140.7469ms
2022-08-05 15:55:29.394 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1005 - -
2022-08-05 15:55:29.395 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:29.396 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:29.399 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1005'
2022-08-05 15:55:29.402 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1005'
2022-08-05 15:55:29.405 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:55:29.406 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:29.408 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:29.410 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:55:29.411 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1005 - - - 204 - - 17.2194ms
2022-08-05 15:55:29.413 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1005 application/json -
2022-08-05 15:55:29.416 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:55:29.418 +04:00 [DBG] The request path /Profile/1005 does not match a supported file type
2022-08-05 15:55:29.420 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1005'
2022-08-05 15:55:29.422 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1005'
2022-08-05 15:55:29.425 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:55:29.427 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:29.428 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:29.433 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:55:29.435 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:55:29.437 +04:00 [DBG] Authorization was successful.
2022-08-05 15:55:29.438 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:55:29.440 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:55:29.444 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:55:29.449 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:55:29.452 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:55:29.458 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:55:29.464 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:55:29.466 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:55:29.469 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:55:29.472 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:55:29.475 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:55:29.479 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:55:29.481 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:55:29.483 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:55:29.485 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:55:29.487 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:55:29.489 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:29.491 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:55:29.495 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.497 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.498 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:55:29.511 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:55:29.517 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:29.519 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:29.522 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:29.528 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:29.529 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.531 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.534 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:29.535 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:55:29.537 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.539 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.544 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:55:29.551 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:55:29.556 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:29.560 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.562 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.564 +04:00 [INF] Get Profile
2022-08-05 15:55:29.566 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:55:29.570 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:55:29.575 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:55:29.578 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:55:29.579 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:55:29.583 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:55:29.586 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 119.6196ms
2022-08-05 15:55:29.590 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:55:29.592 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:55:29.595 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1005 application/json - - 200 - application/json;+charset=utf-8 181.4118ms
2022-08-05 15:55:29.599 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1005 - -
2022-08-05 15:55:29.600 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1005 - -
2022-08-05 15:55:29.601 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:29.605 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:29.607 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:29.610 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:55:29.613 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1005'
2022-08-05 15:55:29.616 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1005'
2022-08-05 15:55:29.623 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1005'
2022-08-05 15:55:29.626 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1005'
2022-08-05 15:55:29.630 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:55:29.637 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:55:29.642 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:29.639 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:29.644 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:29.646 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:29.648 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:55:29.650 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:55:29.655 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1005 - - - 204 - - 54.6800ms
2022-08-05 15:55:29.657 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1005 - - - 204 - - 58.2179ms
2022-08-05 15:55:29.659 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1005 application/json -
2022-08-05 15:55:29.660 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1005 - -
2022-08-05 15:55:29.663 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:55:29.665 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:55:29.669 +04:00 [DBG] The request path /Booking/1005 does not match a supported file type
2022-08-05 15:55:29.670 +04:00 [DBG] The request path /Guest/1005 does not match a supported file type
2022-08-05 15:55:29.673 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1005'
2022-08-05 15:55:29.676 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1005'
2022-08-05 15:55:29.678 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1005'
2022-08-05 15:55:29.680 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1005'
2022-08-05 15:55:29.685 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:55:29.688 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:55:29.691 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:29.696 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:55:29.704 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:29.708 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:55:29.727 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:55:29.720 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:55:29.729 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:55:29.733 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:55:29.736 +04:00 [DBG] Authorization was successful.
2022-08-05 15:55:29.738 +04:00 [DBG] Authorization was successful.
2022-08-05 15:55:29.740 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:55:29.743 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:55:29.749 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:55:29.752 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:55:29.758 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:55:29.765 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:55:29.770 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:55:29.774 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:55:29.781 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:55:29.785 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:55:29.796 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:55:29.801 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:55:29.804 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:55:29.808 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:55:29.814 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:55:29.818 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:55:29.822 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:55:29.823 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:55:29.828 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:55:29.831 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:55:29.833 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:55:29.835 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:55:29.837 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:55:29.839 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:55:29.845 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:55:29.849 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:55:29.851 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:55:29.852 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:55:29.854 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:55:29.856 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:55:29.861 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:55:29.863 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:55:29.865 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:29.866 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:29.868 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-05 15:55:29.869 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:55:29.871 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.876 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.879 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.881 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.883 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:55:29.885 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:55:29.895 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:55:29.900 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:55:29.908 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:29.913 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:29.916 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:29.917 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.921 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.927 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.929 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.931 +04:00 [INF] GetBookings successfully
2022-08-05 15:55:29.933 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:55:29.936 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:55:29.938 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2022-08-05 15:55:29.944 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:55:29.946 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.947 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:55:29.952 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.954 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:55:29.956 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:55:29.958 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:55:29.969 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:55:29.970 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:55:29.977 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:55:29.984 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 166.5362ms
2022-08-05 15:55:29.989 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:55:29.993 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:55:29.994 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:29.998 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:55:29.999 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:55:30.001 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1005 application/json - - 200 - application/json;+charset=utf-8 342.1757ms
2022-08-05 15:55:30.003 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:55:30.018 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:55:30.019 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:55:30.021 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:55:30.024 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:55:30.030 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:55:30.035 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 221.6395ms
2022-08-05 15:55:30.037 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:55:30.039 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:55:30.042 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1005 - - - 200 - application/json;+charset=utf-8 381.7067ms
2022-08-05 15:56:35.396 +04:00 [DBG] Connection id "0HMJMR4U9QMDT" is closing.
2022-08-05 15:56:35.398 +04:00 [DBG] Connection id "0HMJMR4U9QMDT" is closed. The last processed stream ID was 7.
2022-08-05 15:56:35.401 +04:00 [DBG] Connection id "0HMJMR4U9QMDT" received FIN.
2022-08-05 15:56:35.402 +04:00 [DBG] Connection id "0HMJMR4U9QMDT" stopped.
2022-08-05 15:56:35.404 +04:00 [DBG] Connection id "0HMJMR4U9QMDT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-05 15:57:42.011 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ" is closing.
2022-08-05 15:57:42.013 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ" is closed. The last processed stream ID was 55.
2022-08-05 15:57:42.016 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ" received FIN.
2022-08-05 15:57:42.016 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ" stopped.
2022-08-05 15:57:42.019 +04:00 [DBG] Connection id "0HMJMR4U9QMDQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-05 15:58:25.023 +04:00 [DBG] Connection id "0HMJMR4U9QMDU" accepted.
2022-08-05 15:58:25.025 +04:00 [DBG] Connection id "0HMJMR4U9QMDU" started.
2022-08-05 15:58:25.036 +04:00 [DBG] Connection 0HMJMR4U9QMDU established using the following protocol: "Tls12"
2022-08-05 15:58:25.038 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/UpdateUser - -
2022-08-05 15:58:25.040 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:58:25.041 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:58:25.043 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/UpdateUser'
2022-08-05 15:58:25.045 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)' with route pattern 'Profile/UpdateUser' is valid for the request path '/Profile/UpdateUser'
2022-08-05 15:58:25.049 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:58:25.050 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:58:25.051 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:58:25.052 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:58:25.054 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/UpdateUser - - - 204 - - 15.7744ms
2022-08-05 15:58:25.055 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Profile/UpdateUser application/json 112
2022-08-05 15:58:25.057 +04:00 [DBG] POST requests are not supported
2022-08-05 15:58:25.058 +04:00 [DBG] POST requests are not supported
2022-08-05 15:58:25.059 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/UpdateUser'
2022-08-05 15:58:25.061 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)' with route pattern 'Profile/UpdateUser' is valid for the request path '/Profile/UpdateUser'
2022-08-05 15:58:25.064 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:58:25.065 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:58:25.067 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:58:25.068 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:58:25.070 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:58:25.072 +04:00 [DBG] Authorization was successful.
2022-08-05 15:58:25.073 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:58:25.081 +04:00 [INF] Route matched with {action = "UpdateUser", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(BookingApi.Models.Request.ProfileRequest) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:58:25.085 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:58:25.087 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:58:25.089 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:58:25.091 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:58:25.093 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:58:25.096 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:58:25.098 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:58:25.101 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:58:25.102 +04:00 [DBG] Attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' ...
2022-08-05 15:58:25.103 +04:00 [DBG] Attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' using the name '' in request data ...
2022-08-05 15:58:25.105 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 15:58:25.107 +04:00 [DBG] Connection id "0HMJMR4U9QMDU", Request id "0HMJMR4U9QMDU:00000003": started reading request body.
2022-08-05 15:58:25.109 +04:00 [DBG] Connection id "0HMJMR4U9QMDU", Request id "0HMJMR4U9QMDU:00000003": done reading request body.
2022-08-05 15:58:25.114 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.ProfileRequest'
2022-08-05 15:58:25.116 +04:00 [DBG] Done attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 15:58:25.118 +04:00 [DBG] Done attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 15:58:25.121 +04:00 [DBG] Attempting to validate the bound parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' ...
2022-08-05 15:58:25.129 +04:00 [DBG] Done attempting to validate the bound parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 15:58:25.155 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.UserId == __profile_UserId_0)'
2022-08-05 15:58:25.164 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE p.UserId == @__profile_UserId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-05 15:58:25.169 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:58:25.171 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:58:25.173 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:25.175 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:25.178 +04:00 [DBG] Executing DbCommand [Parameters=[@__profile_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE [p].[UserId] = @__profile_UserId_0
2022-08-05 15:58:25.184 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__profile_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE [p].[UserId] = @__profile_UserId_0
2022-08-05 15:58:25.188 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:58:25.191 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:58:25.193 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:25.195 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:25.216 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:58:25.223 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-05 15:58:25.227 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-05 15:58:25.241 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-05 15:58:25.267 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:25.269 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:25.272 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-05 15:58:25.281 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-05 15:58:25.350 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:58:25.352 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:58:25.356 +04:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Profile] SET [Description] = @p0, [Email] = @p1, [FirstName] = @p2, [LastName] = @p3, [Password] = @p4, [Photo] = @p5
WHERE [UserId] = @p6;
SELECT @@ROWCOUNT;
2022-08-05 15:58:25.365 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Profile] SET [Description] = @p0, [Email] = @p1, [FirstName] = @p2, [LastName] = @p3, [Password] = @p4, [Photo] = @p5
WHERE [UserId] = @p6;
SELECT @@ROWCOUNT;
2022-08-05 15:58:25.376 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:58:25.381 +04:00 [DBG] Committing transaction.
2022-08-05 15:58:25.395 +04:00 [DBG] Committed transaction.
2022-08-05 15:58:25.398 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:25.400 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:25.404 +04:00 [DBG] Disposing transaction.
2022-08-05 15:58:25.408 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:58:25.413 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-05 15:58:25.419 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-05 15:58:25.421 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.UpdateUser (BookingApi) in 324.4508ms
2022-08-05 15:58:25.422 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 15:58:25.424 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:58:25.426 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Profile/UpdateUser application/json 112 - 200 0 - 370.4106ms
2022-08-05 15:58:31.818 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1005 - -
2022-08-05 15:58:31.820 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:58:31.822 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:58:31.823 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1005'
2022-08-05 15:58:31.824 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1005'
2022-08-05 15:58:31.828 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:58:31.830 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:58:31.832 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:58:31.835 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:58:31.838 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1005 - - - 204 - - 19.2643ms
2022-08-05 15:58:31.842 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1005 application/json -
2022-08-05 15:58:31.845 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:58:31.847 +04:00 [DBG] The request path /Profile/1005 does not match a supported file type
2022-08-05 15:58:31.849 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1005'
2022-08-05 15:58:31.851 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1005'
2022-08-05 15:58:31.854 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:58:31.855 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:58:31.857 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:58:31.859 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:58:31.860 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:58:31.862 +04:00 [DBG] Authorization was successful.
2022-08-05 15:58:31.864 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:58:31.865 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 15:58:31.869 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:58:31.871 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:58:31.874 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:58:31.878 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:58:31.880 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:58:31.882 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:58:31.885 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:58:31.887 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 15:58:31.889 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:58:31.891 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 15:58:31.893 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:58:31.895 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 15:58:31.897 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 15:58:31.899 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 15:58:31.901 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:58:31.902 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:58:31.904 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:31.905 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:31.907 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:58:31.918 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 15:58:31.922 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:58:31.924 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:58:31.926 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:58:31.930 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:58:31.931 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:31.932 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:31.934 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:58:31.935 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 15:58:31.937 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:31.939 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:31.941 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:58:31.947 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:58:31.950 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:58:31.951 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:31.952 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:31.954 +04:00 [INF] Get Profile
2022-08-05 15:58:31.955 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:58:31.958 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:58:31.959 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:58:31.963 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:58:31.964 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:58:31.967 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 15:58:31.969 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 86.4608ms
2022-08-05 15:58:31.971 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 15:58:31.972 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:58:31.974 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1005 application/json - - 200 - application/json;+charset=utf-8 131.4592ms
2022-08-05 15:58:32.003 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1005 - -
2022-08-05 15:58:32.004 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1005 - -
2022-08-05 15:58:32.004 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:58:32.005 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:58:32.006 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:58:32.008 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 15:58:32.009 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1005'
2022-08-05 15:58:32.012 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1005'
2022-08-05 15:58:32.013 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1005'
2022-08-05 15:58:32.015 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1005'
2022-08-05 15:58:32.016 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:58:32.018 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:58:32.020 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:58:32.021 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:58:32.022 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:58:32.023 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:58:32.025 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:58:32.026 +04:00 [DBG] The request is a preflight request.
2022-08-05 15:58:32.028 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1005 - - - 204 - - 24.5839ms
2022-08-05 15:58:32.029 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1005 - - - 204 - - 25.4930ms
2022-08-05 15:58:32.031 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1005 - -
2022-08-05 15:58:32.031 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1005 application/json -
2022-08-05 15:58:32.033 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:58:32.035 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 15:58:32.036 +04:00 [DBG] The request path /Guest/1005 does not match a supported file type
2022-08-05 15:58:32.038 +04:00 [DBG] The request path /Booking/1005 does not match a supported file type
2022-08-05 15:58:32.039 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1005'
2022-08-05 15:58:32.041 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1005'
2022-08-05 15:58:32.044 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1005'
2022-08-05 15:58:32.046 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1005'
2022-08-05 15:58:32.048 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:58:32.051 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:58:32.054 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:58:32.056 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 15:58:32.057 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:58:32.060 +04:00 [INF] CORS policy execution successful.
2022-08-05 15:58:32.063 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:58:32.065 +04:00 [DBG] Successfully validated the token.
2022-08-05 15:58:32.068 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:58:32.069 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 15:58:32.072 +04:00 [DBG] Authorization was successful.
2022-08-05 15:58:32.076 +04:00 [DBG] Authorization was successful.
2022-08-05 15:58:32.077 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:58:32.079 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:58:32.081 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 15:58:32.085 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 15:58:32.092 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:58:32.097 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 15:58:32.101 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:58:32.103 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 15:58:32.106 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:58:32.108 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 15:58:32.113 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:58:32.118 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 15:58:32.120 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:58:32.121 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 15:58:32.124 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:58:32.126 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:58:32.130 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:58:32.133 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 15:58:32.138 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 15:58:32.141 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 15:58:32.142 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:58:32.144 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:58:32.146 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 15:58:32.147 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 15:58:32.149 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:58:32.151 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:58:32.153 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:58:32.154 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:58:32.155 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 15:58:32.157 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 15:58:32.159 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 15:58:32.164 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 15:58:32.167 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:58:32.169 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:58:32.171 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-05 15:58:32.172 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:58:32.174 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.175 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.177 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.180 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.183 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:58:32.187 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:58:32.192 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 15:58:32.195 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 15:58:32.200 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:58:32.203 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:58:32.205 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:58:32.206 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.208 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.209 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.211 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.214 +04:00 [INF] GetBookings successfully
2022-08-05 15:58:32.216 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 15:58:32.217 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:58:32.218 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-05 15:58:32.221 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:58:32.223 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.224 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:58:32.226 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.228 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:58:32.231 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:58:32.235 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:58:32.240 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 15:58:32.240 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:58:32.245 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 15:58:32.248 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 122.1743ms
2022-08-05 15:58:32.250 +04:00 [DBG] A data reader was disposed.
2022-08-05 15:58:32.251 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 15:58:32.252 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.253 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:58:32.255 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 15:58:32.256 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1005 application/json - - 200 - application/json;+charset=utf-8 224.9564ms
2022-08-05 15:58:32.259 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 15:58:32.265 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 15:58:32.267 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 15:58:32.268 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 15:58:32.269 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 15:58:32.271 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 15:58:32.273 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 148.85ms
2022-08-05 15:58:32.275 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 15:58:32.277 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 15:58:32.280 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1005 - - - 200 - application/json;+charset=utf-8 249.4034ms
2022-08-05 16:00:43.741 +04:00 [DBG] Connection id "0HMJMR4U9QMDU" is closing.
2022-08-05 16:00:43.744 +04:00 [DBG] Connection id "0HMJMR4U9QMDU" is closed. The last processed stream ID was 15.
2022-08-05 16:00:43.746 +04:00 [DBG] Connection id "0HMJMR4U9QMDU" received FIN.
2022-08-05 16:00:43.747 +04:00 [DBG] Connection id "0HMJMR4U9QMDU" stopped.
2022-08-05 16:00:43.749 +04:00 [DBG] Connection id "0HMJMR4U9QMDU" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-05 16:02:06.056 +04:00 [DBG] Connection id "0HMJMR4U9QMDV" accepted.
2022-08-05 16:02:06.058 +04:00 [DBG] Connection id "0HMJMR4U9QMDV" started.
2022-08-05 16:02:06.061 +04:00 [DBG] Connection 0HMJMR4U9QMDV established using the following protocol: "Tls12"
2022-08-05 16:02:06.091 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/UpdateUser - -
2022-08-05 16:02:06.092 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 16:02:06.093 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 16:02:06.095 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/UpdateUser'
2022-08-05 16:02:06.096 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)' with route pattern 'Profile/UpdateUser' is valid for the request path '/Profile/UpdateUser'
2022-08-05 16:02:06.098 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 16:02:06.100 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 16:02:06.101 +04:00 [INF] CORS policy execution successful.
2022-08-05 16:02:06.113 +04:00 [DBG] The request is a preflight request.
2022-08-05 16:02:06.114 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/UpdateUser - - - 204 - - 23.0607ms
2022-08-05 16:02:06.116 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Profile/UpdateUser application/json 798723
2022-08-05 16:02:06.118 +04:00 [DBG] POST requests are not supported
2022-08-05 16:02:06.119 +04:00 [DBG] POST requests are not supported
2022-08-05 16:02:06.120 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/UpdateUser'
2022-08-05 16:02:06.122 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)' with route pattern 'Profile/UpdateUser' is valid for the request path '/Profile/UpdateUser'
2022-08-05 16:02:06.124 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 16:02:06.125 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 16:02:06.127 +04:00 [INF] CORS policy execution successful.
2022-08-05 16:02:06.128 +04:00 [DBG] Successfully validated the token.
2022-08-05 16:02:06.129 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 16:02:06.130 +04:00 [DBG] Authorization was successful.
2022-08-05 16:02:06.131 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 16:02:06.132 +04:00 [INF] Route matched with {action = "UpdateUser", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(BookingApi.Models.Request.ProfileRequest) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 16:02:06.135 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 16:02:06.137 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 16:02:06.138 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 16:02:06.141 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 16:02:06.143 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 16:02:06.145 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 16:02:06.147 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 16:02:06.149 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 16:02:06.150 +04:00 [DBG] Attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' ...
2022-08-05 16:02:06.152 +04:00 [DBG] Attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' using the name '' in request data ...
2022-08-05 16:02:06.153 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 16:02:06.155 +04:00 [DBG] Connection id "0HMJMR4U9QMDV", Request id "0HMJMR4U9QMDV:00000003": started reading request body.
2022-08-05 16:02:06.171 +04:00 [DBG] Connection id "0HMJMR4U9QMDV", Request id "0HMJMR4U9QMDV:00000003": done reading request body.
2022-08-05 16:02:06.174 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.ProfileRequest'
2022-08-05 16:02:06.177 +04:00 [DBG] Done attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 16:02:06.178 +04:00 [DBG] Done attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 16:02:06.180 +04:00 [DBG] Attempting to validate the bound parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' ...
2022-08-05 16:02:06.181 +04:00 [DBG] Done attempting to validate the bound parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-05 16:02:06.184 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 16:02:06.186 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 16:02:06.187 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:06.189 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:06.190 +04:00 [DBG] Executing DbCommand [Parameters=[@__profile_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE [p].[UserId] = @__profile_UserId_0
2022-08-05 16:02:06.195 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__profile_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE [p].[UserId] = @__profile_UserId_0
2022-08-05 16:02:06.198 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 16:02:06.199 +04:00 [DBG] A data reader was disposed.
2022-08-05 16:02:06.200 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:06.201 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:06.203 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 16:02:06.205 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-05 16:02:06.207 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-05 16:02:06.208 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-05 16:02:06.209 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:06.211 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:06.212 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-05 16:02:06.213 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-05 16:02:06.215 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 16:02:06.216 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 16:02:06.218 +04:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = -1) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Profile] SET [Description] = @p0, [Email] = @p1, [FirstName] = @p2, [LastName] = @p3, [Password] = @p4, [Photo] = @p5
WHERE [UserId] = @p6;
SELECT @@ROWCOUNT;
2022-08-05 16:02:06.268 +04:00 [INF] Executed DbCommand (50ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = -1) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Profile] SET [Description] = @p0, [Email] = @p1, [FirstName] = @p2, [LastName] = @p3, [Password] = @p4, [Photo] = @p5
WHERE [UserId] = @p6;
SELECT @@ROWCOUNT;
2022-08-05 16:02:06.273 +04:00 [DBG] A data reader was disposed.
2022-08-05 16:02:06.274 +04:00 [DBG] Committing transaction.
2022-08-05 16:02:06.275 +04:00 [DBG] Committed transaction.
2022-08-05 16:02:06.276 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:06.278 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:06.279 +04:00 [DBG] Disposing transaction.
2022-08-05 16:02:06.280 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 16:02:06.282 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-05 16:02:06.284 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-05 16:02:06.285 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.UpdateUser (BookingApi) in 139.911ms
2022-08-05 16:02:06.286 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-05 16:02:06.287 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 16:02:06.289 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Profile/UpdateUser application/json 798723 - 200 0 - 172.3392ms
2022-08-05 16:02:30.546 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-05 16:02:30.548 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 16:02:30.550 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 16:02:30.552 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 16:02:30.553 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 16:02:30.555 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 16:02:30.557 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 16:02:30.559 +04:00 [INF] CORS policy execution successful.
2022-08-05 16:02:30.562 +04:00 [DBG] The request is a preflight request.
2022-08-05 16:02:30.564 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 17.8313ms
2022-08-05 16:02:30.566 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 47
2022-08-05 16:02:30.569 +04:00 [DBG] POST requests are not supported
2022-08-05 16:02:30.570 +04:00 [DBG] POST requests are not supported
2022-08-05 16:02:30.572 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-05 16:02:30.574 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-05 16:02:30.577 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 16:02:30.579 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 16:02:30.581 +04:00 [INF] CORS policy execution successful.
2022-08-05 16:02:30.582 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-05 16:02:30.584 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 16:02:30.585 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-05 16:02:30.588 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 16:02:30.590 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 16:02:30.591 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 16:02:30.594 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 16:02:30.595 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 16:02:30.598 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 16:02:30.600 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 16:02:30.602 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-05 16:02:30.604 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 16:02:30.605 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-05 16:02:30.607 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-05 16:02:30.609 +04:00 [DBG] Connection id "0HMJMR4U9QMDV", Request id "0HMJMR4U9QMDV:00000007": started reading request body.
2022-08-05 16:02:30.610 +04:00 [DBG] Connection id "0HMJMR4U9QMDV", Request id "0HMJMR4U9QMDV:00000007": done reading request body.
2022-08-05 16:02:30.612 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-05 16:02:30.613 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 16:02:30.614 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 16:02:30.616 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-05 16:02:30.617 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-05 16:02:30.619 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 16:02:30.620 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-05 16:02:30.622 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.623 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.624 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 16:02:30.630 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-05 16:02:30.645 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 16:02:30.647 +04:00 [DBG] A data reader was disposed.
2022-08-05 16:02:30.648 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.650 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.652 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 16:02:30.655 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 16:02:30.656 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 16:02:30.657 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 16:02:30.659 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 16:02:30.660 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-05 16:02:30.662 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 64.4628ms
2022-08-05 16:02:30.664 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-05 16:02:30.665 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 16:02:30.667 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 47 - 200 - application/json;+charset=utf-8 100.6534ms
2022-08-05 16:02:30.670 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/1009 - -
2022-08-05 16:02:30.671 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 16:02:30.672 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 16:02:30.673 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1009'
2022-08-05 16:02:30.674 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1009'
2022-08-05 16:02:30.676 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 16:02:30.677 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 16:02:30.679 +04:00 [INF] CORS policy execution successful.
2022-08-05 16:02:30.680 +04:00 [DBG] The request is a preflight request.
2022-08-05 16:02:30.681 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/1009 - - - 204 - - 10.6896ms
2022-08-05 16:02:30.683 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/1009 application/json -
2022-08-05 16:02:30.684 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 16:02:30.685 +04:00 [DBG] The request path /Profile/1009 does not match a supported file type
2022-08-05 16:02:30.686 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/1009'
2022-08-05 16:02:30.687 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/1009'
2022-08-05 16:02:30.689 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 16:02:30.690 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 16:02:30.691 +04:00 [INF] CORS policy execution successful.
2022-08-05 16:02:30.693 +04:00 [DBG] Successfully validated the token.
2022-08-05 16:02:30.693 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 16:02:30.694 +04:00 [DBG] Authorization was successful.
2022-08-05 16:02:30.695 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 16:02:30.697 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-05 16:02:30.699 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 16:02:30.701 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 16:02:30.702 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 16:02:30.704 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 16:02:30.706 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 16:02:30.708 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 16:02:30.710 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 16:02:30.713 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-05 16:02:30.714 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-05 16:02:30.716 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-05 16:02:30.717 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 16:02:30.719 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-05 16:02:30.720 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-05 16:02:30.722 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-05 16:02:30.724 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 16:02:30.725 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 16:02:30.726 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.727 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.729 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 16:02:30.736 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-05 16:02:30.752 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 16:02:30.756 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 16:02:30.758 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 16:02:30.760 +04:00 [DBG] A data reader was disposed.
2022-08-05 16:02:30.761 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.762 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.764 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 16:02:30.765 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-05 16:02:30.766 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.767 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.769 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 16:02:30.773 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 16:02:30.776 +04:00 [DBG] A data reader was disposed.
2022-08-05 16:02:30.777 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.779 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.780 +04:00 [INF] Get Profile
2022-08-05 16:02:30.781 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 16:02:30.784 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 16:02:30.785 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 16:02:30.787 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 16:02:30.788 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 16:02:30.790 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-05 16:02:30.818 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 109.4741ms
2022-08-05 16:02:30.820 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-05 16:02:30.821 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 16:02:30.823 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/1009 application/json - - 200 - application/json;+charset=utf-8 140.3704ms
2022-08-05 16:02:30.830 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/1009 - -
2022-08-05 16:02:30.830 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/1009 - -
2022-08-05 16:02:30.831 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 16:02:30.833 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 16:02:30.834 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 16:02:30.835 +04:00 [DBG] OPTIONS requests are not supported
2022-08-05 16:02:30.837 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1009'
2022-08-05 16:02:30.840 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1009'
2022-08-05 16:02:30.842 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1009'
2022-08-05 16:02:30.844 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1009'
2022-08-05 16:02:30.847 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 16:02:30.849 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 16:02:30.852 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 16:02:30.853 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 16:02:30.854 +04:00 [INF] CORS policy execution successful.
2022-08-05 16:02:30.856 +04:00 [INF] CORS policy execution successful.
2022-08-05 16:02:30.857 +04:00 [DBG] The request is a preflight request.
2022-08-05 16:02:30.858 +04:00 [DBG] The request is a preflight request.
2022-08-05 16:02:30.860 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/1009 - - - 204 - - 29.8471ms
2022-08-05 16:02:30.861 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/1009 - - - 204 - - 30.5511ms
2022-08-05 16:02:30.862 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/1009 - -
2022-08-05 16:02:30.863 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/1009 application/json -
2022-08-05 16:02:30.864 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 16:02:30.866 +04:00 [DBG] The request path  does not match the path filter
2022-08-05 16:02:30.869 +04:00 [DBG] The request path /Guest/1009 does not match a supported file type
2022-08-05 16:02:30.870 +04:00 [DBG] The request path /Booking/1009 does not match a supported file type
2022-08-05 16:02:30.872 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1009'
2022-08-05 16:02:30.873 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1009'
2022-08-05 16:02:30.875 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1009'
2022-08-05 16:02:30.877 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1009'
2022-08-05 16:02:30.880 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 16:02:30.882 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 16:02:30.883 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 16:02:30.885 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-05 16:02:30.887 +04:00 [INF] CORS policy execution successful.
2022-08-05 16:02:30.888 +04:00 [INF] CORS policy execution successful.
2022-08-05 16:02:30.890 +04:00 [DBG] Successfully validated the token.
2022-08-05 16:02:30.892 +04:00 [DBG] Successfully validated the token.
2022-08-05 16:02:30.894 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 16:02:30.895 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-05 16:02:30.897 +04:00 [DBG] Authorization was successful.
2022-08-05 16:02:30.899 +04:00 [DBG] Authorization was successful.
2022-08-05 16:02:30.902 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 16:02:30.903 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 16:02:30.905 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-05 16:02:30.910 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-05 16:02:30.914 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 16:02:30.920 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-05 16:02:30.922 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 16:02:30.924 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-05 16:02:30.926 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 16:02:30.929 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-05 16:02:30.933 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 16:02:30.937 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-05 16:02:30.940 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 16:02:30.942 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-05 16:02:30.944 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 16:02:30.947 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 16:02:30.950 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 16:02:30.952 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-05 16:02:30.954 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-05 16:02:30.957 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-05 16:02:30.959 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-05 16:02:30.961 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-05 16:02:30.963 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-05 16:02:30.966 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-05 16:02:30.969 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 16:02:30.971 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 16:02:30.974 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-05 16:02:30.976 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-05 16:02:30.977 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-05 16:02:30.979 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-05 16:02:30.981 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-05 16:02:30.983 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-05 16:02:30.985 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 16:02:30.987 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 16:02:30.989 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-05 16:02:30.991 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2022-08-05 16:02:30.993 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.996 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:30.999 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:31.003 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:31.005 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 16:02:31.007 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 16:02:31.013 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-05 16:02:31.015 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-05 16:02:31.018 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 16:02:31.021 +04:00 [DBG] A data reader was disposed.
2022-08-05 16:02:31.023 +04:00 [DBG] A data reader was disposed.
2022-08-05 16:02:31.024 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:31.025 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:31.026 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:31.028 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:31.030 +04:00 [INF] GetBookings successfully
2022-08-05 16:02:31.031 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-05 16:02:31.032 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 16:02:31.033 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-05 16:02:31.037 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 16:02:31.038 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:31.040 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 16:02:31.042 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:31.043 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 16:02:31.045 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 16:02:31.046 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 16:02:31.051 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 16:02:31.051 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-05 16:02:31.053 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 105.8002ms
2022-08-05 16:02:31.056 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-05 16:02:31.057 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-05 16:02:31.059 +04:00 [DBG] A data reader was disposed.
2022-08-05 16:02:31.061 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 16:02:31.063 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:31.065 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/1009 application/json - - 200 - application/json;+charset=utf-8 201.5641ms
2022-08-05 16:02:31.066 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-05 16:02:31.069 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-05 16:02:31.071 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-05 16:02:31.073 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-05 16:02:31.074 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-05 16:02:31.075 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-05 16:02:31.077 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-05 16:02:31.080 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 135.6452ms
2022-08-05 16:02:31.082 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-05 16:02:31.084 +04:00 [DBG] 'BookingContext' disposed.
2022-08-05 16:02:31.085 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/1009 - - - 200 - application/json;+charset=utf-8 222.7615ms
2022-08-05 16:04:42.997 +04:00 [DBG] Connection id "0HMJMR4U9QMDV" is closing.
2022-08-05 16:04:42.998 +04:00 [DBG] Connection id "0HMJMR4U9QMDV" is closed. The last processed stream ID was 19.
2022-08-05 16:04:43.002 +04:00 [DBG] Connection id "0HMJMR4U9QMDV" received FIN.
2022-08-05 16:04:43.002 +04:00 [DBG] Connection id "0HMJMR4U9QMDV" stopped.
2022-08-05 16:04:43.005 +04:00 [DBG] Connection id "0HMJMR4U9QMDV" sending FIN because: "The Socket transport's send loop completed gracefully."
