2022-03-28 20:15:23.785 +04:00 [DBG] Hosting starting
2022-03-28 20:15:23.886 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 20:15:23.896 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 20:15:23.932 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 20:15:23.943 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 20:15:23.965 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 20:15:23.969 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 20:15:23.971 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 20:15:23.976 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 20:15:23.980 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 20:15:23.983 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 20:15:23.984 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 20:15:24.302 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 20:15:24.302 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 20:15:24.302 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 20:15:24.303 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 20:15:24.303 +04:00 [INF] Hosting environment: Development
2022-03-28 20:15:24.303 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 20:15:24.303 +04:00 [DBG] Hosting started
2022-03-28 20:15:24.365 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 20:15:24.410 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 20:15:24.463 +04:00 [DBG] Connection ID "18086456105130525667" disconnecting.
2022-03-28 20:15:24.468 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 20:15:24.468 +04:00 [INF] Request finished in 104.3107ms 301 
2022-03-28 20:15:24.533 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 20:15:24.699 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 20:15:24.702 +04:00 [INF] Request finished in 236.9262ms 200 text/html;charset=utf-8
2022-03-28 20:15:24.703 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 20:15:24.704 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 20:15:24.704 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 20:15:24.704 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 20:15:24.713 +04:00 [INF] Request finished in 8.2162ms 200 application/javascript; charset=utf-8
2022-03-28 20:15:24.761 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 20:15:24.761 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 20:15:24.761 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 20:15:24.762 +04:00 [INF] Request finished in 58.2668ms 200 application/javascript
2022-03-28 20:15:24.762 +04:00 [INF] Request finished in 58.8373ms 200 text/css
2022-03-28 20:15:24.762 +04:00 [INF] Request finished in 57.5748ms 200 application/javascript
2022-03-28 20:15:24.967 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 20:15:24.970 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 20:15:24.971 +04:00 [INF] Request finished in 4.7094ms 200 image/png
2022-03-28 20:15:25.145 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 20:15:25.201 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 20:15:25.204 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 20:15:25.204 +04:00 [INF] Request finished in 3.3459ms 200 image/png
2022-03-28 20:15:25.286 +04:00 [INF] Request finished in 142.6496ms 200 application/json;charset=utf-8
2022-03-28 20:41:05.834 +04:00 [ERR] Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MoviesManagement.Services.Abstractions.IUserService Lifetime: Scoped ImplementationType: MoviesManagement.Services.Implementations.UserService': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[MoviesManagement.Domain.Models.UserIdentiy.AppUser]' while attempting to activate 'MoviesManagement.Services.Implementations.UserService'.)
2022-03-28 20:42:06.871 +04:00 [ERR] Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MoviesManagement.Services.Abstractions.IUserService Lifetime: Scoped ImplementationType: MoviesManagement.Services.Implementations.UserService': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[MoviesManagement.Domain.Models.UserIdentiy.AppUser]' while attempting to activate 'MoviesManagement.Services.Implementations.UserService'.)
2022-03-28 20:45:47.713 +04:00 [ERR] Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MoviesManagement.Services.Abstractions.IUserService Lifetime: Scoped ImplementationType: MoviesManagement.Services.Implementations.UserService': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[MoviesManagement.Domain.Models.UserIdentiy.AppUser]' while attempting to activate 'MoviesManagement.Services.Implementations.UserService'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Microsoft.AspNetCore.Identity.IdentityUser]': Unable to resolve service for type 'MoviesManagement.PersistanceDB.IdentityContext.UserContext' while attempting to activate 'Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9[Microsoft.AspNetCore.Identity.IdentityUser,Microsoft.AspNetCore.Identity.IdentityRole,MoviesManagement.PersistanceDB.IdentityContext.UserContext,System.String,Microsoft.AspNetCore.Identity.IdentityUserClaim`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserRole`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserLogin`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserToken`1[System.String],Microsoft.AspNetCore.Identity.IdentityRoleClaim`1[System.String]]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Microsoft.AspNetCore.Identity.IdentityUser]': Unable to resolve service for type 'MoviesManagement.PersistanceDB.IdentityContext.UserContext' while attempting to activate 'Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9[Microsoft.AspNetCore.Identity.IdentityUser,Microsoft.AspNetCore.Identity.IdentityRole,MoviesManagement.PersistanceDB.IdentityContext.UserContext,System.String,Microsoft.AspNetCore.Identity.IdentityUserClaim`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserRole`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserLogin`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserToken`1[System.String],Microsoft.AspNetCore.Identity.IdentityRoleClaim`1[System.String]]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[Microsoft.AspNetCore.Identity.IdentityUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[Microsoft.AspNetCore.Identity.IdentityUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'MoviesManagement.PersistanceDB.IdentityContext.UserContext' while attempting to activate 'Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9[Microsoft.AspNetCore.Identity.IdentityUser,Microsoft.AspNetCore.Identity.IdentityRole,MoviesManagement.PersistanceDB.IdentityContext.UserContext,System.String,Microsoft.AspNetCore.Identity.IdentityUserClaim`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserRole`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserLogin`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserToken`1[System.String],Microsoft.AspNetCore.Identity.IdentityRoleClaim`1[System.String]]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.UserManager`1[Microsoft.AspNetCore.Identity.IdentityUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserManager`1[Microsoft.AspNetCore.Identity.IdentityUser]': Unable to resolve service for type 'MoviesManagement.PersistanceDB.IdentityContext.UserContext' while attempting to activate 'Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9[Microsoft.AspNetCore.Identity.IdentityUser,Microsoft.AspNetCore.Identity.IdentityRole,MoviesManagement.PersistanceDB.IdentityContext.UserContext,System.String,Microsoft.AspNetCore.Identity.IdentityUserClaim`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserRole`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserLogin`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserToken`1[System.String],Microsoft.AspNetCore.Identity.IdentityRoleClaim`1[System.String]]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[Microsoft.AspNetCore.Identity.IdentityUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[Microsoft.AspNetCore.Identity.IdentityUser]': Unable to resolve service for type 'MoviesManagement.PersistanceDB.IdentityContext.UserContext' while attempting to activate 'Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9[Microsoft.AspNetCore.Identity.IdentityUser,Microsoft.AspNetCore.Identity.IdentityRole,MoviesManagement.PersistanceDB.IdentityContext.UserContext,System.String,Microsoft.AspNetCore.Identity.IdentityUserClaim`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserRole`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserLogin`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserToken`1[System.String],Microsoft.AspNetCore.Identity.IdentityRoleClaim`1[System.String]]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'MoviesManagement.PersistanceDB.IdentityContext.UserContext' while attempting to activate 'Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5[Microsoft.AspNetCore.Identity.IdentityRole,MoviesManagement.PersistanceDB.IdentityContext.UserContext,System.String,Microsoft.AspNetCore.Identity.IdentityUserRole`1[System.String],Microsoft.AspNetCore.Identity.IdentityRoleClaim`1[System.String]]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserStore`1[Microsoft.AspNetCore.Identity.IdentityUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9[Microsoft.AspNetCore.Identity.IdentityUser,Microsoft.AspNetCore.Identity.IdentityRole,MoviesManagement.PersistanceDB.IdentityContext.UserContext,System.String,Microsoft.AspNetCore.Identity.IdentityUserClaim`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserRole`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserLogin`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserToken`1[System.String],Microsoft.AspNetCore.Identity.IdentityRoleClaim`1[System.String]]': Unable to resolve service for type 'MoviesManagement.PersistanceDB.IdentityContext.UserContext' while attempting to activate 'Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9[Microsoft.AspNetCore.Identity.IdentityUser,Microsoft.AspNetCore.Identity.IdentityRole,MoviesManagement.PersistanceDB.IdentityContext.UserContext,System.String,Microsoft.AspNetCore.Identity.IdentityUserClaim`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserRole`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserLogin`1[System.String],Microsoft.AspNetCore.Identity.IdentityUserToken`1[System.String],Microsoft.AspNetCore.Identity.IdentityRoleClaim`1[System.String]]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5[Microsoft.AspNetCore.Identity.IdentityRole,MoviesManagement.PersistanceDB.IdentityContext.UserContext,System.String,Microsoft.AspNetCore.Identity.IdentityUserRole`1[System.String],Microsoft.AspNetCore.Identity.IdentityRoleClaim`1[System.String]]': Unable to resolve service for type 'MoviesManagement.PersistanceDB.IdentityContext.UserContext' while attempting to activate 'Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5[Microsoft.AspNetCore.Identity.IdentityRole,MoviesManagement.PersistanceDB.IdentityContext.UserContext,System.String,Microsoft.AspNetCore.Identity.IdentityUserRole`1[System.String],Microsoft.AspNetCore.Identity.IdentityRoleClaim`1[System.String]]'.)
2022-03-28 20:46:49.448 +04:00 [ERR] Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MoviesManagement.Services.Abstractions.IUserService Lifetime: Scoped ImplementationType: MoviesManagement.Services.Implementations.UserService': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[MoviesManagement.Domain.Models.UserIdentiy.AppUser]' while attempting to activate 'MoviesManagement.Services.Implementations.UserService'.)
2022-03-28 20:57:10.480 +04:00 [ERR] Cannot instantiate implementation type 'MoviesManagement.Services.Abstractions.IidentityService' for service type 'MoviesManagement.Services.Abstractions.IidentityService'.
2022-03-28 20:58:01.970 +04:00 [ERR] Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MoviesManagement.Services.Abstractions.IidentityService Lifetime: Scoped ImplementationType: MoviesManagement.Services.Implementations.IdentityServices': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[MoviesManagement.Domain.Models.UserIdentiy.AppUser]' while attempting to activate 'MoviesManagement.Services.Implementations.IdentityServices'.)
2022-03-28 21:07:16.153 +04:00 [DBG] Hosting starting
2022-03-28 21:07:16.267 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:07:16.296 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:07:16.330 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:07:16.345 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:07:16.357 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:07:16.363 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:07:16.365 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:07:16.375 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:07:16.383 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:07:16.391 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:07:16.393 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:07:16.722 +04:00 [DBG] Failed to locate the development https certificate at 'null'.
2022-03-28 21:07:16.803 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-03-28 21:07:16.850 +04:00 [INF] Now listening on: https://localhost:5001
2022-03-28 21:07:16.857 +04:00 [INF] Now listening on: http://localhost:5000
2022-03-28 21:07:16.858 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:07:16.859 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:07:16.860 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:07:16.862 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:07:16.863 +04:00 [INF] Hosting environment: Development
2022-03-28 21:07:16.865 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:07:16.867 +04:00 [DBG] Hosting started
2022-03-28 21:07:17.039 +04:00 [DBG] Connection id "0HMGGRLKO6U16" received FIN.
2022-03-28 21:07:17.039 +04:00 [DBG] Connection id "0HMGGRLKO6U15" received FIN.
2022-03-28 21:07:17.055 +04:00 [DBG] Connection id "0HMGGRLKO6U15" accepted.
2022-03-28 21:07:17.055 +04:00 [DBG] Connection id "0HMGGRLKO6U16" accepted.
2022-03-28 21:07:17.057 +04:00 [DBG] Connection id "0HMGGRLKO6U15" started.
2022-03-28 21:07:17.059 +04:00 [DBG] Connection id "0HMGGRLKO6U16" started.
2022-03-28 21:07:17.229 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:07:17.229 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:07:17.329 +04:00 [DBG] Connection id "0HMGGRLKO6U17" accepted.
2022-03-28 21:07:17.336 +04:00 [DBG] Connection id "0HMGGRLKO6U16" stopped.
2022-03-28 21:07:17.468 +04:00 [DBG] Connection id "0HMGGRLKO6U15" stopped.
2022-03-28 21:07:17.476 +04:00 [DBG] Connection id "0HMGGRLKO6U17" started.
2022-03-28 21:07:17.490 +04:00 [DBG] Connection id "0HMGGRLKO6U16" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:07:17.493 +04:00 [DBG] Connection id "0HMGGRLKO6U15" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:07:17.608 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html  
2022-03-28 21:07:17.641 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:07:17.689 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:07:17.809 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:07:17.811 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css  
2022-03-28 21:07:17.811 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js  
2022-03-28 21:07:17.812 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js  
2022-03-28 21:07:17.811 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:07:17.816 +04:00 [INF] Request finished in 210.6183ms 200 text/html;charset=utf-8
2022-03-28 21:07:17.822 +04:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2022-03-28 21:07:17.822 +04:00 [INF] The file /swagger-ui.css was not modified
2022-03-28 21:07:17.822 +04:00 [INF] The file /swagger-ui-bundle.js was not modified
2022-03-28 21:07:17.826 +04:00 [INF] Request finished in 12.5399ms 200 application/javascript; charset=utf-8
2022-03-28 21:07:17.842 +04:00 [DBG] Handled. Status code: 304 File: /swagger-ui.css
2022-03-28 21:07:17.842 +04:00 [DBG] Handled. Status code: 304 File: /swagger-ui-bundle.js
2022-03-28 21:07:17.842 +04:00 [DBG] Handled. Status code: 304 File: /swagger-ui-standalone-preset.js
2022-03-28 21:07:17.843 +04:00 [INF] Request finished in 32.1572ms 304 text/css
2022-03-28 21:07:17.847 +04:00 [INF] Request finished in 36.0053ms 304 application/javascript
2022-03-28 21:07:17.849 +04:00 [INF] Request finished in 37.6814ms 304 application/javascript
2022-03-28 21:07:18.061 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png  
2022-03-28 21:07:18.064 +04:00 [INF] The file /favicon-32x32.png was not modified
2022-03-28 21:07:18.064 +04:00 [DBG] Handled. Status code: 304 File: /favicon-32x32.png
2022-03-28 21:07:18.066 +04:00 [INF] Request finished in 4.8687ms 304 image/png
2022-03-28 21:07:18.233 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json  
2022-03-28 21:07:18.350 +04:00 [INF] Request finished in 121.0261ms 200 application/json;charset=utf-8
2022-03-28 21:08:23.917 +04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Account/Login?username=Abo1%40Gmail.com&password=Aa123456%21  0
2022-03-28 21:08:23.921 +04:00 [DBG] POST requests are not supported
2022-03-28 21:08:23.964 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:08:23.976 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-03-28 21:08:23.981 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:08:24.095 +04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2022-03-28 21:08:24.100 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:08:24.112 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:08:24.185 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api).
2022-03-28 21:08:24.195 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:08:24.197 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:08:24.201 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:08:24.211 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:08:24.216 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:08:24.223 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:08:24.492 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:08:25.482 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:08:25.607 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api) in 1378.632ms
2022-03-28 21:08:25.663 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:08:25.744 +04:00 [ERR] HTTP POST /Account/Login responded 500 in 1815.6583 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[MoviesManagement.Domain.Models.UserIdentiy.AppUser]' while attempting to activate 'Movies.ItAcademy.Api.Controllers.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2022-03-28 21:08:25.888 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[MoviesManagement.Domain.Models.UserIdentiy.AppUser]' while attempting to activate 'Movies.ItAcademy.Api.Controllers.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-03-28 21:08:25.934 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:08:25.938 +04:00 [INF] Request finished in 2022.4585ms 500 text/plain
2022-03-28 21:13:11.110 +04:00 [DBG] Hosting starting
2022-03-28 21:13:11.247 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:13:11.273 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:13:11.316 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:13:11.335 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:13:11.346 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:13:11.352 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:13:11.355 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:13:11.362 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:13:11.369 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:13:11.374 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:13:11.376 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:13:11.707 +04:00 [DBG] Failed to locate the development https certificate at 'null'.
2022-03-28 21:13:11.783 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-03-28 21:13:11.823 +04:00 [INF] Now listening on: https://localhost:5001
2022-03-28 21:13:11.828 +04:00 [INF] Now listening on: http://localhost:5000
2022-03-28 21:13:11.829 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:13:11.829 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:13:11.830 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:13:11.832 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:13:11.833 +04:00 [INF] Hosting environment: Development
2022-03-28 21:13:11.835 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:13:11.836 +04:00 [DBG] Hosting started
2022-03-28 21:13:11.909 +04:00 [DBG] Connection id "0HMGGROUGGLI1" received FIN.
2022-03-28 21:13:11.909 +04:00 [DBG] Connection id "0HMGGROUGGLI2" received FIN.
2022-03-28 21:13:11.913 +04:00 [DBG] Connection id "0HMGGROUGGLI0" accepted.
2022-03-28 21:13:11.913 +04:00 [DBG] Connection id "0HMGGROUGGLI1" accepted.
2022-03-28 21:13:11.917 +04:00 [DBG] Connection id "0HMGGROUGGLI0" started.
2022-03-28 21:13:11.918 +04:00 [DBG] Connection id "0HMGGROUGGLI1" started.
2022-03-28 21:13:12.130 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:13:12.130 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:13:12.255 +04:00 [DBG] Connection id "0HMGGROUGGLI3" accepted.
2022-03-28 21:13:12.405 +04:00 [DBG] Connection id "0HMGGROUGGLI0" stopped.
2022-03-28 21:13:12.479 +04:00 [DBG] Connection id "0HMGGROUGGLI1" stopped.
2022-03-28 21:13:12.484 +04:00 [DBG] Connection id "0HMGGROUGGLI3" started.
2022-03-28 21:13:12.492 +04:00 [DBG] Connection id "0HMGGROUGGLI0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:13:12.494 +04:00 [DBG] Connection id "0HMGGROUGGLI1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:13:12.608 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html  
2022-03-28 21:13:12.641 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:13:12.681 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:13:12.762 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:13:12.768 +04:00 [INF] Request finished in 162.369ms 200 text/html;charset=utf-8
2022-03-28 21:13:12.842 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:13:12.848 +04:00 [INF] Request finished in 6.3706ms 200 application/javascript; charset=utf-8
2022-03-28 21:13:13.240 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json  
2022-03-28 21:13:13.343 +04:00 [INF] Request finished in 103.0793ms 200 application/json;charset=utf-8
2022-03-28 21:28:37.917 +04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Account/Login?username=Abo1%40Gmail.com&password=Aa123456%21  0
2022-03-28 21:28:37.922 +04:00 [DBG] POST requests are not supported
2022-03-28 21:28:37.984 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:28:37.995 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-03-28 21:28:37.999 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:28:38.096 +04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2022-03-28 21:28:38.102 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:28:38.115 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:28:38.204 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api).
2022-03-28 21:28:38.213 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:28:38.217 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:28:38.221 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:28:38.230 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:28:38.234 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:28:38.238 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:28:38.404 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:28:39.347 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:28:39.371 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:28:39.382 +04:00 [DBG] Attempting to bind parameter 'username' of type 'System.String' ...
2022-03-28 21:28:39.387 +04:00 [DBG] Attempting to bind parameter 'username' of type 'System.String' using the name 'username' in request data ...
2022-03-28 21:28:39.391 +04:00 [DBG] Done attempting to bind parameter 'username' of type 'System.String'.
2022-03-28 21:28:39.392 +04:00 [DBG] Done attempting to bind parameter 'username' of type 'System.String'.
2022-03-28 21:28:39.394 +04:00 [DBG] Attempting to validate the bound parameter 'username' of type 'System.String' ...
2022-03-28 21:28:39.401 +04:00 [DBG] Done attempting to validate the bound parameter 'username' of type 'System.String'.
2022-03-28 21:28:39.405 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' ...
2022-03-28 21:28:39.407 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ...
2022-03-28 21:28:39.409 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 21:28:39.413 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 21:28:39.415 +04:00 [DBG] Attempting to validate the bound parameter 'password' of type 'System.String' ...
2022-03-28 21:28:39.417 +04:00 [DBG] Done attempting to validate the bound parameter 'password' of type 'System.String'.
2022-03-28 21:28:46.174 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-03-28 21:28:46.177 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-03-28 21:28:46.236 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:28:46.406 +04:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-03-28 21:28:46.654 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string), 5], [Property: AppUser.LastName (string), 6], [Property: AppUser.LockoutEnabled (bool) Required, 7], [Property: AppUser.LockoutEnd (Nullable<DateTimeOffset>), 8], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 9], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 10], [Property: AppUser.PasswordHash (string), 11], [Property: AppUser.PhoneNumber (string), 12], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 13], [Property: AppUser.SecurityStamp (string), 14], [Property: AppUser.TwoFactorEnabled (bool) Required, 15], [Property: AppUser.UserName (string) MaxLength(256), 16], }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:28:46.735 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:28:46.781 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2022-03-28 21:28:46.799 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:48.902 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:48.925 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 21:28:49.027 +04:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 21:28:49.107 +04:00 [DBG] Context 'UserContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:28:49.187 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:28:49.194 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:49.204 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:57.558 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2022-03-28 21:28:57.648 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
    False, 
    False
)'
2022-03-28 21:28:57.656 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:28:57.658 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-03-28 21:28:57.661 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:57.665 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:57.671 +04:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2022-03-28 21:28:57.693 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2022-03-28 21:28:59.807 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:28:59.838 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:59.840 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:59.854 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-03-28 21:28:59.884 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
    False, 
    False
)'
2022-03-28 21:28:59.890 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:28:59.891 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-03-28 21:28:59.893 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:59.900 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:59.902 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-03-28 21:28:59.924 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-03-28 21:28:59.933 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:28:59.934 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:59.937 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:59.946 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2022-03-28 21:28:59.957 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3], }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:28:59.967 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:28:59.968 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-03-28 21:28:59.970 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:59.972 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:28:59.974 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-03-28 21:28:59.986 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-03-28 21:29:00.000 +04:00 [DBG] Context 'UserContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:29:00.016 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:29:00.017 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:29:00.019 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:29:00.030 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2022-03-28 21:29:00.039 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT a.ClaimType, a.ClaimValue
        FROM AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
    False, 
    False
)'
2022-03-28 21:29:00.044 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:29:00.046 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-03-28 21:29:00.048 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:29:00.050 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:29:00.056 +04:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2022-03-28 21:29:00.063 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2022-03-28 21:29:00.075 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:29:00.076 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:29:00.077 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:29:00.099 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-03-28 21:29:32.597 +04:00 [DBG] Hosting starting
2022-03-28 21:29:32.748 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:29:32.769 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:29:32.800 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:29:32.812 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:29:32.829 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:29:32.836 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:29:32.840 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:29:32.848 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:29:32.855 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:29:32.861 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:29:32.863 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:29:33.128 +04:00 [DBG] Failed to locate the development https certificate at 'null'.
2022-03-28 21:29:33.200 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-03-28 21:29:33.245 +04:00 [INF] Now listening on: https://localhost:5001
2022-03-28 21:29:33.252 +04:00 [INF] Now listening on: http://localhost:5000
2022-03-28 21:29:33.253 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:29:33.261 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:29:33.262 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:29:33.264 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:29:33.265 +04:00 [INF] Hosting environment: Development
2022-03-28 21:29:33.269 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:29:33.270 +04:00 [DBG] Hosting started
2022-03-28 21:29:33.506 +04:00 [DBG] Connection id "0HMGGS231OABK" received FIN.
2022-03-28 21:29:33.506 +04:00 [DBG] Connection id "0HMGGS231OABJ" received FIN.
2022-03-28 21:29:33.524 +04:00 [DBG] Connection id "0HMGGS231OABJ" accepted.
2022-03-28 21:29:33.524 +04:00 [DBG] Connection id "0HMGGS231OABK" accepted.
2022-03-28 21:29:33.526 +04:00 [DBG] Connection id "0HMGGS231OABJ" started.
2022-03-28 21:29:33.528 +04:00 [DBG] Connection id "0HMGGS231OABK" started.
2022-03-28 21:29:33.727 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:29:33.727 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:29:33.842 +04:00 [DBG] Connection id "0HMGGS231OABL" accepted.
2022-03-28 21:29:34.017 +04:00 [DBG] Connection id "0HMGGS231OABJ" stopped.
2022-03-28 21:29:34.185 +04:00 [DBG] Connection id "0HMGGS231OABL" started.
2022-03-28 21:29:34.181 +04:00 [DBG] Connection id "0HMGGS231OABK" stopped.
2022-03-28 21:29:34.198 +04:00 [DBG] Connection id "0HMGGS231OABJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:29:34.202 +04:00 [DBG] Connection id "0HMGGS231OABK" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:29:34.305 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html  
2022-03-28 21:29:34.345 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:29:34.404 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:29:34.485 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:29:34.491 +04:00 [INF] Request finished in 188.7075ms 200 text/html;charset=utf-8
2022-03-28 21:29:34.567 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:29:34.571 +04:00 [INF] Request finished in 4.046ms 200 application/javascript; charset=utf-8
2022-03-28 21:29:34.805 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json  
2022-03-28 21:29:34.935 +04:00 [INF] Request finished in 129.8073ms 200 application/json;charset=utf-8
2022-03-28 21:30:07.750 +04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Account/Login?username=Abo1%40Gmail.com&password=Aa123456%21  0
2022-03-28 21:30:07.757 +04:00 [DBG] POST requests are not supported
2022-03-28 21:30:07.800 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:30:07.810 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-03-28 21:30:07.819 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:30:07.921 +04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2022-03-28 21:30:07.926 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:30:07.939 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:30:08.028 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api).
2022-03-28 21:30:08.038 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:30:08.041 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:30:08.044 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:30:08.055 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:30:08.058 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:30:08.063 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:30:08.250 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:30:09.166 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:30:09.191 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:30:09.203 +04:00 [DBG] Attempting to bind parameter 'username' of type 'System.String' ...
2022-03-28 21:30:09.209 +04:00 [DBG] Attempting to bind parameter 'username' of type 'System.String' using the name 'username' in request data ...
2022-03-28 21:30:09.215 +04:00 [DBG] Done attempting to bind parameter 'username' of type 'System.String'.
2022-03-28 21:30:09.216 +04:00 [DBG] Done attempting to bind parameter 'username' of type 'System.String'.
2022-03-28 21:30:09.218 +04:00 [DBG] Attempting to validate the bound parameter 'username' of type 'System.String' ...
2022-03-28 21:30:09.225 +04:00 [DBG] Done attempting to validate the bound parameter 'username' of type 'System.String'.
2022-03-28 21:30:09.229 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' ...
2022-03-28 21:30:09.231 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ...
2022-03-28 21:30:09.234 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 21:30:09.237 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 21:30:09.239 +04:00 [DBG] Attempting to validate the bound parameter 'password' of type 'System.String' ...
2022-03-28 21:30:09.241 +04:00 [DBG] Done attempting to validate the bound parameter 'password' of type 'System.String'.
2022-03-28 21:30:11.867 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-03-28 21:30:11.871 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-03-28 21:30:11.923 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:30:12.050 +04:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-03-28 21:30:12.297 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string), 5], [Property: AppUser.LastName (string), 6], [Property: AppUser.LockoutEnabled (bool) Required, 7], [Property: AppUser.LockoutEnd (Nullable<DateTimeOffset>), 8], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 9], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 10], [Property: AppUser.PasswordHash (string), 11], [Property: AppUser.PhoneNumber (string), 12], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 13], [Property: AppUser.SecurityStamp (string), 14], [Property: AppUser.TwoFactorEnabled (bool) Required, 15], [Property: AppUser.UserName (string) MaxLength(256), 16], }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:30:12.377 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:30:12.416 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (33ms).
2022-03-28 21:30:12.431 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:13.729 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:13.753 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 21:30:13.827 +04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 21:30:13.883 +04:00 [DBG] Context 'UserContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:30:13.959 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:30:13.966 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:13.974 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:17.169 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2022-03-28 21:30:17.229 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
    False, 
    False
)'
2022-03-28 21:30:17.238 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:30:17.239 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-03-28 21:30:17.242 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:17.246 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:17.253 +04:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2022-03-28 21:30:17.283 +04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2022-03-28 21:30:19.732 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:30:19.763 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.768 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.781 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-03-28 21:30:19.810 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
    False, 
    False
)'
2022-03-28 21:30:19.821 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:30:19.823 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-03-28 21:30:19.825 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.827 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.828 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-03-28 21:30:19.851 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-03-28 21:30:19.859 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:30:19.861 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.867 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.875 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2022-03-28 21:30:19.889 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3], }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:30:19.900 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:30:19.901 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-03-28 21:30:19.903 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.905 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.907 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-03-28 21:30:19.919 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-03-28 21:30:19.933 +04:00 [DBG] Context 'UserContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:30:19.944 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:30:19.946 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.950 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.958 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2022-03-28 21:30:19.966 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT a.ClaimType, a.ClaimValue
        FROM AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
    False, 
    False
)'
2022-03-28 21:30:19.975 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:30:19.979 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-03-28 21:30:19.982 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.984 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:19.985 +04:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2022-03-28 21:30:19.994 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2022-03-28 21:30:19.999 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:30:20.000 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:20.005 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:30:20.024 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-03-28 21:30:37.363 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 21:30:37.371 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 21:30:37.375 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 21:30:37.377 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 21:30:37.380 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-03-28 21:30:37.384 +04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-03-28 21:30:37.402 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api) in 29328.6023ms
2022-03-28 21:30:37.409 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:30:37.414 +04:00 [INF] HTTP POST /Account/Login responded 200 in 29651.5186 ms
2022-03-28 21:30:37.422 +04:00 [DBG] 'UserContext' disposed.
2022-03-28 21:30:37.427 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:30:37.429 +04:00 [INF] Request finished in 29679.8974ms 200 text/plain; charset=utf-8
2022-03-28 21:33:26.771 +04:00 [DBG] Connection id "0HMGGS231OABM" received FIN.
2022-03-28 21:33:26.775 +04:00 [DBG] Connection id "0HMGGS231OABM" accepted.
2022-03-28 21:33:26.777 +04:00 [DBG] Connection id "0HMGGS231OABM" started.
2022-03-28 21:33:26.788 +04:00 [DBG] Connection id "0HMGGS231OABN" accepted.
2022-03-28 21:33:26.834 +04:00 [DBG] Connection id "0HMGGS231OABN" started.
2022-03-28 21:33:26.909 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:33:26.951 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Movie  
2022-03-28 21:33:26.964 +04:00 [DBG] Connection id "0HMGGS231OABM" stopped.
2022-03-28 21:33:26.965 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:33:26.966 +04:00 [DBG] Connection id "0HMGGS231OABM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:33:26.970 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie'
2022-03-28 21:33:26.975 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie' is valid for the request path '/Movie'
2022-03-28 21:33:26.978 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:33:26.982 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:33:26.985 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:33:26.994 +04:00 [INF] Route matched with {action = "GetAllMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]]] GetAllMovie() on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:33:27.000 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:33:27.005 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:33:27.007 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:33:27.010 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:33:27.012 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:33:27.014 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:33:27.037 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:33:27.040 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:34:07.669 +04:00 [DBG] Hosting starting
2022-03-28 21:34:07.808 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:34:07.837 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:34:07.887 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:34:07.898 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:34:07.910 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:34:07.917 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:34:07.920 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:34:07.927 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:34:07.936 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:34:07.943 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:34:07.946 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:34:08.240 +04:00 [DBG] Failed to locate the development https certificate at 'null'.
2022-03-28 21:34:08.312 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-03-28 21:34:08.358 +04:00 [INF] Now listening on: https://localhost:5001
2022-03-28 21:34:08.363 +04:00 [INF] Now listening on: http://localhost:5000
2022-03-28 21:34:08.364 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:34:08.365 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:34:08.366 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:34:08.368 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:34:08.369 +04:00 [INF] Hosting environment: Development
2022-03-28 21:34:08.371 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:34:08.373 +04:00 [DBG] Hosting started
2022-03-28 21:34:08.469 +04:00 [DBG] Connection id "0HMGGS4KVSEP0" accepted.
2022-03-28 21:34:08.469 +04:00 [DBG] Connection id "0HMGGS4KVSEP1" accepted.
2022-03-28 21:34:08.471 +04:00 [DBG] Connection id "0HMGGS4KVSEP0" started.
2022-03-28 21:34:08.471 +04:00 [DBG] Connection id "0HMGGS4KVSEP1" started.
2022-03-28 21:34:08.498 +04:00 [DBG] Connection id "0HMGGS4KVSEP1" received FIN.
2022-03-28 21:34:08.498 +04:00 [DBG] Connection id "0HMGGS4KVSEP0" received FIN.
2022-03-28 21:34:08.611 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:34:08.679 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.PartialFrameCallback(AsyncProtocolRequest asyncRequest)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Security.SslStream.ThrowIfExceptional()
   at System.Net.Security.SslStream.InternalEndProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Net.Security.SslStream.EndProcessAuthentication(IAsyncResult result)
   at System.Net.Security.SslStream.EndAuthenticateAsServer(IAsyncResult asyncResult)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_1(IAsyncResult iar)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:34:08.831 +04:00 [DBG] Connection id "0HMGGS4KVSEP2" accepted.
2022-03-28 21:34:08.834 +04:00 [DBG] Connection id "0HMGGS4KVSEP1" stopped.
2022-03-28 21:34:09.029 +04:00 [DBG] Connection id "0HMGGS4KVSEP0" stopped.
2022-03-28 21:34:09.035 +04:00 [DBG] Connection id "0HMGGS4KVSEP2" started.
2022-03-28 21:34:09.045 +04:00 [DBG] Connection id "0HMGGS4KVSEP1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:34:09.058 +04:00 [DBG] Connection id "0HMGGS4KVSEP0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:34:09.177 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html  
2022-03-28 21:34:09.213 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:34:09.251 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:34:09.341 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:34:09.345 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:34:09.349 +04:00 [INF] Request finished in 174.2255ms 200 text/html;charset=utf-8
2022-03-28 21:34:09.358 +04:00 [INF] Request finished in 12.9212ms 200 application/javascript; charset=utf-8
2022-03-28 21:34:09.663 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json  
2022-03-28 21:34:09.800 +04:00 [INF] Request finished in 137.1006ms 200 application/json;charset=utf-8
2022-03-28 21:34:13.578 +04:00 [DBG] Connection id "0HMGGS4KVSEP3" accepted.
2022-03-28 21:34:13.579 +04:00 [DBG] Connection id "0HMGGS4KVSEP3" received FIN.
2022-03-28 21:34:13.581 +04:00 [DBG] Connection id "0HMGGS4KVSEP3" started.
2022-03-28 21:34:13.582 +04:00 [DBG] Connection id "0HMGGS4KVSEP4" accepted.
2022-03-28 21:34:13.645 +04:00 [DBG] Connection id "0HMGGS4KVSEP4" started.
2022-03-28 21:34:13.682 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:34:13.701 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Movie  
2022-03-28 21:34:13.718 +04:00 [DBG] Connection id "0HMGGS4KVSEP3" stopped.
2022-03-28 21:34:13.722 +04:00 [DBG] Connection id "0HMGGS4KVSEP3" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:34:13.723 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:34:13.762 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie'
2022-03-28 21:34:13.771 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie' is valid for the request path '/Movie'
2022-03-28 21:34:13.775 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:34:13.790 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:34:13.800 +04:00 [INF] Authorization failed.
2022-03-28 21:34:13.818 +04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-03-28 21:34:13.823 +04:00 [INF] HTTP GET /Movie responded 302 in 94.1038 ms
2022-03-28 21:34:13.840 +04:00 [DBG] Connection id "0HMGGS4KVSEP4" completed keep alive response.
2022-03-28 21:34:13.845 +04:00 [INF] Request finished in 144.1868ms 302 
2022-03-28 21:34:13.863 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Account/Login?ReturnUrl=%2FMovie  
2022-03-28 21:34:13.867 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:34:13.870 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:34:13.873 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-03-28 21:34:13.876 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:34:13.879 +04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-03-28 21:34:13.880 +04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-03-28 21:34:13.882 +04:00 [INF] HTTP GET /Account/Login responded 405 in 13.8776 ms
2022-03-28 21:34:13.886 +04:00 [DBG] Connection id "0HMGGS4KVSEP4" completed keep alive response.
2022-03-28 21:34:13.892 +04:00 [INF] Request finished in 28.9047ms 405 
2022-03-28 21:34:43.745 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/GetAllMovie  
2022-03-28 21:34:43.748 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:34:43.750 +04:00 [DBG] No candidates found for the request path '/GetAllMovie'
2022-03-28 21:34:43.753 +04:00 [DBG] Request did not match any endpoints
2022-03-28 21:34:43.757 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:34:43.759 +04:00 [INF] HTTP GET /GetAllMovie responded 404 in 9.2443 ms
2022-03-28 21:34:43.762 +04:00 [DBG] Connection id "0HMGGS4KVSEP4" completed keep alive response.
2022-03-28 21:34:43.764 +04:00 [INF] Request finished in 19.2026ms 404 
2022-03-28 21:35:34.312 +04:00 [DBG] Hosting starting
2022-03-28 21:35:34.419 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:35:34.439 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:35:34.467 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:35:34.478 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:35:34.489 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:35:34.494 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:35:34.497 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:35:34.503 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:35:34.511 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:35:34.516 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:35:34.517 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:35:34.775 +04:00 [DBG] Failed to locate the development https certificate at 'null'.
2022-03-28 21:35:34.841 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-03-28 21:35:34.890 +04:00 [INF] Now listening on: https://localhost:5001
2022-03-28 21:35:34.896 +04:00 [INF] Now listening on: http://localhost:5000
2022-03-28 21:35:34.897 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:35:34.898 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:35:34.899 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:35:34.900 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:35:34.901 +04:00 [INF] Hosting environment: Development
2022-03-28 21:35:34.903 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:35:34.905 +04:00 [DBG] Hosting started
2022-03-28 21:35:34.929 +04:00 [DBG] Connection id "0HMGGS5EOHR4T" received FIN.
2022-03-28 21:35:34.950 +04:00 [DBG] Connection id "0HMGGS5EOHR4T" accepted.
2022-03-28 21:35:34.952 +04:00 [DBG] Connection id "0HMGGS5EOHR4T" started.
2022-03-28 21:35:35.057 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:35:35.169 +04:00 [DBG] Connection id "0HMGGS5EOHR4T" stopped.
2022-03-28 21:35:35.175 +04:00 [DBG] Connection id "0HMGGS5EOHR4T" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:35:35.259 +04:00 [DBG] Connection id "0HMGGS5EOHR4U" accepted.
2022-03-28 21:35:35.262 +04:00 [DBG] Connection id "0HMGGS5EOHR4U" started.
2022-03-28 21:35:35.424 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html  
2022-03-28 21:35:35.457 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:35:35.519 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:35:35.625 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:35:35.627 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:35:35.634 +04:00 [INF] Request finished in 212.11ms 200 text/html;charset=utf-8
2022-03-28 21:35:35.638 +04:00 [INF] Request finished in 11.3196ms 200 application/javascript; charset=utf-8
2022-03-28 21:35:35.984 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json  
2022-03-28 21:35:36.089 +04:00 [INF] Request finished in 104.8662ms 200 application/json;charset=utf-8
2022-03-28 21:35:39.626 +04:00 [DBG] Connection id "0HMGGS5EOHR4V" accepted.
2022-03-28 21:35:39.630 +04:00 [DBG] Connection id "0HMGGS5EOHR4V" received FIN.
2022-03-28 21:35:39.632 +04:00 [DBG] Connection id "0HMGGS5EOHR4V" started.
2022-03-28 21:35:39.634 +04:00 [DBG] Connection id "0HMGGS5EOHR50" accepted.
2022-03-28 21:35:39.702 +04:00 [DBG] Connection id "0HMGGS5EOHR50" started.
2022-03-28 21:35:39.727 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:35:39.745 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/GetAllMovie  
2022-03-28 21:35:39.752 +04:00 [DBG] Connection id "0HMGGS5EOHR4V" stopped.
2022-03-28 21:35:39.759 +04:00 [DBG] Connection id "0HMGGS5EOHR4V" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:35:39.760 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:35:39.793 +04:00 [DBG] No candidates found for the request path '/GetAllMovie'
2022-03-28 21:35:39.795 +04:00 [DBG] Request did not match any endpoints
2022-03-28 21:35:39.809 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:35:39.814 +04:00 [INF] HTTP GET /GetAllMovie responded 404 in 48.3216 ms
2022-03-28 21:35:39.830 +04:00 [DBG] Connection id "0HMGGS5EOHR50" completed keep alive response.
2022-03-28 21:35:39.832 +04:00 [INF] Request finished in 87.5118ms 404 
2022-03-28 21:36:54.172 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Movie/GetAllMovie  
2022-03-28 21:36:54.176 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:36:54.185 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:36:54.194 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:36:54.197 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:36:54.199 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:36:54.201 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:36:54.211 +04:00 [INF] Authorization failed.
2022-03-28 21:36:54.218 +04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-03-28 21:36:54.219 +04:00 [INF] HTTP GET /Movie/GetAllMovie responded 302 in 40.6303 ms
2022-03-28 21:36:54.222 +04:00 [DBG] Connection id "0HMGGS5EOHR50" completed keep alive response.
2022-03-28 21:36:54.225 +04:00 [INF] Request finished in 53.6078ms 302 
2022-03-28 21:36:54.231 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Account/Login?ReturnUrl=%2FMovie%2FGetAllMovie  
2022-03-28 21:36:54.233 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:36:54.234 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:36:54.235 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-03-28 21:36:54.237 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:36:54.240 +04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-03-28 21:36:54.242 +04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-03-28 21:36:54.243 +04:00 [INF] HTTP GET /Account/Login responded 405 in 9.7476 ms
2022-03-28 21:36:54.246 +04:00 [DBG] Connection id "0HMGGS5EOHR50" completed keep alive response.
2022-03-28 21:36:54.247 +04:00 [INF] Request finished in 15.5253ms 405 
2022-03-28 21:37:11.881 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Movie/GetAllMovie  
2022-03-28 21:37:11.890 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:37:11.892 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:37:11.894 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:37:11.896 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:37:11.899 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:37:12.060 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:37:12.109 +04:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-03-28 21:37:12.111 +04:00 [INF] Authorization was successful.
2022-03-28 21:37:12.112 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:37:12.124 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:37:12.173 +04:00 [INF] Route matched with {action = "GetAllMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]]] GetAllMovie() on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:37:12.178 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:37:12.180 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:37:12.181 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:37:12.185 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:37:12.186 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:37:12.189 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:37:13.035 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:37:13.039 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:37:46.875 +04:00 [DBG] Compiling query expression: 
'DbSet<Movie>()'
2022-03-28 21:37:47.100 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Movie>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Movie.Actors (string) Required, 1], [Property: Movie.Archive (bool) Required, 2], [Property: Movie.Director (string) Required MaxLength(35), 3], [Property: Movie.Duration (int) Required, 4], [Property: Movie.Genre (string) Required MaxLength(30), 5], [Property: Movie.ImageUrl (string) Required, 6], [Property: Movie.IsActive (bool) Required, 7], [Property: Movie.Name (string) Required MaxLength(50), 8], [Property: Movie.StartTime (DateTime) Required, 9], [Property: Movie.Story (string) Required, 10], }
        SELECT m.Id, m.Actors, m.Archive, m.Director, m.Duration, m.Genre, m.ImageUrl, m.IsActive, m.Name, m.StartTime, m.Story
        FROM Movies AS m), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Movie>, 
    MoviesManagement.PersistanceDB.Context.MovieContext, 
    False, 
    False
)'
2022-03-28 21:37:47.151 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:37:47.186 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (31ms).
2022-03-28 21:37:47.195 +04:00 [DBG] Opening connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:37:47.514 +04:00 [DBG] Opened connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:37:47.526 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
FROM [Movies] AS [m]
2022-03-28 21:37:47.575 +04:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
FROM [Movies] AS [m]
2022-03-28 21:37:47.626 +04:00 [DBG] Context 'MovieContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:37:47.699 +04:00 [DBG] Context 'MovieContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:37:47.707 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:37:47.711 +04:00 [DBG] Closing connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:37:47.721 +04:00 [DBG] Closed connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:37:47.893 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 21:37:47.918 +04:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-03-28 21:37:47.926 +04:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-03-28 21:37:47.933 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 21:37:47.942 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 21:37:47.945 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-03-28 21:37:47.949 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Movies.ItAcademy.Api.Models.DTO.MovieDTO, Movies.ItAcademy.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-03-28 21:37:47.992 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api) in 35791.5039ms
2022-03-28 21:37:47.998 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:37:48.003 +04:00 [INF] HTTP GET /Movie/GetAllMovie responded 200 in 36111.0027 ms
2022-03-28 21:37:48.012 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:37:48.017 +04:00 [INF] Request finished in 36136.1178ms 200 application/json; charset=utf-8
2022-03-28 21:38:13.485 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Movie/GetAllMovie  
2022-03-28 21:38:13.488 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:38:13.489 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:38:13.492 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:38:13.495 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:38:13.498 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:38:13.500 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:38:13.502 +04:00 [INF] Authorization failed.
2022-03-28 21:38:13.504 +04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-03-28 21:38:13.505 +04:00 [INF] HTTP GET /Movie/GetAllMovie responded 302 in 15.5884 ms
2022-03-28 21:38:13.508 +04:00 [DBG] Connection id "0HMGGS5EOHR50" completed keep alive response.
2022-03-28 21:38:13.509 +04:00 [INF] Request finished in 24.1017ms 302 
2022-03-28 21:38:13.518 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Account/Login?ReturnUrl=%2FMovie%2FGetAllMovie  
2022-03-28 21:38:13.519 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:38:13.520 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:38:13.522 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-03-28 21:38:13.523 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:38:13.525 +04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-03-28 21:38:13.526 +04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-03-28 21:38:13.528 +04:00 [INF] HTTP GET /Account/Login responded 405 in 7.7736 ms
2022-03-28 21:38:13.531 +04:00 [DBG] Connection id "0HMGGS5EOHR50" completed keep alive response.
2022-03-28 21:38:13.532 +04:00 [INF] Request finished in 14.0274ms 405 
2022-03-28 21:38:42.367 +04:00 [DBG] Hosting starting
2022-03-28 21:38:42.474 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:38:42.492 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:38:42.528 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:38:42.544 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:38:42.557 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:38:42.562 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:38:42.566 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:38:42.571 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:38:42.577 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:38:42.581 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:38:42.583 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:38:42.837 +04:00 [DBG] Failed to locate the development https certificate at 'null'.
2022-03-28 21:38:42.903 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-03-28 21:38:42.942 +04:00 [INF] Now listening on: https://localhost:5001
2022-03-28 21:38:42.947 +04:00 [INF] Now listening on: http://localhost:5000
2022-03-28 21:38:42.948 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:38:42.949 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:38:42.950 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:38:42.952 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:38:42.953 +04:00 [INF] Hosting environment: Development
2022-03-28 21:38:42.954 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:38:42.955 +04:00 [DBG] Hosting started
2022-03-28 21:38:43.234 +04:00 [DBG] Connection id "0HMGGS76SBUIQ" received FIN.
2022-03-28 21:38:43.247 +04:00 [DBG] Connection id "0HMGGS76SBUIQ" accepted.
2022-03-28 21:38:43.250 +04:00 [DBG] Connection id "0HMGGS76SBUIQ" started.
2022-03-28 21:38:43.355 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:38:43.467 +04:00 [DBG] Connection id "0HMGGS76SBUIQ" stopped.
2022-03-28 21:38:43.471 +04:00 [DBG] Connection id "0HMGGS76SBUIQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:38:43.527 +04:00 [DBG] Connection id "0HMGGS76SBUIR" accepted.
2022-03-28 21:38:43.532 +04:00 [DBG] Connection id "0HMGGS76SBUIR" started.
2022-03-28 21:38:43.668 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html  
2022-03-28 21:38:43.702 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:38:43.745 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:38:43.837 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:38:43.840 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:38:43.847 +04:00 [INF] Request finished in 181.0842ms 200 text/html;charset=utf-8
2022-03-28 21:38:43.852 +04:00 [INF] Request finished in 11.6328ms 200 application/javascript; charset=utf-8
2022-03-28 21:38:44.145 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json  
2022-03-28 21:38:44.257 +04:00 [INF] Request finished in 111.8311ms 200 application/json;charset=utf-8
2022-03-28 21:38:55.923 +04:00 [DBG] Connection id "0HMGGS76SBUIS" accepted.
2022-03-28 21:38:55.924 +04:00 [DBG] Connection id "0HMGGS76SBUIS" received FIN.
2022-03-28 21:38:55.929 +04:00 [DBG] Connection id "0HMGGS76SBUIS" started.
2022-03-28 21:38:55.932 +04:00 [DBG] Connection id "0HMGGS76SBUIT" accepted.
2022-03-28 21:38:56.000 +04:00 [DBG] Connection id "0HMGGS76SBUIT" started.
2022-03-28 21:38:56.048 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:38:56.067 +04:00 [DBG] Connection id "0HMGGS76SBUIS" stopped.
2022-03-28 21:38:56.074 +04:00 [DBG] Connection id "0HMGGS76SBUIS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:38:56.078 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Movie/GetAllMovie  
2022-03-28 21:38:56.083 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:38:56.139 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:38:56.150 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:38:56.154 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:38:56.157 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:38:56.173 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:38:56.183 +04:00 [INF] Authorization failed.
2022-03-28 21:38:56.207 +04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-03-28 21:38:56.212 +04:00 [INF] HTTP GET /Movie/GetAllMovie responded 302 in 123.4792 ms
2022-03-28 21:38:56.217 +04:00 [DBG] Connection id "0HMGGS76SBUIT" completed keep alive response.
2022-03-28 21:38:56.219 +04:00 [INF] Request finished in 140.9501ms 302 
2022-03-28 21:38:56.239 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Account/Login?ReturnUrl=%2FMovie%2FGetAllMovie  
2022-03-28 21:38:56.241 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:38:56.244 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:38:56.246 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-03-28 21:38:56.249 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:38:56.251 +04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-03-28 21:38:56.253 +04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-03-28 21:38:56.254 +04:00 [INF] HTTP GET /Account/Login responded 405 in 11.0703 ms
2022-03-28 21:38:56.257 +04:00 [DBG] Connection id "0HMGGS76SBUIT" completed keep alive response.
2022-03-28 21:38:56.260 +04:00 [INF] Request finished in 21.2072ms 405 
2022-03-28 21:38:58.202 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Movie/GetAllMovie  
2022-03-28 21:38:58.204 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:38:58.206 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:38:58.212 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:38:58.215 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:38:58.218 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:38:58.223 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:38:58.226 +04:00 [INF] Authorization failed.
2022-03-28 21:38:58.228 +04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-03-28 21:38:58.229 +04:00 [INF] HTTP GET /Movie/GetAllMovie responded 302 in 23.3860 ms
2022-03-28 21:38:58.231 +04:00 [DBG] Connection id "0HMGGS76SBUIT" completed keep alive response.
2022-03-28 21:38:58.233 +04:00 [INF] Request finished in 31.3347ms 302 
2022-03-28 21:38:58.235 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Account/Login?ReturnUrl=%2FMovie%2FGetAllMovie  
2022-03-28 21:38:58.236 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:38:58.238 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:38:58.241 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-03-28 21:38:58.243 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:38:58.245 +04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-03-28 21:38:58.246 +04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-03-28 21:38:58.247 +04:00 [INF] HTTP GET /Account/Login responded 405 in 8.6331 ms
2022-03-28 21:38:58.249 +04:00 [DBG] Connection id "0HMGGS76SBUIT" completed keep alive response.
2022-03-28 21:38:58.251 +04:00 [INF] Request finished in 15.4933ms 405 
2022-03-28 21:39:21.495 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Movie/  
2022-03-28 21:39:21.500 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:39:21.502 +04:00 [DBG] No candidates found for the request path '/Movie/'
2022-03-28 21:39:21.504 +04:00 [DBG] Request did not match any endpoints
2022-03-28 21:39:21.683 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:39:21.738 +04:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-03-28 21:39:21.741 +04:00 [INF] HTTP GET /Movie/ responded 404 in 239.3512 ms
2022-03-28 21:39:21.746 +04:00 [INF] Request finished in 251.2053ms 404 
2022-03-28 21:39:31.293 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Movie/GetAllMovie  
2022-03-28 21:39:31.302 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:39:31.305 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:39:31.307 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:39:31.310 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:39:31.313 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:39:31.321 +04:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-03-28 21:39:31.325 +04:00 [INF] Authorization was successful.
2022-03-28 21:39:31.326 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:39:31.340 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:39:31.398 +04:00 [INF] Route matched with {action = "GetAllMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]]] GetAllMovie() on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:39:31.403 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:39:31.404 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:39:31.405 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:39:31.409 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:39:31.411 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:39:31.414 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:39:32.264 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:39:32.269 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:40:00.282 +04:00 [DBG] Hosting starting
2022-03-28 21:40:00.378 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:40:00.394 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:40:00.412 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:40:00.430 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:40:00.448 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:40:00.456 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:40:00.460 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:40:00.468 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:40:00.476 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:40:00.483 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:40:00.486 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:40:00.619 +04:00 [DBG] Failed to locate the development https certificate at 'null'.
2022-03-28 21:40:00.663 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-03-28 21:40:00.692 +04:00 [INF] Now listening on: https://localhost:5001
2022-03-28 21:40:00.693 +04:00 [INF] Now listening on: http://localhost:5000
2022-03-28 21:40:00.694 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:40:00.695 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:40:00.696 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:40:00.697 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:40:00.698 +04:00 [INF] Hosting environment: Development
2022-03-28 21:40:00.699 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:40:00.701 +04:00 [DBG] Hosting started
2022-03-28 21:40:01.147 +04:00 [DBG] Connection id "0HMGGS7U3D0CP" received FIN.
2022-03-28 21:40:01.147 +04:00 [DBG] Connection id "0HMGGS7U3D0CQ" received FIN.
2022-03-28 21:40:01.161 +04:00 [DBG] Connection id "0HMGGS7U3D0CQ" accepted.
2022-03-28 21:40:01.161 +04:00 [DBG] Connection id "0HMGGS7U3D0CP" accepted.
2022-03-28 21:40:01.164 +04:00 [DBG] Connection id "0HMGGS7U3D0CQ" started.
2022-03-28 21:40:01.165 +04:00 [DBG] Connection id "0HMGGS7U3D0CP" started.
2022-03-28 21:40:01.191 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:40:01.191 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.StartReceiveBlob(Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ForceAuthentication(Boolean receiveFirst, Byte[] buffer, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.ProcessAuthentication(LazyAsyncResult lazyResult, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.BeginAuthenticateAsServer(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken, AsyncCallback asyncCallback, Object asyncState)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_0(SslServerAuthenticationOptions arg1, CancellationToken arg2, AsyncCallback callback, Object state)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl[TArg1,TArg2](Func`5 beginMethod, Func`2 endFunction, Action`1 endAction, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state, TaskCreationOptions creationOptions)
   at System.Threading.Tasks.TaskFactory.FromAsync[TArg1,TArg2](Func`5 beginMethod, Action`1 endMethod, TArg1 arg1, TArg2 arg2, Object state)
   at System.Net.Security.SslStream.AuthenticateAsServerAsync(SslServerAuthenticationOptions sslServerAuthenticationOptions, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:40:01.259 +04:00 [DBG] Connection id "0HMGGS7U3D0CP" stopped.
2022-03-28 21:40:01.292 +04:00 [DBG] Connection id "0HMGGS7U3D0CQ" stopped.
2022-03-28 21:40:01.307 +04:00 [DBG] Connection id "0HMGGS7U3D0CP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:40:01.309 +04:00 [DBG] Connection id "0HMGGS7U3D0CQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:40:01.385 +04:00 [DBG] Connection id "0HMGGS7U3D0CR" accepted.
2022-03-28 21:40:01.389 +04:00 [DBG] Connection id "0HMGGS7U3D0CR" started.
2022-03-28 21:40:01.529 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html  
2022-03-28 21:40:01.561 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:40:01.630 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:40:01.724 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:40:01.728 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:40:01.736 +04:00 [INF] Request finished in 211.0067ms 200 text/html;charset=utf-8
2022-03-28 21:40:01.740 +04:00 [INF] Request finished in 11.8823ms 200 application/javascript; charset=utf-8
2022-03-28 21:40:02.141 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json  
2022-03-28 21:40:02.259 +04:00 [INF] Request finished in 118.6392ms 200 application/json;charset=utf-8
2022-03-28 21:40:07.544 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Movie/GetAllMovie  
2022-03-28 21:40:07.549 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:40:07.585 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:40:07.594 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:40:07.597 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:40:07.599 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:40:07.695 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:40:07.742 +04:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-03-28 21:40:07.751 +04:00 [INF] Authorization was successful.
2022-03-28 21:40:07.753 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:40:07.765 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:40:07.810 +04:00 [INF] Route matched with {action = "GetAllMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]]] GetAllMovie() on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:40:07.815 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:40:07.817 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:40:07.819 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:40:07.821 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:40:07.822 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:40:07.825 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:40:08.613 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:40:08.618 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:40:08.676 +04:00 [DBG] Compiling query expression: 
'DbSet<Movie>()'
2022-03-28 21:40:08.845 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Movie>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Movie.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Movie.Actors (string) Required, 1], [Property: Movie.Archive (bool) Required, 2], [Property: Movie.Director (string) Required MaxLength(35), 3], [Property: Movie.Duration (int) Required, 4], [Property: Movie.Genre (string) Required MaxLength(30), 5], [Property: Movie.ImageUrl (string) Required, 6], [Property: Movie.IsActive (bool) Required, 7], [Property: Movie.Name (string) Required MaxLength(50), 8], [Property: Movie.StartTime (DateTime) Required, 9], [Property: Movie.Story (string) Required, 10], }
        SELECT m.Id, m.Actors, m.Archive, m.Director, m.Duration, m.Genre, m.ImageUrl, m.IsActive, m.Name, m.StartTime, m.Story
        FROM Movies AS m), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Movie>, 
    MoviesManagement.PersistanceDB.Context.MovieContext, 
    False, 
    False
)'
2022-03-28 21:40:08.891 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:40:08.926 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (31ms).
2022-03-28 21:40:08.935 +04:00 [DBG] Opening connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:40:09.184 +04:00 [DBG] Opened connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:40:09.198 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
FROM [Movies] AS [m]
2022-03-28 21:40:09.242 +04:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
FROM [Movies] AS [m]
2022-03-28 21:40:09.286 +04:00 [DBG] Context 'MovieContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:40:09.339 +04:00 [DBG] Context 'MovieContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:40:09.347 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:40:09.353 +04:00 [DBG] Closing connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:40:09.361 +04:00 [DBG] Closed connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:40:09.463 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 21:40:09.469 +04:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-03-28 21:40:09.471 +04:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-03-28 21:40:09.473 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 21:40:09.474 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 21:40:09.475 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-03-28 21:40:09.478 +04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Movies.ItAcademy.Api.Models.DTO.MovieDTO, Movies.ItAcademy.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-03-28 21:40:09.492 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api) in 1661.6085ms
2022-03-28 21:40:09.497 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:40:09.501 +04:00 [INF] HTTP GET /Movie/GetAllMovie responded 200 in 1946.4063 ms
2022-03-28 21:40:09.505 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:40:09.509 +04:00 [INF] Request finished in 1965.5196ms 200 application/json; charset=utf-8
2022-03-28 21:40:50.129 +04:00 [DBG] Hosting starting
2022-03-28 21:40:50.224 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:40:50.244 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:40:50.272 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:40:50.283 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:40:50.294 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:40:50.303 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:40:50.306 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:40:50.311 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:40:50.316 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:40:50.321 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:40:50.323 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:40:50.576 +04:00 [DBG] Failed to locate the development https certificate at 'null'.
2022-03-28 21:40:50.640 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-03-28 21:40:50.688 +04:00 [INF] Now listening on: https://localhost:5001
2022-03-28 21:40:50.690 +04:00 [INF] Now listening on: http://localhost:5000
2022-03-28 21:40:50.692 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:40:50.695 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:40:50.697 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:40:50.699 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:40:50.700 +04:00 [INF] Hosting environment: Development
2022-03-28 21:40:50.710 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:40:50.721 +04:00 [DBG] Hosting started
2022-03-28 21:40:50.955 +04:00 [DBG] Connection id "0HMGGS8CUCBLB" accepted.
2022-03-28 21:40:50.955 +04:00 [DBG] Connection id "0HMGGS8CUCBLA" accepted.
2022-03-28 21:40:50.958 +04:00 [DBG] Connection id "0HMGGS8CUCBLB" started.
2022-03-28 21:40:50.961 +04:00 [DBG] Connection id "0HMGGS8CUCBLA" started.
2022-03-28 21:40:51.020 +04:00 [DBG] Connection id "0HMGGS8CUCBLA" received FIN.
2022-03-28 21:40:51.020 +04:00 [DBG] Connection id "0HMGGS8CUCBLB" received FIN.
2022-03-28 21:40:51.177 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.PartialFrameCallback(AsyncProtocolRequest asyncRequest)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Security.SslStream.ThrowIfExceptional()
   at System.Net.Security.SslStream.InternalEndProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Net.Security.SslStream.EndProcessAuthentication(IAsyncResult result)
   at System.Net.Security.SslStream.EndAuthenticateAsServer(IAsyncResult asyncResult)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_1(IAsyncResult iar)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:40:51.177 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Authentication failed because the remote party has closed the transport stream.
   at System.Net.Security.SslStream.StartReadFrame(Byte[] buffer, Int32 readBytes, AsyncProtocolRequest asyncRequest)
   at System.Net.Security.SslStream.PartialFrameCallback(AsyncProtocolRequest asyncRequest)
--- End of stack trace from previous location where exception was thrown ---
   at System.Net.Security.SslStream.ThrowIfExceptional()
   at System.Net.Security.SslStream.InternalEndProcessAuthentication(LazyAsyncResult lazyResult)
   at System.Net.Security.SslStream.EndProcessAuthentication(IAsyncResult result)
   at System.Net.Security.SslStream.EndAuthenticateAsServer(IAsyncResult asyncResult)
   at System.Net.Security.SslStream.<>c.<AuthenticateAsServerAsync>b__69_1(IAsyncResult iar)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.InnerOnConnectionAsync(ConnectionContext context)
2022-03-28 21:40:51.261 +04:00 [DBG] Connection id "0HMGGS8CUCBLA" stopped.
2022-03-28 21:40:51.293 +04:00 [DBG] Connection id "0HMGGS8CUCBLB" stopped.
2022-03-28 21:40:51.301 +04:00 [DBG] Connection id "0HMGGS8CUCBLA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:40:51.303 +04:00 [DBG] Connection id "0HMGGS8CUCBLC" accepted.
2022-03-28 21:40:51.308 +04:00 [DBG] Connection id "0HMGGS8CUCBLB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-03-28 21:40:51.336 +04:00 [DBG] Connection id "0HMGGS8CUCBLC" started.
2022-03-28 21:40:51.458 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html  
2022-03-28 21:40:51.492 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:40:51.537 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:40:51.643 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:40:51.645 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:40:51.652 +04:00 [INF] Request finished in 196.2629ms 200 text/html;charset=utf-8
2022-03-28 21:40:51.655 +04:00 [INF] Request finished in 10.0503ms 200 application/javascript; charset=utf-8
2022-03-28 21:40:51.974 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json  
2022-03-28 21:40:52.101 +04:00 [INF] Request finished in 127.2971ms 200 application/json;charset=utf-8
2022-03-28 21:40:58.299 +04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Movie/GetAllMovie  
2022-03-28 21:40:58.304 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:40:58.337 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:40:58.346 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:40:58.349 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:40:58.351 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:40:58.536 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:40:58.609 +04:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-03-28 21:40:58.622 +04:00 [INF] Authorization was successful.
2022-03-28 21:40:58.624 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:40:58.641 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:40:58.699 +04:00 [INF] Route matched with {action = "GetAllMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]]] GetAllMovie() on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:40:58.705 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:40:58.707 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:40:58.709 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:40:58.713 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:40:58.715 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:40:58.719 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:40:59.686 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:40:59.691 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:41:57.041 +04:00 [DBG] Hosting starting
2022-03-28 21:41:57.189 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:41:57.197 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:41:57.229 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:41:57.241 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:41:57.253 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:41:57.258 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:41:57.259 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:41:57.265 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:41:57.271 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:41:57.276 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:41:57.276 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:41:57.600 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:41:57.601 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:41:57.601 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:41:57.602 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:41:57.602 +04:00 [INF] Hosting environment: Development
2022-03-28 21:41:57.602 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:41:57.602 +04:00 [DBG] Hosting started
2022-03-28 21:41:57.657 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 21:41:57.691 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:41:57.735 +04:00 [DBG] Connection ID "18302628921604047233" disconnecting.
2022-03-28 21:41:57.736 +04:00 [INF] Request finished in 83.6015ms 301 
2022-03-28 21:41:57.737 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 21:41:57.813 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:41:57.960 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:41:57.965 +04:00 [INF] Request finished in 227.4551ms 200 text/html;charset=utf-8
2022-03-28 21:41:57.965 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 21:41:57.967 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 21:41:57.967 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:41:57.967 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 21:41:57.980 +04:00 [INF] Request finished in 13.3198ms 200 application/javascript; charset=utf-8
2022-03-28 21:41:58.054 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 21:41:58.054 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 21:41:58.054 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 21:41:58.055 +04:00 [INF] Request finished in 89.5383ms 200 text/css
2022-03-28 21:41:58.055 +04:00 [INF] Request finished in 87.7848ms 200 application/javascript
2022-03-28 21:41:58.055 +04:00 [INF] Request finished in 87.745ms 200 application/javascript
2022-03-28 21:41:58.312 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 21:41:58.316 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 21:41:58.317 +04:00 [INF] Request finished in 5.8324ms 200 image/png
2022-03-28 21:41:58.619 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 21:41:58.776 +04:00 [INF] Request finished in 156.7029ms 200 application/json;charset=utf-8
2022-03-28 21:42:03.906 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/Movie/GetAllMovie  
2022-03-28 21:42:03.908 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:42:03.956 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:42:03.961 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:42:03.961 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:42:03.962 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:42:04.143 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:42:04.201 +04:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-03-28 21:42:04.211 +04:00 [INF] Authorization was successful.
2022-03-28 21:42:04.212 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:42:04.226 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:42:04.279 +04:00 [INF] Route matched with {action = "GetAllMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]]] GetAllMovie() on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:42:04.280 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:42:04.281 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:42:04.281 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:42:04.282 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:42:04.282 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:42:04.283 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:42:05.163 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:42:05.164 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:42:47.017 +04:00 [DBG] Hosting starting
2022-03-28 21:42:47.108 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:42:47.117 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:42:47.143 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:42:47.153 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:42:47.161 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:42:47.167 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:42:47.168 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:42:47.172 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:42:47.177 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:42:47.182 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:42:47.183 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:42:47.439 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:42:47.439 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:42:47.440 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:42:47.440 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:42:47.441 +04:00 [INF] Hosting environment: Development
2022-03-28 21:42:47.441 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:42:47.441 +04:00 [DBG] Hosting started
2022-03-28 21:42:47.484 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 21:42:47.511 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:42:47.546 +04:00 [DBG] Connection ID "18302628921604047237" disconnecting.
2022-03-28 21:42:47.546 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 21:42:47.546 +04:00 [INF] Request finished in 63.3831ms 301 
2022-03-28 21:42:47.587 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:42:47.707 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:42:47.709 +04:00 [INF] Request finished in 163.3724ms 200 text/html;charset=utf-8
2022-03-28 21:42:47.710 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 21:42:47.711 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 21:42:47.712 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 21:42:47.712 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:42:47.717 +04:00 [INF] Request finished in 5.7328ms 200 application/javascript; charset=utf-8
2022-03-28 21:42:47.779 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 21:42:47.782 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 21:42:47.783 +04:00 [INF] Request finished in 71.1551ms 200 application/javascript
2022-03-28 21:42:47.783 +04:00 [INF] Request finished in 72.3072ms 200 text/css
2022-03-28 21:42:47.785 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 21:42:47.785 +04:00 [INF] Request finished in 73.6628ms 200 application/javascript
2022-03-28 21:42:47.951 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 21:42:47.952 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 21:42:47.952 +04:00 [INF] Request finished in 1.0789ms 200 image/png
2022-03-28 21:42:48.106 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 21:42:48.215 +04:00 [INF] Request finished in 109.7699ms 200 application/json;charset=utf-8
2022-03-28 21:42:56.210 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/Movie/GetAllMovie  
2022-03-28 21:42:56.213 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:42:56.267 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:42:56.277 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:42:56.277 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:42:56.278 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:42:56.492 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:42:56.550 +04:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-03-28 21:42:56.558 +04:00 [INF] Authorization was successful.
2022-03-28 21:42:56.558 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:42:56.570 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:42:56.609 +04:00 [INF] Route matched with {action = "GetAllMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]]] GetAllMovie() on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:42:56.610 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:42:56.610 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:42:56.611 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:42:56.612 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:42:56.612 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:42:56.615 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:42:57.524 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:42:57.525 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:43:30.932 +04:00 [DBG] Hosting starting
2022-03-28 21:43:31.015 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:43:31.024 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:43:31.042 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:43:31.054 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:43:31.065 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:43:31.070 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:43:31.072 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:43:31.078 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:43:31.084 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:43:31.090 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:43:31.090 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:43:31.238 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:43:31.239 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:43:31.239 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:43:31.239 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:43:31.240 +04:00 [INF] Hosting environment: Development
2022-03-28 21:43:31.240 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:43:31.240 +04:00 [DBG] Hosting started
2022-03-28 21:43:31.275 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 21:43:31.304 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:43:31.335 +04:00 [DBG] Connection ID "17942340942824472721" disconnecting.
2022-03-28 21:43:31.336 +04:00 [INF] Request finished in 66.3424ms 301 
2022-03-28 21:43:31.336 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 21:43:31.378 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:43:31.472 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:43:31.475 +04:00 [INF] Request finished in 138.1491ms 200 text/html;charset=utf-8
2022-03-28 21:43:31.477 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 21:43:31.477 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 21:43:31.479 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 21:43:31.479 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:43:31.484 +04:00 [INF] Request finished in 4.9607ms 200 application/javascript; charset=utf-8
2022-03-28 21:43:31.497 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 21:43:31.497 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 21:43:31.497 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 21:43:31.497 +04:00 [INF] Request finished in 20.4854ms 200 text/css
2022-03-28 21:43:31.497 +04:00 [INF] Request finished in 18.5001ms 200 application/javascript
2022-03-28 21:43:31.497 +04:00 [INF] Request finished in 20.3639ms 200 application/javascript
2022-03-28 21:43:31.798 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 21:43:31.801 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 21:43:31.801 +04:00 [INF] Request finished in 3.4515ms 200 image/png
2022-03-28 21:43:32.014 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 21:43:32.127 +04:00 [INF] Request finished in 113.3453ms 200 application/json;charset=utf-8
2022-03-28 21:43:45.230 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/GetAllMovie  
2022-03-28 21:43:45.232 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:43:45.273 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:43:45.281 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:43:45.281 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:43:45.284 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:43:45.294 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:43:45.301 +04:00 [INF] Authorization failed.
2022-03-28 21:43:45.305 +04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-03-28 21:43:45.307 +04:00 [INF] HTTP GET /Movie/GetAllMovie responded 302 in 69.3734 ms
2022-03-28 21:43:45.308 +04:00 [INF] Request finished in 78.4153ms 302 
2022-03-28 21:43:45.320 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Account/Login?ReturnUrl=%2FMovie%2FGetAllMovie  
2022-03-28 21:43:45.321 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:43:45.322 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:43:45.322 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-03-28 21:43:45.325 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:43:45.326 +04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-03-28 21:43:45.326 +04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-03-28 21:43:45.326 +04:00 [INF] HTTP GET /Account/Login responded 405 in 5.3359 ms
2022-03-28 21:43:45.328 +04:00 [INF] Request finished in 7.4927ms 405 
2022-03-28 21:43:56.347 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/GetAllMovie  
2022-03-28 21:43:56.349 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:43:56.350 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:43:56.351 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:43:56.352 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:43:56.353 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:43:56.355 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:43:56.356 +04:00 [INF] Authorization failed.
2022-03-28 21:43:56.357 +04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-03-28 21:43:56.358 +04:00 [INF] HTTP GET /Movie/GetAllMovie responded 302 in 7.6950 ms
2022-03-28 21:43:56.359 +04:00 [INF] Request finished in 12.2409ms 302 
2022-03-28 21:43:56.364 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Account/Login?ReturnUrl=%2FMovie%2FGetAllMovie  
2022-03-28 21:43:56.366 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:43:56.367 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:43:56.367 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-03-28 21:43:56.368 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:43:56.369 +04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-03-28 21:43:56.369 +04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-03-28 21:43:56.369 +04:00 [INF] HTTP GET /Account/Login responded 405 in 2.5064 ms
2022-03-28 21:43:56.370 +04:00 [INF] Request finished in 5.8811ms 405 
2022-03-28 21:43:56.673 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/GetAllMovie  
2022-03-28 21:43:56.674 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:43:56.675 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:43:56.675 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:43:56.675 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:43:56.675 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:43:56.676 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:43:56.677 +04:00 [INF] Authorization failed.
2022-03-28 21:43:56.678 +04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-03-28 21:43:56.678 +04:00 [INF] HTTP GET /Movie/GetAllMovie responded 302 in 3.6869 ms
2022-03-28 21:43:56.679 +04:00 [INF] Request finished in 5.836ms 302 
2022-03-28 21:43:56.684 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Account/Login?ReturnUrl=%2FMovie%2FGetAllMovie  
2022-03-28 21:43:56.684 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:43:56.685 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:43:56.685 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-03-28 21:43:56.685 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:43:56.685 +04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-03-28 21:43:56.685 +04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-03-28 21:43:56.685 +04:00 [INF] HTTP GET /Account/Login responded 405 in 0.6842 ms
2022-03-28 21:43:56.686 +04:00 [INF] Request finished in 1.7614ms 405 
2022-03-28 21:44:04.358 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/1  
2022-03-28 21:44:04.359 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:44:04.360 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/1'
2022-03-28 21:44:04.360 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/1'
2022-03-28 21:44:04.360 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:44:04.361 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:44:04.361 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:44:04.372 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:44:04.416 +04:00 [INF] Route matched with {action = "GetMovieById", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]] GetMovieById(Int32) on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:44:04.417 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:44:04.418 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:44:04.418 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:44:04.418 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:44:04.418 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:44:04.419 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:44:04.506 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:44:05.351 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:44:05.352 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:44:05.356 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2022-03-28 21:44:05.358 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2022-03-28 21:44:05.358 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 21:44:05.358 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 21:44:05.359 +04:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2022-03-28 21:44:05.360 +04:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2022-03-28 21:44:05.453 +04:00 [DBG] Compiling query expression: 
'DbSet<Movie>()
    .Include(x => x.Tickets)
    .SingleOrDefault(x => x.Id == __Id_0)'
2022-03-28 21:44:05.500 +04:00 [DBG] Including navigation: 'Movie.Tickets'.
2022-03-28 21:44:05.748 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Movie>(
    asyncEnumerable: new SingleQueryingEnumerable<Movie>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.Actors, t.Archive, t.Director, t.Duration, t.Genre, t.ImageUrl, t.IsActive, t.Name, t.StartTime, t.Story, t0.Id, t0.CountTicket, t0.IsAcquired, t0.IsActive, t0.IsBooked, t0.IsCanceled, t0.MovieId, t0.UserName
            FROM Projection Mapping:
            (
                SELECT TOP(2) m.Id, m.Actors, m.Archive, m.Director, m.Duration, m.Genre, m.ImageUrl, m.IsActive, m.Name, m.StartTime, m.Story
                FROM Movies AS m
                WHERE m.Id == @__Id_0
            ) AS t
            LEFT JOIN Tickets AS t0 ON t.Id == t0.MovieId
            ORDER BY t.Id ASC, t0.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Movie>, 
        MoviesManagement.PersistanceDB.Context.MovieContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:44:05.793 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:44:05.822 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2022-03-28 21:44:05.837 +04:00 [DBG] Opening connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:44:06.054 +04:00 [DBG] Opened connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:44:06.067 +04:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 21:44:06.123 +04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 21:44:06.139 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:44:06.142 +04:00 [DBG] Closing connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:44:06.148 +04:00 [DBG] Closed connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:44:06.156 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api) in 1733.623ms
2022-03-28 21:44:06.157 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:44:06.159 +04:00 [ERR] HTTP GET /Movie/1 responded 500 in 1799.5612 ms
MoviesManagement.Services.Exceptions.ObjectWithThisIdNotFound: Not Found
   at MoviesManagement.Services.Implementations.MovieService.GetByIdAsync(Int32 Id) in C:\Users\user\source\repos\Movies.ItAcademy.Ge\MoviesManagement.Services\Implementations\MovieService.cs:line 55
   at Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById(Int32 Id) in C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api\Controllers\MovieController.cs:line 47
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2022-03-28 21:44:06.185 +04:00 [ERR] An unhandled exception has occurred while executing the request.
MoviesManagement.Services.Exceptions.ObjectWithThisIdNotFound: Not Found
   at MoviesManagement.Services.Implementations.MovieService.GetByIdAsync(Int32 Id) in C:\Users\user\source\repos\Movies.ItAcademy.Ge\MoviesManagement.Services\Implementations\MovieService.cs:line 55
   at Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById(Int32 Id) in C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api\Controllers\MovieController.cs:line 47
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-03-28 21:44:06.197 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:44:06.201 +04:00 [INF] Request finished in 1842.6011ms 500 text/plain
2022-03-28 21:44:35.895 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 21:44:35.895 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:44:35.896 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 21:44:35.897 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 21:44:35.897 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:44:35.900 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:44:35.902 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:44:35.903 +04:00 [INF] Route matched with {action = "GetMovieById", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]] GetMovieById(Int32) on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:44:35.903 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:44:35.903 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:44:35.904 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:44:35.904 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:44:35.904 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:44:35.904 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:44:35.953 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:44:35.953 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:44:35.955 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2022-03-28 21:44:35.955 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2022-03-28 21:44:35.956 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 21:44:35.956 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 21:44:35.956 +04:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2022-03-28 21:44:35.956 +04:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2022-03-28 21:44:35.962 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:44:35.962 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 21:44:35.963 +04:00 [DBG] Opening connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:44:35.964 +04:00 [DBG] Opened connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:44:35.965 +04:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 21:44:35.974 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 21:44:36.014 +04:00 [DBG] Context 'MovieContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:44:36.080 +04:00 [DBG] Context 'MovieContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:44:36.108 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:44:36.108 +04:00 [DBG] Closing connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:44:36.108 +04:00 [DBG] Closed connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:44:36.218 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 21:44:36.219 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 21:44:36.220 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 21:44:36.220 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 21:44:36.220 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-03-28 21:44:36.220 +04:00 [INF] Executing ObjectResult, writing value of type 'Movies.ItAcademy.Api.Models.DTO.MovieDTO'.
2022-03-28 21:44:36.229 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api) in 325.0614ms
2022-03-28 21:44:36.229 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:44:36.229 +04:00 [INF] HTTP GET /Movie/38 responded 200 in 333.5382 ms
2022-03-28 21:44:36.230 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:44:36.230 +04:00 [INF] Request finished in 335.1675ms 200 application/json; charset=utf-8
2022-03-28 21:44:57.592 +04:00 [DBG] Hosting starting
2022-03-28 21:44:57.665 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:44:57.673 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:44:57.687 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:44:57.697 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:44:57.707 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:44:57.710 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:44:57.712 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:44:57.718 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:44:57.723 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:44:57.727 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:44:57.727 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:44:57.842 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:44:57.842 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:44:57.842 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:44:57.843 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:44:57.843 +04:00 [INF] Hosting environment: Development
2022-03-28 21:44:57.843 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:44:57.844 +04:00 [DBG] Hosting started
2022-03-28 21:44:57.873 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 21:44:57.897 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:44:57.942 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:44:58.046 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:44:58.048 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 21:44:58.050 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:44:58.053 +04:00 [INF] Request finished in 185.3806ms 200 text/html;charset=utf-8
2022-03-28 21:44:58.055 +04:00 [INF] Request finished in 4.6094ms 200 application/javascript; charset=utf-8
2022-03-28 21:44:58.065 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 21:44:58.066 +04:00 [INF] Request finished in 18.5701ms 200 text/css
2022-03-28 21:44:58.338 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 21:44:58.347 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 21:44:58.348 +04:00 [INF] Request finished in 9.9757ms 200 application/javascript
2022-03-28 21:44:58.412 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 21:44:58.413 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 21:44:58.413 +04:00 [INF] Request finished in 1.2066ms 200 image/png
2022-03-28 21:44:58.611 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 21:44:58.628 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 21:44:58.629 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 21:44:58.630 +04:00 [INF] Request finished in 2.0337ms 200 image/png
2022-03-28 21:44:58.690 +04:00 [INF] Request finished in 78.9373ms 200 application/json;charset=utf-8
2022-03-28 21:45:02.090 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 21:45:02.091 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:45:02.116 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 21:45:02.121 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 21:45:02.122 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:45:02.129 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:45:02.135 +04:00 [INF] Authorization failed.
2022-03-28 21:45:02.138 +04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-03-28 21:45:02.140 +04:00 [INF] HTTP GET /Movie/38 responded 302 in 46.5841 ms
2022-03-28 21:45:02.142 +04:00 [INF] Request finished in 51.6617ms 302 
2022-03-28 21:45:02.149 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Account/Login?ReturnUrl=%2FMovie%2F38  
2022-03-28 21:45:02.150 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:45:02.150 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:45:02.151 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-03-28 21:45:02.152 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:45:02.152 +04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-03-28 21:45:02.152 +04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-03-28 21:45:02.152 +04:00 [INF] HTTP GET /Account/Login responded 405 in 2.6428 ms
2022-03-28 21:45:02.153 +04:00 [INF] Request finished in 3.6123ms 405 
2022-03-28 21:45:21.351 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/Movie/38  
2022-03-28 21:45:21.356 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:45:21.357 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 21:45:21.357 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 21:45:21.357 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:45:21.461 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:45:21.522 +04:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-03-28 21:45:21.523 +04:00 [INF] Authorization was successful.
2022-03-28 21:45:21.523 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:45:21.536 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:45:21.593 +04:00 [INF] Route matched with {action = "GetMovieById", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]] GetMovieById(Int32) on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:45:21.594 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:45:21.595 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:45:21.595 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:45:21.595 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:45:21.596 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:45:21.596 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:45:22.413 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:45:22.414 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:45:22.422 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2022-03-28 21:45:22.425 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2022-03-28 21:45:22.426 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 21:45:22.426 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 21:45:22.426 +04:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2022-03-28 21:45:22.430 +04:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2022-03-28 21:45:22.575 +04:00 [DBG] Compiling query expression: 
'DbSet<Movie>()
    .Include(x => x.Tickets)
    .SingleOrDefault(x => x.Id == __Id_0)'
2022-03-28 21:45:22.642 +04:00 [DBG] Including navigation: 'Movie.Tickets'.
2022-03-28 21:45:22.969 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Movie>(
    asyncEnumerable: new SingleQueryingEnumerable<Movie>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.Actors, t.Archive, t.Director, t.Duration, t.Genre, t.ImageUrl, t.IsActive, t.Name, t.StartTime, t.Story, t0.Id, t0.CountTicket, t0.IsAcquired, t0.IsActive, t0.IsBooked, t0.IsCanceled, t0.MovieId, t0.UserName
            FROM Projection Mapping:
            (
                SELECT TOP(2) m.Id, m.Actors, m.Archive, m.Director, m.Duration, m.Genre, m.ImageUrl, m.IsActive, m.Name, m.StartTime, m.Story
                FROM Movies AS m
                WHERE m.Id == @__Id_0
            ) AS t
            LEFT JOIN Tickets AS t0 ON t.Id == t0.MovieId
            ORDER BY t.Id ASC, t0.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Movie>, 
        MoviesManagement.PersistanceDB.Context.MovieContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:45:23.030 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:45:23.074 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2022-03-28 21:45:23.095 +04:00 [DBG] Opening connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:45:23.352 +04:00 [DBG] Opened connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:45:23.363 +04:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 21:45:23.425 +04:00 [INF] Executed DbCommand (63ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 21:45:23.476 +04:00 [DBG] Context 'MovieContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:45:23.547 +04:00 [DBG] Context 'MovieContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:45:23.579 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:45:23.583 +04:00 [DBG] Closing connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:45:23.589 +04:00 [DBG] Closed connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:45:23.692 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 21:45:23.694 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 21:45:23.694 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 21:45:23.694 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 21:45:23.695 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-03-28 21:45:23.695 +04:00 [INF] Executing ObjectResult, writing value of type 'Movies.ItAcademy.Api.Models.DTO.MovieDTO'.
2022-03-28 21:45:23.713 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api) in 2110.7877ms
2022-03-28 21:45:23.714 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:45:23.716 +04:00 [INF] HTTP GET /Movie/38 responded 200 in 2358.8079 ms
2022-03-28 21:45:23.718 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:45:23.723 +04:00 [INF] Request finished in 2372.2221ms 200 application/json; charset=utf-8
2022-03-28 21:45:24.075 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/favicon.ico  
2022-03-28 21:45:24.076 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:45:24.077 +04:00 [DBG] No candidates found for the request path '/favicon.ico'
2022-03-28 21:45:24.077 +04:00 [DBG] Request did not match any endpoints
2022-03-28 21:45:24.080 +04:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-03-28 21:45:24.081 +04:00 [INF] HTTP GET /favicon.ico responded 404 in 3.8215 ms
2022-03-28 21:45:24.082 +04:00 [INF] Request finished in 6.6021ms 404 
2022-03-28 21:46:12.528 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 21:46:12.533 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:46:12.544 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:46:12.545 +04:00 [INF] Request finished in 17.0864ms 200 text/html;charset=utf-8
2022-03-28 21:46:12.559 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 21:46:12.566 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:46:12.566 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 21:46:12.567 +04:00 [INF] Request finished in 0.6928ms 200 application/javascript; charset=utf-8
2022-03-28 21:46:12.567 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 21:46:12.566 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 21:46:12.569 +04:00 [INF] Request finished in 8.9101ms 200 text/css
2022-03-28 21:46:12.573 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 21:46:12.574 +04:00 [INF] Request finished in 7.1653ms 200 application/javascript
2022-03-28 21:46:12.578 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 21:46:12.579 +04:00 [INF] Request finished in 11.3499ms 200 application/javascript
2022-03-28 21:46:12.865 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 21:46:12.867 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 21:46:12.868 +04:00 [INF] Request finished in 3.0032ms 200 image/png
2022-03-28 21:46:13.095 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 21:46:13.111 +04:00 [INF] Request finished in 15.8591ms 200 application/json;charset=utf-8
2022-03-28 21:46:50.460 +04:00 [INF] Request starting HTTP/2.0 POST https://localhost:44376/Account/Login?username=Abo1%40Gmail.Com&password=Aa123456%21  0
2022-03-28 21:46:50.462 +04:00 [DBG] POST requests are not supported
2022-03-28 21:46:50.462 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:46:50.462 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-03-28 21:46:50.463 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:46:50.477 +04:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-03-28 21:46:50.478 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:46:50.490 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api).
2022-03-28 21:46:50.490 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:46:50.490 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:46:50.490 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:46:50.490 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:46:50.491 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:46:50.491 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:46:50.526 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:46:50.528 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:46:50.529 +04:00 [DBG] Attempting to bind parameter 'username' of type 'System.String' ...
2022-03-28 21:46:50.531 +04:00 [DBG] Attempting to bind parameter 'username' of type 'System.String' using the name 'username' in request data ...
2022-03-28 21:46:50.531 +04:00 [DBG] Done attempting to bind parameter 'username' of type 'System.String'.
2022-03-28 21:46:50.531 +04:00 [DBG] Done attempting to bind parameter 'username' of type 'System.String'.
2022-03-28 21:46:50.532 +04:00 [DBG] Attempting to validate the bound parameter 'username' of type 'System.String' ...
2022-03-28 21:46:50.532 +04:00 [DBG] Done attempting to validate the bound parameter 'username' of type 'System.String'.
2022-03-28 21:46:50.533 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' ...
2022-03-28 21:46:50.534 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ...
2022-03-28 21:46:50.534 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 21:46:50.535 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 21:46:50.535 +04:00 [DBG] Attempting to validate the bound parameter 'password' of type 'System.String' ...
2022-03-28 21:46:50.536 +04:00 [DBG] Done attempting to validate the bound parameter 'password' of type 'System.String'.
2022-03-28 21:46:50.615 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-03-28 21:46:50.616 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-03-28 21:46:50.638 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:46:50.641 +04:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-03-28 21:46:50.652 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string), 5], [Property: AppUser.LastName (string), 6], [Property: AppUser.LockoutEnabled (bool) Required, 7], [Property: AppUser.LockoutEnd (Nullable<DateTimeOffset>), 8], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 9], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 10], [Property: AppUser.PasswordHash (string), 11], [Property: AppUser.PhoneNumber (string), 12], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 13], [Property: AppUser.SecurityStamp (string), 14], [Property: AppUser.TwoFactorEnabled (bool) Required, 15], [Property: AppUser.UserName (string) MaxLength(256), 16], }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:46:50.660 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:46:50.661 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 21:46:50.662 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.761 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.762 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 21:46:50.771 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 21:46:50.791 +04:00 [DBG] Context 'UserContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:46:50.830 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:46:50.831 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.831 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.884 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2022-03-28 21:46:50.894 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
    False, 
    False
)'
2022-03-28 21:46:50.895 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:46:50.896 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 21:46:50.896 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.897 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.897 +04:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2022-03-28 21:46:50.904 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2022-03-28 21:46:50.905 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:46:50.906 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.906 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.917 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-03-28 21:46:50.935 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
    False, 
    False
)'
2022-03-28 21:46:50.937 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:46:50.937 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 21:46:50.937 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.937 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.937 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-03-28 21:46:50.943 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-03-28 21:46:50.944 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:46:50.944 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.944 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.948 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2022-03-28 21:46:50.954 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3], }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:46:50.954 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:46:50.955 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 21:46:50.955 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.955 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.955 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-03-28 21:46:50.960 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-03-28 21:46:50.972 +04:00 [DBG] Context 'UserContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:46:50.980 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:46:50.980 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.981 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.986 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2022-03-28 21:46:50.990 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT a.ClaimType, a.ClaimValue
        FROM AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
    False, 
    False
)'
2022-03-28 21:46:50.991 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:46:50.991 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 21:46:50.991 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.991 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.991 +04:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2022-03-28 21:46:50.994 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2022-03-28 21:46:50.994 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:46:50.994 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:50.994 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:46:51.005 +04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-03-28 21:46:51.141 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 21:46:51.142 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 21:46:51.142 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 21:46:51.142 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 21:46:51.142 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-03-28 21:46:51.142 +04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-03-28 21:46:51.143 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api) in 651.878ms
2022-03-28 21:46:51.143 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:46:51.143 +04:00 [INF] HTTP POST /Account/Login responded 200 in 681.3903 ms
2022-03-28 21:46:51.144 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:46:51.144 +04:00 [DBG] 'UserContext' disposed.
2022-03-28 21:46:51.145 +04:00 [INF] Request finished in 686.7578ms 200 text/plain; charset=utf-8
2022-03-28 21:47:16.815 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 21:47:16.816 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:47:16.816 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 21:47:16.817 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 21:47:16.818 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:47:16.820 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:47:16.822 +04:00 [INF] Authorization failed.
2022-03-28 21:47:16.822 +04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-03-28 21:47:16.823 +04:00 [INF] HTTP GET /Movie/38 responded 302 in 6.6339 ms
2022-03-28 21:47:16.824 +04:00 [INF] Request finished in 9.0721ms 302 
2022-03-28 21:47:16.835 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Account/Login?ReturnUrl=%2FMovie%2F38  
2022-03-28 21:47:16.836 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:47:16.837 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:47:16.838 +04:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-03-28 21:47:16.839 +04:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-03-28 21:47:16.840 +04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-03-28 21:47:16.840 +04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-03-28 21:47:16.840 +04:00 [INF] HTTP GET /Account/Login responded 405 in 3.0249 ms
2022-03-28 21:47:16.841 +04:00 [INF] Request finished in 5.9ms 405 
2022-03-28 21:55:10.680 +04:00 [DBG] Hosting starting
2022-03-28 21:55:10.780 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:55:10.789 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:55:10.815 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:55:10.827 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:55:10.835 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:55:10.838 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:55:10.840 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:55:10.845 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:55:10.850 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:55:10.853 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:55:10.853 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:55:11.114 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:55:11.114 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:55:11.115 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:55:11.115 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:55:11.115 +04:00 [INF] Hosting environment: Development
2022-03-28 21:55:11.115 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:55:11.115 +04:00 [DBG] Hosting started
2022-03-28 21:55:11.158 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 21:55:11.185 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:55:11.228 +04:00 [DBG] Connection ID "17942340934234538356" disconnecting.
2022-03-28 21:55:11.228 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 21:55:11.231 +04:00 [INF] Request finished in 76.0902ms 301 
2022-03-28 21:55:11.273 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:55:11.387 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:55:11.389 +04:00 [INF] Request finished in 160.3102ms 200 text/html;charset=utf-8
2022-03-28 21:55:11.393 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 21:55:11.393 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 21:55:11.398 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:55:11.398 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 21:55:11.409 +04:00 [INF] Request finished in 11.5954ms 200 application/javascript; charset=utf-8
2022-03-28 21:55:11.488 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 21:55:11.488 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 21:55:11.488 +04:00 [INF] Request finished in 95.4863ms 200 text/css
2022-03-28 21:55:11.488 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 21:55:11.488 +04:00 [INF] Request finished in 95.7925ms 200 application/javascript
2022-03-28 21:55:11.489 +04:00 [INF] Request finished in 90.6982ms 200 application/javascript
2022-03-28 21:55:11.669 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 21:55:11.670 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 21:55:11.670 +04:00 [INF] Request finished in 0.9253ms 200 image/png
2022-03-28 21:55:11.813 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 21:55:11.929 +04:00 [INF] Request finished in 116.2574ms 200 application/json;charset=utf-8
2022-03-28 21:55:49.909 +04:00 [INF] Request starting HTTP/2.0 POST https://localhost:44376/Account/Login?username=Abo1%40Gmail.Com&password=Aa123456%21  0
2022-03-28 21:55:49.910 +04:00 [DBG] POST requests are not supported
2022-03-28 21:55:49.965 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:55:49.973 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-03-28 21:55:49.974 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:55:50.172 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-03-28 21:55:50.176 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:55:50.189 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:55:50.243 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api).
2022-03-28 21:55:50.244 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:55:50.244 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:55:50.245 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:55:50.246 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:55:50.246 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:55:50.247 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:55:50.466 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:55:51.358 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:55:51.382 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:55:51.388 +04:00 [DBG] Attempting to bind parameter 'username' of type 'System.String' ...
2022-03-28 21:55:51.394 +04:00 [DBG] Attempting to bind parameter 'username' of type 'System.String' using the name 'username' in request data ...
2022-03-28 21:55:51.395 +04:00 [DBG] Done attempting to bind parameter 'username' of type 'System.String'.
2022-03-28 21:55:51.395 +04:00 [DBG] Done attempting to bind parameter 'username' of type 'System.String'.
2022-03-28 21:55:51.396 +04:00 [DBG] Attempting to validate the bound parameter 'username' of type 'System.String' ...
2022-03-28 21:55:51.399 +04:00 [DBG] Done attempting to validate the bound parameter 'username' of type 'System.String'.
2022-03-28 21:55:51.401 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' ...
2022-03-28 21:55:51.401 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ...
2022-03-28 21:55:51.402 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 21:55:51.402 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 21:55:51.402 +04:00 [DBG] Attempting to validate the bound parameter 'password' of type 'System.String' ...
2022-03-28 21:55:51.402 +04:00 [DBG] Done attempting to validate the bound parameter 'password' of type 'System.String'.
2022-03-28 21:55:58.948 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-03-28 21:55:58.948 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-03-28 21:55:58.992 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:55:59.146 +04:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-03-28 21:55:59.381 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string), 5], [Property: AppUser.LastName (string), 6], [Property: AppUser.LockoutEnabled (bool) Required, 7], [Property: AppUser.LockoutEnd (Nullable<DateTimeOffset>), 8], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 9], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 10], [Property: AppUser.PasswordHash (string), 11], [Property: AppUser.PhoneNumber (string), 12], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 13], [Property: AppUser.SecurityStamp (string), 14], [Property: AppUser.TwoFactorEnabled (bool) Required, 15], [Property: AppUser.UserName (string) MaxLength(256), 16], }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:55:59.433 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:55:59.464 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2022-03-28 21:55:59.475 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:55:59.864 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:55:59.892 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 21:55:59.988 +04:00 [INF] Executed DbCommand (112ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 21:56:00.056 +04:00 [DBG] Context 'UserContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:56:00.126 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:56:00.131 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:56:00.138 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:56:00.341 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 21:56:00.344 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 21:56:00.344 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 21:56:00.345 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 21:56:00.347 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-03-28 21:56:00.347 +04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-03-28 21:56:00.357 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api) in 10103.8704ms
2022-03-28 21:56:00.358 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:56:00.362 +04:00 [INF] HTTP POST /Account/Login responded 200 in 10446.2603 ms
2022-03-28 21:56:00.365 +04:00 [DBG] 'UserContext' disposed.
2022-03-28 21:56:00.368 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:56:00.369 +04:00 [INF] Request finished in 10470.2811ms 200 text/plain; charset=utf-8
2022-03-28 21:56:13.792 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 21:56:13.793 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:56:13.794 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 21:56:13.794 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 21:56:13.795 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:56:13.887 +04:00 [INF] Successfully validated the token.
2022-03-28 21:56:13.889 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-03-28 21:56:13.895 +04:00 [INF] Authorization was successful.
2022-03-28 21:56:13.896 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:56:13.905 +04:00 [INF] Route matched with {action = "GetMovieById", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]] GetMovieById(Int32) on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:56:13.905 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:56:13.906 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:56:13.906 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:56:13.906 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:56:13.906 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:56:13.906 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:56:13.918 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:56:13.920 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:56:13.921 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2022-03-28 21:56:13.921 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2022-03-28 21:56:13.922 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 21:56:13.922 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 21:56:13.922 +04:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2022-03-28 21:56:13.923 +04:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2022-03-28 21:56:13.945 +04:00 [DBG] Compiling query expression: 
'DbSet<Movie>()
    .Include(x => x.Tickets)
    .SingleOrDefault(x => x.Id == __Id_0)'
2022-03-28 21:56:13.959 +04:00 [DBG] Including navigation: 'Movie.Tickets'.
2022-03-28 21:56:14.079 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Movie>(
    asyncEnumerable: new SingleQueryingEnumerable<Movie>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.Actors, t.Archive, t.Director, t.Duration, t.Genre, t.ImageUrl, t.IsActive, t.Name, t.StartTime, t.Story, t0.Id, t0.CountTicket, t0.IsAcquired, t0.IsActive, t0.IsBooked, t0.IsCanceled, t0.MovieId, t0.UserName
            FROM Projection Mapping:
            (
                SELECT TOP(2) m.Id, m.Actors, m.Archive, m.Director, m.Duration, m.Genre, m.ImageUrl, m.IsActive, m.Name, m.StartTime, m.Story
                FROM Movies AS m
                WHERE m.Id == @__Id_0
            ) AS t
            LEFT JOIN Tickets AS t0 ON t.Id == t0.MovieId
            ORDER BY t.Id ASC, t0.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Movie>, 
        MoviesManagement.PersistanceDB.Context.MovieContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:56:14.082 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:56:14.083 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 21:56:14.084 +04:00 [DBG] Opening connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:56:14.100 +04:00 [DBG] Opened connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:56:14.103 +04:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 21:56:14.107 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 21:56:14.122 +04:00 [DBG] Context 'MovieContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:56:14.171 +04:00 [DBG] Context 'MovieContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:56:14.202 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:56:14.202 +04:00 [DBG] Closing connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:56:14.202 +04:00 [DBG] Closed connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:56:14.326 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 21:56:14.326 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 21:56:14.326 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 21:56:14.326 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 21:56:14.326 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-03-28 21:56:14.326 +04:00 [INF] Executing ObjectResult, writing value of type 'Movies.ItAcademy.Api.Models.DTO.MovieDTO'.
2022-03-28 21:56:14.338 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api) in 432.3689ms
2022-03-28 21:56:14.338 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:56:14.339 +04:00 [INF] HTTP GET /Movie/38 responded 200 in 545.8155 ms
2022-03-28 21:56:14.339 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:56:14.339 +04:00 [INF] Request finished in 548.1855ms 200 application/json; charset=utf-8
2022-03-28 21:56:26.807 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 21:56:26.808 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:56:26.809 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 21:56:26.810 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 21:56:26.810 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:56:26.813 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-03-28 21:56:26.819 +04:00 [INF] Authorization failed.
2022-03-28 21:56:26.824 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-03-28 21:56:26.824 +04:00 [INF] HTTP GET /Movie/38 responded 401 in 15.2584 ms
2022-03-28 21:56:26.826 +04:00 [INF] Request finished in 19.0731ms 401 
2022-03-28 21:56:37.022 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 21:56:37.024 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:56:37.024 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 21:56:37.025 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 21:56:37.026 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:56:37.031 +04:00 [INF] Successfully validated the token.
2022-03-28 21:56:37.032 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-03-28 21:56:37.036 +04:00 [INF] Authorization was successful.
2022-03-28 21:56:37.037 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:56:37.038 +04:00 [INF] Route matched with {action = "GetMovieById", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]] GetMovieById(Int32) on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:56:37.039 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:56:37.039 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:56:37.039 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:56:37.039 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:56:37.039 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:56:37.039 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:56:37.042 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:56:37.043 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:56:37.044 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2022-03-28 21:56:37.044 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2022-03-28 21:56:37.045 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 21:56:37.045 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 21:56:37.045 +04:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2022-03-28 21:56:37.046 +04:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2022-03-28 21:56:37.054 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:56:37.055 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 21:56:37.055 +04:00 [DBG] Opening connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:56:37.057 +04:00 [DBG] Opened connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:56:37.058 +04:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 21:56:37.069 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 21:56:37.070 +04:00 [DBG] Context 'MovieContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:56:37.071 +04:00 [DBG] Context 'MovieContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:56:37.071 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:56:37.071 +04:00 [DBG] Closing connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:56:37.071 +04:00 [DBG] Closed connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:56:37.072 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 21:56:37.072 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 21:56:37.072 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 21:56:37.072 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 21:56:37.072 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-03-28 21:56:37.072 +04:00 [INF] Executing ObjectResult, writing value of type 'Movies.ItAcademy.Api.Models.DTO.MovieDTO'.
2022-03-28 21:56:37.074 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api) in 34.2133ms
2022-03-28 21:56:37.074 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:56:37.074 +04:00 [INF] HTTP GET /Movie/38 responded 200 in 49.9007 ms
2022-03-28 21:56:37.074 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:56:37.075 +04:00 [INF] Request finished in 53.1188ms 200 application/json; charset=utf-8
2022-03-28 21:56:51.657 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/GetAllMovie  
2022-03-28 21:56:51.658 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:56:51.659 +04:00 [DBG] 2 candidate(s) found for the request path '/Movie/GetAllMovie'
2022-03-28 21:56:51.659 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)' with route pattern 'Movie/GetAllMovie' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:56:51.660 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/GetAllMovie'
2022-03-28 21:56:51.660 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:56:51.663 +04:00 [INF] Successfully validated the token.
2022-03-28 21:56:51.664 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-03-28 21:56:51.665 +04:00 [INF] Authorization was successful.
2022-03-28 21:56:51.666 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetAllMovie (Movies.ItAcademy.Api)'
2022-03-28 21:56:51.673 +04:00 [INF] Route matched with {action = "GetAllMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]]] GetAllMovie() on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 21:56:51.674 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:56:51.674 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:56:51.674 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:56:51.674 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:56:51.674 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:56:51.674 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:56:51.682 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:56:51.682 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 21:57:26.275 +04:00 [DBG] Hosting starting
2022-03-28 21:57:26.376 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 21:57:26.386 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 21:57:26.418 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 21:57:26.431 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 21:57:26.441 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:57:26.445 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 21:57:26.447 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 21:57:26.452 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 21:57:26.458 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 21:57:26.462 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 21:57:26.463 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 21:57:26.724 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 21:57:26.724 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 21:57:26.724 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 21:57:26.725 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 21:57:26.725 +04:00 [INF] Hosting environment: Development
2022-03-28 21:57:26.726 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 21:57:26.726 +04:00 [DBG] Hosting started
2022-03-28 21:57:26.786 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 21:57:26.822 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 21:57:26.865 +04:00 [DBG] Connection ID "18014398536862400931" disconnecting.
2022-03-28 21:57:26.866 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 21:57:26.868 +04:00 [INF] Request finished in 85.7925ms 301 
2022-03-28 21:57:26.917 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 21:57:27.036 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 21:57:27.039 +04:00 [INF] Request finished in 173.0445ms 200 text/html;charset=utf-8
2022-03-28 21:57:27.039 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 21:57:27.040 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 21:57:27.040 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 21:57:27.042 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 21:57:27.049 +04:00 [INF] Request finished in 8.951ms 200 application/javascript; charset=utf-8
2022-03-28 21:57:27.093 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 21:57:27.093 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 21:57:27.093 +04:00 [INF] Request finished in 53.5462ms 200 text/css
2022-03-28 21:57:27.093 +04:00 [INF] Request finished in 50.784ms 200 application/javascript
2022-03-28 21:57:27.094 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 21:57:27.094 +04:00 [INF] Request finished in 54.6814ms 200 application/javascript
2022-03-28 21:57:27.274 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 21:57:27.278 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 21:57:27.279 +04:00 [INF] Request finished in 4.5565ms 200 image/png
2022-03-28 21:57:27.434 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 21:57:27.537 +04:00 [INF] Request finished in 102.6263ms 200 application/json;charset=utf-8
2022-03-28 21:57:37.180 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 21:57:37.183 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:57:37.222 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 21:57:37.227 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 21:57:37.229 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:57:37.694 +04:00 [INF] Successfully validated the token.
2022-03-28 21:57:37.695 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-03-28 21:57:37.702 +04:00 [INF] Authorization failed.
2022-03-28 21:57:37.705 +04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2022-03-28 21:57:37.706 +04:00 [INF] HTTP GET /Movie/38 responded 403 in 520.6879 ms
2022-03-28 21:57:37.708 +04:00 [INF] Request finished in 528.0222ms 403 
2022-03-28 21:58:05.196 +04:00 [INF] Request starting HTTP/2.0 POST https://localhost:44376/Account/Login?username=Abo1%40Gmail.com&password=Aa123456%21  0
2022-03-28 21:58:05.197 +04:00 [DBG] POST requests are not supported
2022-03-28 21:58:05.199 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 21:58:05.200 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-03-28 21:58:05.200 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:58:05.208 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-03-28 21:58:05.209 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:58:05.220 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 21:58:05.270 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api).
2022-03-28 21:58:05.271 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 21:58:05.272 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 21:58:05.272 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 21:58:05.272 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 21:58:05.273 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 21:58:05.274 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:58:05.442 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 21:58:06.373 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:58:06.402 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 21:58:06.410 +04:00 [DBG] Attempting to bind parameter 'username' of type 'System.String' ...
2022-03-28 21:58:06.415 +04:00 [DBG] Attempting to bind parameter 'username' of type 'System.String' using the name 'username' in request data ...
2022-03-28 21:58:06.416 +04:00 [DBG] Done attempting to bind parameter 'username' of type 'System.String'.
2022-03-28 21:58:06.416 +04:00 [DBG] Done attempting to bind parameter 'username' of type 'System.String'.
2022-03-28 21:58:06.417 +04:00 [DBG] Attempting to validate the bound parameter 'username' of type 'System.String' ...
2022-03-28 21:58:06.419 +04:00 [DBG] Done attempting to validate the bound parameter 'username' of type 'System.String'.
2022-03-28 21:58:06.421 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' ...
2022-03-28 21:58:06.422 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ...
2022-03-28 21:58:06.422 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 21:58:06.422 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 21:58:06.422 +04:00 [DBG] Attempting to validate the bound parameter 'password' of type 'System.String' ...
2022-03-28 21:58:06.422 +04:00 [DBG] Done attempting to validate the bound parameter 'password' of type 'System.String'.
2022-03-28 21:58:12.416 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-03-28 21:58:12.417 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-03-28 21:58:12.472 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 21:58:12.591 +04:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-03-28 21:58:12.817 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string), 5], [Property: AppUser.LastName (string), 6], [Property: AppUser.LockoutEnabled (bool) Required, 7], [Property: AppUser.LockoutEnd (Nullable<DateTimeOffset>), 8], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 9], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 10], [Property: AppUser.PasswordHash (string), 11], [Property: AppUser.PhoneNumber (string), 12], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 13], [Property: AppUser.SecurityStamp (string), 14], [Property: AppUser.TwoFactorEnabled (bool) Required, 15], [Property: AppUser.UserName (string) MaxLength(256), 16], }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 21:58:12.871 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 21:58:12.903 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2022-03-28 21:58:12.916 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:58:13.298 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:58:13.315 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 21:58:13.456 +04:00 [INF] Executed DbCommand (142ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 21:58:13.520 +04:00 [DBG] Context 'UserContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 21:58:13.596 +04:00 [DBG] A data reader was disposed.
2022-03-28 21:58:13.600 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:58:13.609 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 21:58:13.659 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 21:58:13.661 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 21:58:13.661 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 21:58:13.661 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 21:58:13.662 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-03-28 21:58:13.662 +04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-03-28 21:58:13.676 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api) in 8398.8249ms
2022-03-28 21:58:13.678 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 21:58:13.679 +04:00 [INF] HTTP POST /Account/Login responded 200 in 8481.9469 ms
2022-03-28 21:58:13.682 +04:00 [DBG] 'UserContext' disposed.
2022-03-28 21:58:13.685 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 21:58:13.685 +04:00 [INF] Request finished in 8495.7906ms 200 text/plain; charset=utf-8
2022-03-28 21:58:36.531 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 21:58:36.537 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 21:58:36.538 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 21:58:36.538 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 21:58:36.539 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 21:58:36.541 +04:00 [INF] Successfully validated the token.
2022-03-28 21:58:36.542 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-03-28 21:58:36.543 +04:00 [INF] Authorization failed.
2022-03-28 21:58:36.549 +04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2022-03-28 21:58:36.549 +04:00 [INF] HTTP GET /Movie/38 responded 403 in 11.6567 ms
2022-03-28 21:58:36.551 +04:00 [INF] Request finished in 19.72ms 403 
2022-03-28 22:13:05.205 +04:00 [DBG] Hosting starting
2022-03-28 22:13:05.308 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 22:13:05.315 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 22:13:05.341 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 22:13:05.352 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 22:13:05.360 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 22:13:05.363 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 22:13:05.365 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 22:13:05.370 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 22:13:05.374 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 22:13:05.377 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 22:13:05.378 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 22:13:05.624 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 22:13:05.624 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 22:13:05.624 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 22:13:05.625 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 22:13:05.625 +04:00 [INF] Hosting environment: Development
2022-03-28 22:13:05.625 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 22:13:05.625 +04:00 [DBG] Hosting started
2022-03-28 22:13:05.669 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 22:13:05.698 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 22:13:05.739 +04:00 [DBG] Connection ID "18014398554042269908" disconnecting.
2022-03-28 22:13:05.739 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 22:13:05.749 +04:00 [INF] Request finished in 75.233ms 301 
2022-03-28 22:13:05.790 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 22:13:05.910 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 22:13:05.913 +04:00 [INF] Request finished in 173.5525ms 200 text/html;charset=utf-8
2022-03-28 22:13:05.915 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 22:13:05.916 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 22:13:05.916 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 22:13:05.917 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 22:13:05.924 +04:00 [INF] Request finished in 7.7252ms 200 application/javascript; charset=utf-8
2022-03-28 22:13:05.954 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 22:13:05.954 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 22:13:05.954 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 22:13:05.954 +04:00 [INF] Request finished in 38.3202ms 200 application/javascript
2022-03-28 22:13:05.954 +04:00 [INF] Request finished in 38.3846ms 200 application/javascript
2022-03-28 22:13:05.954 +04:00 [INF] Request finished in 38.9025ms 200 text/css
2022-03-28 22:13:06.151 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 22:13:06.153 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 22:13:06.155 +04:00 [INF] Request finished in 4.0751ms 200 image/png
2022-03-28 22:13:06.322 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 22:13:06.475 +04:00 [INF] Request finished in 152.9495ms 200 application/json;charset=utf-8
2022-03-28 22:13:36.747 +04:00 [INF] Request starting HTTP/2.0 POST https://localhost:44376/Account/Login?userName=Abo1%40Gmail.Com&password=Aa123456%21  0
2022-03-28 22:13:36.749 +04:00 [DBG] POST requests are not supported
2022-03-28 22:13:36.795 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-03-28 22:13:36.803 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-03-28 22:13:36.804 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 22:13:36.953 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-03-28 22:13:36.956 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 22:13:36.967 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 22:13:37.019 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api).
2022-03-28 22:13:37.020 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 22:13:37.020 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 22:13:37.021 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 22:13:37.021 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 22:13:37.021 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 22:13:37.022 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 22:13:37.201 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 22:13:38.216 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 22:13:38.239 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 22:13:38.246 +04:00 [DBG] Attempting to bind parameter 'userName' of type 'System.String' ...
2022-03-28 22:13:38.250 +04:00 [DBG] Attempting to bind parameter 'userName' of type 'System.String' using the name 'userName' in request data ...
2022-03-28 22:13:38.251 +04:00 [DBG] Done attempting to bind parameter 'userName' of type 'System.String'.
2022-03-28 22:13:38.251 +04:00 [DBG] Done attempting to bind parameter 'userName' of type 'System.String'.
2022-03-28 22:13:38.251 +04:00 [DBG] Attempting to validate the bound parameter 'userName' of type 'System.String' ...
2022-03-28 22:13:38.254 +04:00 [DBG] Done attempting to validate the bound parameter 'userName' of type 'System.String'.
2022-03-28 22:13:38.255 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' ...
2022-03-28 22:13:38.256 +04:00 [DBG] Attempting to bind parameter 'password' of type 'System.String' using the name 'password' in request data ...
2022-03-28 22:13:38.256 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 22:13:38.256 +04:00 [DBG] Done attempting to bind parameter 'password' of type 'System.String'.
2022-03-28 22:13:38.256 +04:00 [DBG] Attempting to validate the bound parameter 'password' of type 'System.String' ...
2022-03-28 22:13:38.256 +04:00 [DBG] Done attempting to validate the bound parameter 'password' of type 'System.String'.
2022-03-28 22:13:42.004 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-03-28 22:13:42.004 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-03-28 22:13:42.045 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 22:13:42.178 +04:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-03-28 22:13:42.430 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string), 5], [Property: AppUser.LastName (string), 6], [Property: AppUser.LockoutEnabled (bool) Required, 7], [Property: AppUser.LockoutEnd (Nullable<DateTimeOffset>), 8], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 9], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 10], [Property: AppUser.PasswordHash (string), 11], [Property: AppUser.PhoneNumber (string), 12], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 13], [Property: AppUser.SecurityStamp (string), 14], [Property: AppUser.TwoFactorEnabled (bool) Required, 15], [Property: AppUser.UserName (string) MaxLength(256), 16], }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 22:13:42.503 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:13:42.541 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (33ms).
2022-03-28 22:13:42.554 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:13:44.011 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:13:44.028 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 22:13:44.097 +04:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 22:13:44.146 +04:00 [DBG] Context 'UserContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:13:44.226 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:13:44.230 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:13:44.237 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:13:53.875 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-03-28 22:13:53.945 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
    False, 
    False
)'
2022-03-28 22:13:53.949 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:13:53.950 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 22:13:53.950 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:13:53.953 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:13:53.954 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-03-28 22:13:54.034 +04:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-03-28 22:13:56.186 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:13:56.187 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:13:56.187 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:14:07.890 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 22:14:07.895 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 22:14:07.895 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 22:14:07.895 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 22:14:07.898 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-03-28 22:14:07.899 +04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2022-03-28 22:14:07.921 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api) in 30883.4307ms
2022-03-28 22:14:07.923 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Login (Movies.ItAcademy.Api)'
2022-03-28 22:14:07.928 +04:00 [INF] HTTP POST /Account/Login responded 200 in 31174.0196 ms
2022-03-28 22:14:07.932 +04:00 [DBG] 'UserContext' disposed.
2022-03-28 22:14:07.938 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 22:14:07.938 +04:00 [INF] Request finished in 31196.3362ms 200 text/plain; charset=utf-8
2022-03-28 22:14:28.199 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 22:14:28.201 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 22:14:28.203 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 22:14:28.203 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 22:14:28.204 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 22:14:28.301 +04:00 [INF] Successfully validated the token.
2022-03-28 22:14:28.303 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-03-28 22:14:28.311 +04:00 [INF] Authorization was successful.
2022-03-28 22:14:28.312 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 22:14:28.335 +04:00 [INF] Route matched with {action = "GetMovieById", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]] GetMovieById(Int32) on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 22:14:28.336 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 22:14:28.336 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 22:14:28.336 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 22:14:28.336 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 22:14:28.336 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 22:14:28.336 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 22:14:28.346 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 22:14:28.347 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 22:14:28.348 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2022-03-28 22:14:28.348 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2022-03-28 22:14:28.348 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 22:14:28.348 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 22:14:28.349 +04:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2022-03-28 22:14:28.349 +04:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2022-03-28 22:14:28.362 +04:00 [DBG] Compiling query expression: 
'DbSet<Movie>()
    .Include(x => x.Tickets)
    .SingleOrDefault(x => x.Id == __Id_0)'
2022-03-28 22:14:28.385 +04:00 [DBG] Including navigation: 'Movie.Tickets'.
2022-03-28 22:14:28.471 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Movie>(
    asyncEnumerable: new SingleQueryingEnumerable<Movie>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.Actors, t.Archive, t.Director, t.Duration, t.Genre, t.ImageUrl, t.IsActive, t.Name, t.StartTime, t.Story, t0.Id, t0.CountTicket, t0.IsAcquired, t0.IsActive, t0.IsBooked, t0.IsCanceled, t0.MovieId, t0.UserName
            FROM Projection Mapping:
            (
                SELECT TOP(2) m.Id, m.Actors, m.Archive, m.Director, m.Duration, m.Genre, m.ImageUrl, m.IsActive, m.Name, m.StartTime, m.Story
                FROM Movies AS m
                WHERE m.Id == @__Id_0
            ) AS t
            LEFT JOIN Tickets AS t0 ON t.Id == t0.MovieId
            ORDER BY t.Id ASC, t0.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Movie>, 
        MoviesManagement.PersistanceDB.Context.MovieContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 22:14:28.476 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:14:28.477 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 22:14:28.478 +04:00 [DBG] Opening connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:14:28.499 +04:00 [DBG] Opened connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:14:28.505 +04:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 22:14:28.510 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 22:14:28.525 +04:00 [DBG] Context 'MovieContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:14:28.559 +04:00 [DBG] Context 'MovieContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:14:28.586 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:14:28.586 +04:00 [DBG] Closing connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:14:28.586 +04:00 [DBG] Closed connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:14:28.712 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 22:14:28.712 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 22:14:28.712 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 22:14:28.712 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 22:14:28.712 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-03-28 22:14:28.713 +04:00 [INF] Executing ObjectResult, writing value of type 'Movies.ItAcademy.Api.Models.DTO.MovieDTO'.
2022-03-28 22:14:28.725 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api) in 388.5711ms
2022-03-28 22:14:28.725 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 22:14:28.725 +04:00 [INF] HTTP GET /Movie/38 responded 200 in 523.7662 ms
2022-03-28 22:14:28.725 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 22:14:28.726 +04:00 [INF] Request finished in 527.2445ms 200 application/json; charset=utf-8
2022-03-28 22:18:37.735 +04:00 [DBG] Hosting starting
2022-03-28 22:18:37.855 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 22:18:37.865 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 22:18:37.900 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 22:18:37.913 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 22:18:37.926 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 22:18:37.931 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 22:18:37.934 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 22:18:37.941 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 22:18:37.948 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 22:18:37.953 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 22:18:37.954 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 22:18:38.260 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 22:18:38.260 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 22:18:38.260 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 22:18:38.261 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 22:18:38.261 +04:00 [INF] Hosting environment: Development
2022-03-28 22:18:38.261 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 22:18:38.261 +04:00 [DBG] Hosting started
2022-03-28 22:18:38.318 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 22:18:38.375 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 22:18:38.436 +04:00 [DBG] Connection ID "18302628925899014435" disconnecting.
2022-03-28 22:18:38.436 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 22:18:38.439 +04:00 [INF] Request finished in 128.0186ms 301 
2022-03-28 22:18:38.500 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 22:18:38.653 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 22:18:38.656 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 22:18:38.657 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 22:18:38.657 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 22:18:38.657 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 22:18:38.661 +04:00 [INF] Request finished in 224.6568ms 200 text/html;charset=utf-8
2022-03-28 22:18:38.677 +04:00 [INF] Request finished in 19.4572ms 200 application/javascript; charset=utf-8
2022-03-28 22:18:38.739 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 22:18:38.739 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 22:18:38.739 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 22:18:38.740 +04:00 [INF] Request finished in 82.976ms 200 application/javascript
2022-03-28 22:18:38.740 +04:00 [INF] Request finished in 84.2614ms 200 application/javascript
2022-03-28 22:18:38.740 +04:00 [INF] Request finished in 82.6607ms 200 text/css
2022-03-28 22:18:38.982 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 22:18:38.986 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 22:18:38.987 +04:00 [INF] Request finished in 4.6626ms 200 image/png
2022-03-28 22:18:39.244 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 22:18:39.245 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 22:18:39.252 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 22:18:39.291 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 22:18:39.299 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 22:18:39.300 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 22:18:39.483 +04:00 [INF] Request finished in 231.2894ms 200 application/json;charset=utf-8
2022-03-28 22:18:39.682 +04:00 [INF] Successfully validated the token.
2022-03-28 22:18:39.683 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-03-28 22:18:39.691 +04:00 [INF] Authorization was successful.
2022-03-28 22:18:39.692 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 22:18:39.700 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 22:18:39.743 +04:00 [INF] Route matched with {action = "GetMovieById", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Movies.ItAcademy.Api.Models.DTO.MovieDTO]] GetMovieById(Int32) on controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api).
2022-03-28 22:18:39.744 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 22:18:39.744 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 22:18:39.744 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 22:18:39.744 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 22:18:39.744 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 22:18:39.745 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 22:18:39.888 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 22:18:40.724 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 22:18:40.725 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.MovieController (Movies.ItAcademy.Api)
2022-03-28 22:18:40.734 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2022-03-28 22:18:40.736 +04:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2022-03-28 22:18:40.737 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 22:18:40.738 +04:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2022-03-28 22:18:40.738 +04:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2022-03-28 22:18:40.742 +04:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2022-03-28 22:18:40.856 +04:00 [DBG] Compiling query expression: 
'DbSet<Movie>()
    .Include(x => x.Tickets)
    .SingleOrDefault(x => x.Id == __Id_0)'
2022-03-28 22:18:40.895 +04:00 [DBG] Including navigation: 'Movie.Tickets'.
2022-03-28 22:18:41.120 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Movie>(
    asyncEnumerable: new SingleQueryingEnumerable<Movie>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.Actors, t.Archive, t.Director, t.Duration, t.Genre, t.ImageUrl, t.IsActive, t.Name, t.StartTime, t.Story, t0.Id, t0.CountTicket, t0.IsAcquired, t0.IsActive, t0.IsBooked, t0.IsCanceled, t0.MovieId, t0.UserName
            FROM Projection Mapping:
            (
                SELECT TOP(2) m.Id, m.Actors, m.Archive, m.Director, m.Duration, m.Genre, m.ImageUrl, m.IsActive, m.Name, m.StartTime, m.Story
                FROM Movies AS m
                WHERE m.Id == @__Id_0
            ) AS t
            LEFT JOIN Tickets AS t0 ON t.Id == t0.MovieId
            ORDER BY t.Id ASC, t0.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Movie>, 
        MoviesManagement.PersistanceDB.Context.MovieContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 22:18:41.164 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:18:41.198 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (30ms).
2022-03-28 22:18:41.209 +04:00 [DBG] Opening connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:18:41.446 +04:00 [DBG] Opened connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:18:41.457 +04:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 22:18:41.508 +04:00 [INF] Executed DbCommand (53ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Actors], [t].[Archive], [t].[Director], [t].[Duration], [t].[Genre], [t].[ImageUrl], [t].[IsActive], [t].[Name], [t].[StartTime], [t].[Story], [t0].[Id], [t0].[CountTicket], [t0].[IsAcquired], [t0].[IsActive], [t0].[IsBooked], [t0].[IsCanceled], [t0].[MovieId], [t0].[UserName]
FROM (
    SELECT TOP(2) [m].[Id], [m].[Actors], [m].[Archive], [m].[Director], [m].[Duration], [m].[Genre], [m].[ImageUrl], [m].[IsActive], [m].[Name], [m].[StartTime], [m].[Story]
    FROM [Movies] AS [m]
    WHERE [m].[Id] = @__Id_0
) AS [t]
LEFT JOIN [Tickets] AS [t0] ON [t].[Id] = [t0].[MovieId]
ORDER BY [t].[Id], [t0].[Id]
2022-03-28 22:18:41.550 +04:00 [DBG] Context 'MovieContext' started tracking 'Movie' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:18:41.607 +04:00 [DBG] Context 'MovieContext' started tracking 'Ticket' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:18:41.631 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:18:41.635 +04:00 [DBG] Closing connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:18:41.641 +04:00 [DBG] Closed connection to database 'MoviesDatabase' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:18:41.726 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 22:18:41.729 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 22:18:41.729 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 22:18:41.729 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 22:18:41.729 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-03-28 22:18:41.729 +04:00 [INF] Executing ObjectResult, writing value of type 'Movies.ItAcademy.Api.Models.DTO.MovieDTO'.
2022-03-28 22:18:41.741 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api) in 1992.7376ms
2022-03-28 22:18:41.742 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 22:18:41.745 +04:00 [INF] HTTP GET /Movie/38 responded 200 in 2497.0332 ms
2022-03-28 22:18:41.747 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 22:18:41.749 +04:00 [INF] Request finished in 2504.67ms 200 application/json; charset=utf-8
2022-03-28 22:18:47.774 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44376/Movie/38  
2022-03-28 22:18:47.775 +04:00 [DBG] The request path  does not match the path filter
2022-03-28 22:18:47.777 +04:00 [DBG] 1 candidate(s) found for the request path '/Movie/38'
2022-03-28 22:18:47.777 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)' with route pattern 'Movie/{Id}' is valid for the request path '/Movie/38'
2022-03-28 22:18:47.777 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.MovieController.GetMovieById (Movies.ItAcademy.Api)'
2022-03-28 22:18:47.969 +04:00 [INF] Failed to validate the token.
System.ArgumentException: IDX12729: Unable to decode the header '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. jwtEncodedString: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
 ---> Microsoft.IdentityModel.Json.JsonReaderException: Invalid character after parsing property name. Expected ':' but got: S. Path '', line 1, position 6.
   at Microsoft.IdentityModel.Json.JsonTextReader.ParseProperty()
   at Microsoft.IdentityModel.Json.JsonReader.ReadAndAssert()
   at Microsoft.IdentityModel.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Microsoft.IdentityModel.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Microsoft.IdentityModel.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Microsoft.IdentityModel.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Microsoft.IdentityModel.Json.JsonSerializer.Deserialize(JsonReader reader, Type objectType)
   at Microsoft.IdentityModel.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Microsoft.IdentityModel.Json.JsonConvert.DeserializeObject(String value, Type type)
   at System.IdentityModel.Tokens.Jwt.JsonExtensions.DeserializeJwtHeader(String jsonString)
   at System.IdentityModel.Tokens.Jwt.JwtHeader.Base64UrlDeserialize(String base64UrlEncodedJsonString)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityToken.Decode(String[] tokenParts, String rawData)
   --- End of inner exception stack trace ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityToken.Decode(String[] tokenParts, String rawData)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ReadJwtToken(String token)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location where exception was thrown ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-03-28 22:18:48.011 +04:00 [INF] Bearer was not authenticated. Failure message: IDX12729: Unable to decode the header '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. jwtEncodedString: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
2022-03-28 22:18:48.012 +04:00 [INF] Authorization failed.
2022-03-28 22:18:48.022 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-03-28 22:18:48.022 +04:00 [INF] HTTP GET /Movie/38 responded 401 in 246.5797 ms
2022-03-28 22:18:48.024 +04:00 [INF] Request finished in 250.3656ms 401 
2022-03-28 22:32:52.462 +04:00 [DBG] Hosting starting
2022-03-28 22:32:52.553 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 22:32:52.560 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 22:32:52.587 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 22:32:52.596 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 22:32:52.605 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 22:32:52.609 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 22:32:52.611 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 22:32:52.615 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 22:32:52.619 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 22:32:52.625 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 22:32:52.626 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 22:32:52.910 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 22:32:52.910 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 22:32:52.910 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 22:32:52.911 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 22:32:52.911 +04:00 [INF] Hosting environment: Development
2022-03-28 22:32:52.911 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 22:32:52.911 +04:00 [DBG] Hosting started
2022-03-28 22:32:52.954 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 22:32:52.983 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 22:32:53.019 +04:00 [DBG] Connection ID "18302628930193981781" disconnecting.
2022-03-28 22:32:53.020 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 22:32:53.021 +04:00 [INF] Request finished in 69.7196ms 301 
2022-03-28 22:32:53.068 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 22:32:53.180 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 22:32:53.183 +04:00 [INF] Request finished in 163.3082ms 200 text/html;charset=utf-8
2022-03-28 22:32:53.185 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 22:32:53.185 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 22:32:53.185 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 22:32:53.186 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 22:32:53.194 +04:00 [INF] Request finished in 8.181ms 200 application/javascript; charset=utf-8
2022-03-28 22:32:53.255 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 22:32:53.255 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 22:32:53.255 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 22:32:53.255 +04:00 [INF] Request finished in 70.2943ms 200 application/javascript
2022-03-28 22:32:53.255 +04:00 [INF] Request finished in 70.4487ms 200 text/css
2022-03-28 22:32:53.255 +04:00 [INF] Request finished in 70.1768ms 200 application/javascript
2022-03-28 22:32:53.435 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 22:32:53.437 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 22:32:53.438 +04:00 [INF] Request finished in 3.4482ms 200 image/png
2022-03-28 22:32:53.582 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 22:32:53.715 +04:00 [INF] Request finished in 133.2499ms 200 application/json;charset=utf-8
2022-03-28 22:34:13.069 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44376/ application/json 161
2022-03-28 22:34:13.070 +04:00 [DBG] POST requests are not supported
2022-03-28 22:34:13.097 +04:00 [DBG] No candidates found for the request path '/'
2022-03-28 22:34:13.097 +04:00 [DBG] Request did not match any endpoints
2022-03-28 22:34:13.202 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-03-28 22:34:13.205 +04:00 [INF] HTTP POST / responded 404 in 132.2258 ms
2022-03-28 22:34:13.208 +04:00 [INF] Request finished in 144.3474ms 404 
2022-03-28 22:34:22.078 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44376/Register application/json 161
2022-03-28 22:34:22.080 +04:00 [DBG] POST requests are not supported
2022-03-28 22:34:22.084 +04:00 [DBG] No candidates found for the request path '/Register'
2022-03-28 22:34:22.084 +04:00 [DBG] Request did not match any endpoints
2022-03-28 22:34:22.086 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-03-28 22:34:22.092 +04:00 [INF] HTTP POST /Register responded 404 in 7.3016 ms
2022-03-28 22:34:22.107 +04:00 [INF] Request finished in 28.4993ms 404 
2022-03-28 22:35:00.623 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44376/Account/Register application/json 161
2022-03-28 22:35:00.630 +04:00 [DBG] POST requests are not supported
2022-03-28 22:35:00.632 +04:00 [DBG] No candidates found for the request path '/Account/Register'
2022-03-28 22:35:00.632 +04:00 [DBG] Request did not match any endpoints
2022-03-28 22:35:00.636 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-03-28 22:35:00.636 +04:00 [INF] HTTP POST /Account/Register responded 404 in 6.0446 ms
2022-03-28 22:35:00.639 +04:00 [INF] Request finished in 16.5078ms 404 
2022-03-28 22:35:22.458 +04:00 [DBG] Hosting starting
2022-03-28 22:35:22.547 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 22:35:22.555 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 22:35:22.581 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 22:35:22.589 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 22:35:22.599 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 22:35:22.603 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 22:35:22.605 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 22:35:22.612 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 22:35:22.619 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 22:35:22.624 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 22:35:22.625 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 22:35:22.877 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 22:35:22.877 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 22:35:22.878 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 22:35:22.878 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 22:35:22.878 +04:00 [INF] Hosting environment: Development
2022-03-28 22:35:22.879 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 22:35:22.879 +04:00 [DBG] Hosting started
2022-03-28 22:35:22.920 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 22:35:22.951 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 22:35:22.986 +04:00 [DBG] Connection ID "18158513750708060560" disconnecting.
2022-03-28 22:35:22.986 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 22:35:22.987 +04:00 [INF] Request finished in 66.6757ms 301 
2022-03-28 22:35:23.027 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 22:35:23.147 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 22:35:23.149 +04:00 [INF] Request finished in 163.1477ms 200 text/html;charset=utf-8
2022-03-28 22:35:23.151 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 22:35:23.151 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 22:35:23.151 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 22:35:23.151 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 22:35:23.159 +04:00 [INF] Request finished in 7.5786ms 200 application/javascript; charset=utf-8
2022-03-28 22:35:23.210 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 22:35:23.210 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 22:35:23.210 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 22:35:23.210 +04:00 [INF] Request finished in 59.2065ms 200 text/css
2022-03-28 22:35:23.210 +04:00 [INF] Request finished in 59.1481ms 200 application/javascript
2022-03-28 22:35:23.210 +04:00 [INF] Request finished in 59.2474ms 200 application/javascript
2022-03-28 22:35:23.383 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 22:35:23.383 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 22:35:23.384 +04:00 [INF] Request finished in 0.9529ms 200 image/png
2022-03-28 22:35:23.529 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/v1/swagger.json  
2022-03-28 22:35:23.648 +04:00 [INF] Request finished in 119.1704ms 200 application/json;charset=utf-8
2022-03-28 22:36:52.082 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44376/Account/Register application/json 161
2022-03-28 22:36:52.083 +04:00 [DBG] POST requests are not supported
2022-03-28 22:36:52.142 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-03-28 22:36:52.151 +04:00 [DBG] Endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Register (Movies.ItAcademy.Api)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-03-28 22:36:52.152 +04:00 [DBG] Request matched endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Register (Movies.ItAcademy.Api)'
2022-03-28 22:36:52.289 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-03-28 22:36:52.292 +04:00 [INF] Executing endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Register (Movies.ItAcademy.Api)'
2022-03-28 22:36:52.305 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2022-03-28 22:36:52.355 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Movies.ItAcademy.Api.Models.Requests.Register) on controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api).
2022-03-28 22:36:52.356 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-03-28 22:36:52.356 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-03-28 22:36:52.357 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-03-28 22:36:52.357 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-03-28 22:36:52.357 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-03-28 22:36:52.359 +04:00 [DBG] Executing controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 22:36:52.513 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-03-28 22:36:53.385 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'MovieContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 22:36:53.408 +04:00 [DBG] Executed controller factory for controller Movies.ItAcademy.Api.Controllers.AccountController (Movies.ItAcademy.Api)
2022-03-28 22:36:53.415 +04:00 [DBG] Attempting to bind parameter 'register' of type 'Movies.ItAcademy.Api.Models.Requests.Register' ...
2022-03-28 22:36:53.418 +04:00 [DBG] Attempting to bind parameter 'register' of type 'Movies.ItAcademy.Api.Models.Requests.Register' using the name '' in request data ...
2022-03-28 22:36:53.419 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-03-28 22:36:53.429 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'Movies.ItAcademy.Api.Models.Requests.Register'
2022-03-28 22:36:53.430 +04:00 [DBG] Done attempting to bind parameter 'register' of type 'Movies.ItAcademy.Api.Models.Requests.Register'.
2022-03-28 22:36:53.430 +04:00 [DBG] Done attempting to bind parameter 'register' of type 'Movies.ItAcademy.Api.Models.Requests.Register'.
2022-03-28 22:36:53.430 +04:00 [DBG] Attempting to validate the bound parameter 'register' of type 'Movies.ItAcademy.Api.Models.Requests.Register' ...
2022-03-28 22:36:53.434 +04:00 [DBG] Done attempting to validate the bound parameter 'register' of type 'Movies.ItAcademy.Api.Models.Requests.Register'.
2022-03-28 22:37:02.271 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-03-28 22:37:02.272 +04:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-03-28 22:37:02.310 +04:00 [INF] Entity Framework Core 5.0.15 initialized 'UserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-03-28 22:37:02.418 +04:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-03-28 22:37:02.631 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string), 5], [Property: AppUser.LastName (string), 6], [Property: AppUser.LockoutEnabled (bool) Required, 7], [Property: AppUser.LockoutEnd (Nullable<DateTimeOffset>), 8], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 9], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 10], [Property: AppUser.PasswordHash (string), 11], [Property: AppUser.PhoneNumber (string), 12], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 13], [Property: AppUser.SecurityStamp (string), 14], [Property: AppUser.TwoFactorEnabled (bool) Required, 15], [Property: AppUser.UserName (string) MaxLength(256), 16], }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 22:37:02.685 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:37:02.725 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (34ms).
2022-03-28 22:37:02.740 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:09.817 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:09.843 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 22:37:09.937 +04:00 [INF] Executed DbCommand (108ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 22:37:09.958 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:37:09.964 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:09.974 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:10.122 +04:00 [DBG] Context 'UserContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:37:10.125 +04:00 [DBG] SaveChanges starting for 'UserContext'.
2022-03-28 22:37:10.129 +04:00 [DBG] DetectChanges starting for 'UserContext'.
2022-03-28 22:37:10.145 +04:00 [DBG] DetectChanges completed for 'UserContext'.
2022-03-28 22:37:10.164 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:10.166 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:10.167 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-03-28 22:37:10.176 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-03-28 22:37:10.232 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:37:10.233 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 22:37:10.235 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2022-03-28 22:37:10.254 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2022-03-28 22:37:10.259 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:37:10.263 +04:00 [DBG] Committing transaction.
2022-03-28 22:37:10.266 +04:00 [DBG] Committed transaction.
2022-03-28 22:37:10.268 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:10.269 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:10.271 +04:00 [DBG] Disposing transaction.
2022-03-28 22:37:10.282 +04:00 [DBG] An entity of type 'AppUser' tracked by 'UserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:37:10.284 +04:00 [DBG] SaveChanges completed for 'UserContext' with 1 entities written to the database.
2022-03-28 22:37:19.273 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2022-03-28 22:37:19.280 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3], }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 22:37:19.281 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:37:19.282 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 22:37:19.282 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:19.282 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:19.282 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-03-28 22:37:19.314 +04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-03-28 22:37:21.707 +04:00 [DBG] Context 'UserContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:37:21.717 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:37:21.717 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.717 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.731 +04:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2022-03-28 22:37:21.754 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1], }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        MoviesManagement.PersistanceDB.IdentityContext.UserContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-03-28 22:37:21.756 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:37:21.756 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 22:37:21.757 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.757 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.757 +04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2022-03-28 22:37:21.772 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2022-03-28 22:37:21.773 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:37:21.773 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.774 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.788 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:37:21.788 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 22:37:21.788 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.788 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.788 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-03-28 22:37:21.792 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-03-28 22:37:21.799 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:37:21.799 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.799 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.816 +04:00 [DBG] Context 'UserContext' started tracking 'IdentityUserRole<string>' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:37:21.819 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:37:21.819 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 22:37:21.819 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.820 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.820 +04:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 22:37:21.824 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-03-28 22:37:21.826 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:37:21.827 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.828 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.834 +04:00 [DBG] An entity of type 'AppUser' tracked by 'UserContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:37:21.835 +04:00 [DBG] SaveChanges starting for 'UserContext'.
2022-03-28 22:37:21.835 +04:00 [DBG] DetectChanges starting for 'UserContext'.
2022-03-28 22:37:21.840 +04:00 [DBG] DetectChanges completed for 'UserContext'.
2022-03-28 22:37:21.841 +04:00 [DBG] Opening connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.841 +04:00 [DBG] Opened connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.841 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-03-28 22:37:21.842 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-03-28 22:37:21.858 +04:00 [DBG] Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
2022-03-28 22:37:21.858 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:37:21.858 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 22:37:21.858 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2022-03-28 22:37:21.865 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2022-03-28 22:37:21.866 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:37:21.869 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-03-28 22:37:21.869 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-03-28 22:37:21.869 +04:00 [DBG] Executing DbCommand [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2022-03-28 22:37:21.879 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2022-03-28 22:37:21.882 +04:00 [DBG] A data reader was disposed.
2022-03-28 22:37:21.882 +04:00 [DBG] Committing transaction.
2022-03-28 22:37:21.883 +04:00 [DBG] Committed transaction.
2022-03-28 22:37:21.883 +04:00 [DBG] Closing connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.883 +04:00 [DBG] Closed connection to database 'UserIdentityDb' on server '(localdb)\MSSQLLocalDB'.
2022-03-28 22:37:21.883 +04:00 [DBG] Disposing transaction.
2022-03-28 22:37:21.884 +04:00 [DBG] An entity of type 'IdentityUserRole<string>' tracked by 'UserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:37:21.884 +04:00 [DBG] An entity of type 'AppUser' tracked by 'UserContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-03-28 22:37:21.884 +04:00 [DBG] SaveChanges completed for 'UserContext' with 2 entities written to the database.
2022-03-28 22:37:24.325 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-03-28 22:37:24.329 +04:00 [DBG] No information found on request to perform content negotiation.
2022-03-28 22:37:24.329 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-03-28 22:37:24.329 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-03-28 22:37:24.330 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-03-28 22:37:24.331 +04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Identity.IdentityResult'.
2022-03-28 22:37:24.344 +04:00 [INF] Executed action Movies.ItAcademy.Api.Controllers.AccountController.Register (Movies.ItAcademy.Api) in 31980.2173ms
2022-03-28 22:37:24.346 +04:00 [INF] Executed endpoint 'Movies.ItAcademy.Api.Controllers.AccountController.Register (Movies.ItAcademy.Api)'
2022-03-28 22:37:24.349 +04:00 [INF] HTTP POST /Account/Register responded 200 in 32262.4782 ms
2022-03-28 22:37:24.353 +04:00 [DBG] 'UserContext' disposed.
2022-03-28 22:37:24.355 +04:00 [DBG] 'MovieContext' disposed.
2022-03-28 22:37:24.356 +04:00 [INF] Request finished in 32278.3918ms 200 application/json; charset=utf-8
2022-03-28 22:38:28.523 +04:00 [DBG] Hosting starting
2022-03-28 22:38:28.633 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-03-28 22:38:28.650 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-03-28 22:38:28.687 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-03-28 22:38:28.704 +04:00 [DBG] Considering key {74607914-250c-4ef9-92bc-e41fb656f379} with expiration date 2022-05-07 15:40:59Z as default key.
2022-03-28 22:38:28.720 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 22:38:28.727 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-03-28 22:38:28.731 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.22.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-03-28 22:38:28.738 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-03-28 22:38:28.744 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-03-28 22:38:28.752 +04:00 [DBG] Using key {74607914-250c-4ef9-92bc-e41fb656f379} as the default key.
2022-03-28 22:38:28.753 +04:00 [DBG] Key ring with default key {74607914-250c-4ef9-92bc-e41fb656f379} was loaded during application startup.
2022-03-28 22:38:29.107 +04:00 [DBG] Loaded hosting startup assembly Movies.ItAcademy.Api
2022-03-28 22:38:29.107 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-03-28 22:38:29.107 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-03-28 22:38:29.108 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-03-28 22:38:29.108 +04:00 [INF] Hosting environment: Development
2022-03-28 22:38:29.108 +04:00 [INF] Content root path: C:\Users\user\source\repos\Movies.ItAcademy.Ge\Movies.ItAcademy.Api
2022-03-28 22:38:29.108 +04:00 [DBG] Hosting started
2022-03-28 22:38:29.155 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger  
2022-03-28 22:38:29.186 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-03-28 22:38:29.229 +04:00 [DBG] Connection ID "18374686502757073167" disconnecting.
2022-03-28 22:38:29.229 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/index.html  
2022-03-28 22:38:29.231 +04:00 [INF] Request finished in 79.0782ms 301 
2022-03-28 22:38:29.283 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-03-28 22:38:29.392 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-03-28 22:38:29.394 +04:00 [INF] Request finished in 164.657ms 200 text/html;charset=utf-8
2022-03-28 22:38:29.397 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui.css  
2022-03-28 22:38:29.398 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-standalone-preset.js  
2022-03-28 22:38:29.398 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/swagger-ui-bundle.js  
2022-03-28 22:38:29.458 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-03-28 22:38:29.458 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-03-28 22:38:29.458 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-03-28 22:38:29.459 +04:00 [INF] Request finished in 61.748ms 200 text/css
2022-03-28 22:38:29.459 +04:00 [INF] Request finished in 61.0407ms 200 application/javascript
2022-03-28 22:38:29.459 +04:00 [INF] Request finished in 61.129ms 200 application/javascript
2022-03-28 22:38:29.489 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/_framework/aspnetcore-browser-refresh.js  
2022-03-28 22:38:29.493 +04:00 [INF] Request finished in 3.7307ms 200 application/javascript; charset=utf-8
2022-03-28 22:38:29.686 +04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44376/swagger/favicon-32x32.png  
2022-03-28 22:38:29.689 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-03-28 22:38:29.691 +04:00 [INF] Request finished in 4.542ms 200 image/png
